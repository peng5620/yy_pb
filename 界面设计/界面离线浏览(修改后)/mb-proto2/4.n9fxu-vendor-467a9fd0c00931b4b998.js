(self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[]).push([[908],{93839:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>Z});var i=s(74059),y=s(51044),N=s(86634),p=s.n(N),j=s(87822),re=s(57464);class Z extends y.PureComponent{constructor(){super(...arguments),(0,i.A)(this,"getClassName",()=>{const{className:P,type:q,size:J,corner:te,disabled:G}=this.props;return p()(P,"button-root",{["type-"+q]:q,["size-"+J]:J,["corner-"+te]:te,"is-disabled":G})}),(0,i.A)(this,"onButtonClick",P=>{if(this.props.disabled){P.preventDefault();return}const{onClick:q}=this.props;q&&q(P)}),(0,i.A)(this,"onButtonMouseDown",P=>{if(this.props.disabled){P.preventDefault();return}const{onMouseDown:q}=this.props;q&&q(P)}),(0,i.A)(this,"getChildrenNode",()=>(0,re.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const P=this.getClassName(),q=this.getChildrenNode();return(0,re.jsx)(j.O,{className:P,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,re.jsx)("div",{className:"btn-icon-text-container",children:q})})}}(0,i.A)(Z,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},15388:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>P});var i=s(74059),y=s(51044),N=s(86634),p=s.n(N),j=s(57464);function re(q){let{className:J,renderIconList:te}=q;return(0,j.jsx)("span",{className:p()("btn-icon",J),children:te.map((G,F)=>(0,j.jsx)("span",{className:"btn-icon-container",children:(0,j.jsx)(j.Fragment,{children:G})},F))})}const Z=re;var z=s(87822);class P extends y.PureComponent{constructor(J){super(J),(0,i.A)(this,"getClassName",()=>{const{className:te,type:G,size:F,corner:A,disabled:V,icon:U,children:a}=this.props;return p()(te,"button-root",{["type-"+G]:G,["size-"+F]:F,["corner-"+A]:A,"is-disabled":V,"has-icon":U&&a,"only-icon":U&&a===void 0})}),(0,i.A)(this,"onButtonClick",te=>{if(this.props.disabled){te.preventDefault();return}const{onClick:G}=this.props;G&&G(te)}),(0,i.A)(this,"getIconNode",()=>(0,j.jsx)(Z,{renderIconList:this.state.iconList,className:this.props.className})),(0,i.A)(this,"getChildrenNode",()=>(0,j.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(J){let{icon:te}=J;const{icon:G}=this.props;te!==G&&this.setState({iconList:G?[this.props.icon]:[]})}render(){const J=this.getClassName(),te=this.getIconNode(),G=this.getChildrenNode();return(0,j.jsx)(z.O,{className:J,onClick:this.onButtonClick,children:(0,j.jsxs)("div",{className:p()("btn-icon-text-container"),children:[te,G]})})}}(0,i.A)(P,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},87822:(Ce,ue,s)=>{"use strict";s.d(ue,{O:()=>N});var i=s(21676),y=s(73542);const N=i.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-166yiuz-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:PingFang SC;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],y.q.color_text_L2,y.q.color_bg_normal,y.q.color_split_line,y.q.color_bg_btn_normal_hover,y.q.color_bg_btn_normal_active,y.q.color_text_white,y.q.color_btn_primary_normal,y.q.color_btn_primary_hover,y.q.color_btn_primary_click,y.q.color_text_L2,y.q.color_bg_secondary_btn,y.q.color_btn_secondary_border_normal,y.q.color_btn_secondary_hover,y.q.color_btn_secondary_border_hover,y.q.color_btn_secondary_click,y.q.color_btn_primary_normal,y.q.color_btn_primary_hover,y.q.color_btn_primary_click,y.q.color_text_L2,y.q.color_text_L3,y.q.color_text_L1,y.q.color_btn_danger_normal,y.q.color_text_white,y.q.color_btn_danger_hover,y.q.color_btn_danger_click,y.q.color_text_L2,y.q.color_text_L3,y.q.color_text_L1)},73542:(Ce,ue,s)=>{"use strict";s.d(ue,{q:()=>y});const i={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#35445D",primary_gray_02:"#5D6F8F",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},y={color_btn_primary_normal:i.primary_blue_02,color_btn_primary_hover:i.primary_blue_03,color_btn_primary_click:i.primary_blue_01,color_btn_primary_disable:i.primary_blue_05,color_btn_secondary_click:i.primary_blue_06,color_btn_secondary_normal:i.primary_blue_08,color_btn_secondary_hover:i.primary_blue_07,color_btn_outline_click:i.primary_gray_07,color_btn_outline_normal:i.common_white,color_btn_outline_hover:i.primary_gray_08,color_bg_normal:i.common_white,color_bg_card:i.primary_blue_08,color_bg_menu_click:i.primary_blue_06,color_bg_card_hover:i.primary_gray_07,color_bg_menu_hover:i.primary_blue_07,color_bg_input_hover:i.primary_gray_08,color_bg_input_normal:i.primary_gray_09,color_bg_item_gray:i.primary_gray_08,color_bg_item_hover:i.primary_gray_09,color_bg_fill_common_blue:i.primary_blue_02,color_bg_menu_drag_border:i.primary_blue_06,color_bg_card_hover_fusion_gray:i.primary_gray_06,color_bg_card_hover_fusion_blue:i.primary_blue_05,color_bg_card_hover_fusion:i.primary_gray_06,color_bg_secondary_btn:i.primary_blue_08,color_bg_btn_normal_hover:i.primary_gray_08,color_bg_btn_normal_active:i.primary_gray_07,color_bg_icon_gray:i.primary_gray_04,color_bg_icon_hover:i.primary_gray_03,color_text_L1:i.primary_gray_01,color_text_L2:i.primary_gray_02,color_text_L3:i.primary_gray_03,color_text_L4:i.primary_gray_04,color_text_L5:i.primary_blue_02,color_text_white:i.common_white,color_text_blue:i.primary_blue_02,color_text_blue_hover:i.primary_blue_01,color_text_blue_active:i.primary_blue_03,color_text_disable_01:i.primary_gray_05,color_tab_line:i.primary_gray_06,color_split_line:i.primary_gray_07,color_border_blue_common:i.primary_blue_02,color_btn_border_normal:i.primary_blue_05,color_btn_border_disable:i.primary_blue_07,color_btn_secondary_border_normal:i.primary_blue_06,color_btn_secondary_border_hover:i.primary_blue_07,color_btn_danger_normal:i.primary_red_02,color_btn_danger_hover:i.primary_red_03,color_btn_danger_click:i.primary_red_01,color_btn_danger_disable:i.primary_red_04,color_bg_modal_item_header:i.primary_gray_09,color_bg_light_red:i.primary_red_05,color_alarm_common:i.primary_red_02}},56511:(Ce,ue,s)=>{"use strict";s.d(ue,{N:()=>N,l:()=>p});var i=s(85782),y=s(35236);const N=async(j,re,Z)=>{const[z,P]=await(0,i.Vz)(y.r,j),q="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:re,treLen:String(P.byteLength),treRawLen:String(z)}),J=await fetch(q,{method:"POST",body:P,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(Z))}});if(!J.ok)throw Object.assign(new Error("failed to create new flpak: "+q),{message:await J.text(),status:J.status});return J.json()},p=async(j,re,Z)=>{const[z,P]=await(0,i.Vz)(y.r,j),q="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:re,treLen:String(P.byteLength),treRawLen:String(z)}),J=await fetch(q,{method:"POST",body:P,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(Z))}});if(!J.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+q),{message:await J.text(),status:J.status});return J.json()}},81811:(Ce,ue,s)=>{"use strict";s.d(ue,{pX:()=>Mo,O3:()=>Hs,ur:()=>jo});var i={};if(s.r(i),s.d(i,{Decoder:()=>zn,Encoder:()=>Gs,PacketType:()=>ht,protocol:()=>Ys}),s.j!=15)var y=s(25506);if(s.j!=15)var N=s(16515);const p=Object.create(null);p.open="0",p.close="1",p.ping="2",p.pong="3",p.message="4",p.upgrade="5",p.noop="6";const j=Object.create(null);Object.keys(p).forEach(r=>{j[p[r]]=r});const re={type:"error",data:"parser error"},Z=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",z=typeof ArrayBuffer=="function",P=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,q=(r,t,o)=>{let{type:h,data:T}=r;return Z&&T instanceof Blob?t?o(T):J(T,o):z&&(T instanceof ArrayBuffer||P(T))?t?o(T):J(new Blob([T]),o):o(p[h]+(T||""))},J=(r,t)=>{const o=new FileReader;return o.onload=function(){const h=o.result.split(",")[1];t("b"+(h||""))},o.readAsDataURL(r)};function te(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let G;function F(r,t){if(Z&&r.data instanceof Blob)return r.data.arrayBuffer().then(te).then(t);if(z&&(r.data instanceof ArrayBuffer||P(r.data)))return t(te(r.data));q(r,!1,o=>{G||(G=new TextEncoder),t(G.encode(o))})}const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<A.length;r++)V[A.charCodeAt(r)]=r;const U=r=>{let t=new Uint8Array(r),o,h=t.length,T="";for(o=0;o<h;o+=3)T+=A[t[o]>>2],T+=A[(t[o]&3)<<4|t[o+1]>>4],T+=A[(t[o+1]&15)<<2|t[o+2]>>6],T+=A[t[o+2]&63];return h%3===2?T=T.substring(0,T.length-1)+"=":h%3===1&&(T=T.substring(0,T.length-2)+"=="),T},a=r=>{let t=r.length*.75,o=r.length,h,T=0,ae,Ie,je,Pe;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);const Fe=new ArrayBuffer(t),Oe=new Uint8Array(Fe);for(h=0;h<o;h+=4)ae=V[r.charCodeAt(h)],Ie=V[r.charCodeAt(h+1)],je=V[r.charCodeAt(h+2)],Pe=V[r.charCodeAt(h+3)],Oe[T++]=ae<<2|Ie>>4,Oe[T++]=(Ie&15)<<4|je>>2,Oe[T++]=(je&3)<<6|Pe&63;return Fe},w=typeof ArrayBuffer=="function",b=(r,t)=>{if(typeof r!="string")return{type:"message",data:c(r,t)};const o=r.charAt(0);return o==="b"?{type:"message",data:x(r.substring(1),t)}:j[o]?r.length>1?{type:j[o],data:r.substring(1)}:{type:j[o]}:re},x=(r,t)=>{if(w){const o=a(r);return c(o,t)}else return{base64:!0,data:r}},c=(r,t)=>{switch(t){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},g="",f=(r,t)=>{const o=r.length,h=new Array(o);let T=0;r.forEach((ae,Ie)=>{q(ae,!1,je=>{h[Ie]=je,++T===o&&t(h.join(g))})})},I=(r,t)=>{const o=r.split(g),h=[];for(let T=0;T<o.length;T++){const ae=b(o[T],t);if(h.push(ae),ae.type==="error")break}return h};function D(){return new TransformStream({transform(r,t){F(r,o=>{const h=o.length;let T;if(h<126)T=new Uint8Array(1),new DataView(T.buffer).setUint8(0,h);else if(h<65536){T=new Uint8Array(3);const ae=new DataView(T.buffer);ae.setUint8(0,126),ae.setUint16(1,h)}else{T=new Uint8Array(9);const ae=new DataView(T.buffer);ae.setUint8(0,127),ae.setBigUint64(1,BigInt(h))}r.data&&typeof r.data!="string"&&(T[0]|=128),t.enqueue(T),t.enqueue(o)})}})}let S;function R(r){return r.reduce((t,o)=>t+o.length,0)}function O(r,t){if(r[0].length===t)return r.shift();const o=new Uint8Array(t);let h=0;for(let T=0;T<t;T++)o[T]=r[0][h++],h===r[0].length&&(r.shift(),h=0);return r.length&&h<r[0].length&&(r[0]=r[0].slice(h)),o}function ee(r,t){S||(S=new TextDecoder);const o=[];let h=0,T=-1,ae=!1;return new TransformStream({transform(Ie,je){for(o.push(Ie);;){if(h===0){if(R(o)<1)break;const Pe=O(o,1);ae=(Pe[0]&128)===128,T=Pe[0]&127,T<126?h=3:T===126?h=1:h=2}else if(h===1){if(R(o)<2)break;const Pe=O(o,2);T=new DataView(Pe.buffer,Pe.byteOffset,Pe.length).getUint16(0),h=3}else if(h===2){if(R(o)<8)break;const Pe=O(o,8),Fe=new DataView(Pe.buffer,Pe.byteOffset,Pe.length),Oe=Fe.getUint32(0);if(Oe>Math.pow(2,21)-1){je.enqueue(re);break}T=Oe*Math.pow(2,32)+Fe.getUint32(4),h=3}else{if(R(o)<T)break;const Pe=O(o,T);je.enqueue(b(ae?Pe:S.decode(Pe),t)),h=0}if(T===0||T>r){je.enqueue(re);break}}}})}const E=4;function B(r){if(r)return X(r)}function X(r){for(var t in B.prototype)r[t]=B.prototype[t];return r}B.prototype.on=B.prototype.addEventListener=function(r,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(t),this},B.prototype.once=function(r,t){function o(){this.off(r,o),t.apply(this,arguments)}return o.fn=t,this.on(r,o),this},B.prototype.off=B.prototype.removeListener=B.prototype.removeAllListeners=B.prototype.removeEventListener=function(r,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+r];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var h,T=0;T<o.length;T++)if(h=o[T],h===t||h.fn===t){o.splice(T,1);break}return o.length===0&&delete this._callbacks["$"+r],this},B.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),o=this._callbacks["$"+r],h=1;h<arguments.length;h++)t[h-1]=arguments[h];if(o){o=o.slice(0);for(var h=0,T=o.length;h<T;++h)o[h].apply(this,t)}return this},B.prototype.emitReserved=B.prototype.emit,B.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},B.prototype.hasListeners=function(r){return!!this.listeners(r).length};const ne=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function se(r){for(var t=arguments.length,o=new Array(t>1?t-1:0),h=1;h<t;h++)o[h-1]=arguments[h];return o.reduce((T,ae)=>(r.hasOwnProperty(ae)&&(T[ae]=r[ae]),T),{})}const fe=ne.setTimeout,Me=ne.clearTimeout;function Ae(r,t){t.useNativeTimers?(r.setTimeoutFn=fe.bind(ne),r.clearTimeoutFn=Me.bind(ne)):(r.setTimeoutFn=ne.setTimeout.bind(ne),r.clearTimeoutFn=ne.clearTimeout.bind(ne))}const Re=1.33;function Ue(r){return typeof r=="string"?He(r):Math.ceil((r.byteLength||r.size)*Re)}function He(r){let t=0,o=0;for(let h=0,T=r.length;h<T;h++)t=r.charCodeAt(h),t<128?o+=1:t<2048?o+=2:t<55296||t>=57344?o+=3:(h++,o+=4);return o}function $e(r){let t="";for(let o in r)r.hasOwnProperty(o)&&(t.length&&(t+="&"),t+=encodeURIComponent(o)+"="+encodeURIComponent(r[o]));return t}function ve(r){let t={},o=r.split("&");for(let h=0,T=o.length;h<T;h++){let ae=o[h].split("=");t[decodeURIComponent(ae[0])]=decodeURIComponent(ae[1])}return t}class Y extends Error{constructor(t,o,h){super(t),this.description=o,this.context=h,this.type="TransportError"}}class $ extends B{constructor(t){super(),this.writable=!1,Ae(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,o,h){return super.emitReserved("error",new Y(t,o,h)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const o=b(t,this.socket.binaryType);this.onPacket(o)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,o){return o===void 0&&(o={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const o=$e(t);return o.length?"?"+o:""}}const he="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_e=64,we={};let Be=0,n=0,De;function Ye(r){let t="";do t=he[r%_e]+t,r=Math.floor(r/_e);while(r>0);return t}function qe(r){let t=0;for(n=0;n<r.length;n++)t=t*_e+we[r.charAt(n)];return t}function ut(){const r=Ye(+new Date);return r!==De?(Be=0,De=r):r+"."+Ye(Be++)}for(;n<_e;n++)we[he[n]]=n;let pt=!1;try{pt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(r){}const lt=pt;function ft(r){const t=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||lt))return new XMLHttpRequest}catch(o){}if(!t)try{return new ne[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(o){}}function Tt(){}function Ct(){}const Ot=function(){return new ft({xdomain:!1}).responseType!=null}();class Pt extends ${constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const h=location.protocol==="https:";let T=location.port;T||(T=h?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||T!==t.port}const o=t&&t.forceBase64;this.supportsBinary=Ot&&!o,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const o=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let h=0;this.polling&&(h++,this.once("pollComplete",function(){--h||o()})),this.writable||(h++,this.once("drain",function(){--h||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const o=h=>{if(this.readyState==="opening"&&h.type==="open"&&this.onOpen(),h.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(h)};I(t,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,f(t,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=ut()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(t,o)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new bt(this.uri(),t)}doWrite(t,o){const h=this.request({method:"POST",data:t});h.on("success",o),h.on("error",(T,ae)=>{this.onError("xhr post error",T,ae)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(o,h)=>{this.onError("xhr poll error",o,h)}),this.pollXhr=t}}class bt extends B{constructor(t,o){super(),Ae(this,o),this.opts=o,this.method=o.method||"GET",this.uri=t,this.data=o.data!==void 0?o.data:null,this.create()}create(){var t;const o=se(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd;const h=this.xhr=new ft(o);try{h.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){h.setDisableHeaderCheck&&h.setDisableHeaderCheck(!0);for(let T in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(T)&&h.setRequestHeader(T,this.opts.extraHeaders[T])}}catch(T){}if(this.method==="POST")try{h.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(T){}try{h.setRequestHeader("Accept","*/*")}catch(T){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(h),"withCredentials"in h&&(h.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(h.timeout=this.opts.requestTimeout),h.onreadystatechange=()=>{var T;h.readyState===3&&((T=this.opts.cookieJar)===null||T===void 0||T.parseCookies(h)),h.readyState===4&&(h.status===200||h.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof h.status=="number"?h.status:0)},0))},h.send(this.data)}catch(T){this.setTimeoutFn(()=>{this.onError(T)},0);return}typeof document<"u"&&(this.index=bt.requestsCount++,bt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Ct,t)try{this.xhr.abort()}catch(o){}typeof document<"u"&&delete bt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(bt.requestsCount=0,bt.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",zt);else if(typeof addEventListener=="function"){const r="onpagehide"in ne?"pagehide":"unload";addEventListener(r,zt,!1)}}function zt(){for(let r in bt.requests)bt.requests.hasOwnProperty(r)&&bt.requests[r].abort()}const en=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,o)=>o(t,0),jt=ne.WebSocket||ne.MozWebSocket,Gt=!0,Wt="arraybuffer",sn=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kn extends ${constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),o=this.opts.protocols,h=sn?{}:se(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(h.headers=this.opts.extraHeaders);try{this.ws=Gt&&!sn?o?new jt(t,o):new jt(t):new jt(t,o,h)}catch(T){return this.emitReserved("error",T)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const h=t[o],T=o===t.length-1;q(h,this.supportsBinary,ae=>{const Ie={};Gt||(h.options&&(Ie.compress=h.options.compress),this.opts.perMessageDeflate&&(typeof ae=="string"?Buffer.byteLength(ae):ae.length)<this.opts.perMessageDeflate.threshold&&(Ie.compress=!1));try{Gt?this.ws.send(ae):this.ws.send(ae,Ie)}catch(je){}T&&en(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=ut()),this.supportsBinary||(o.b64=1),this.createUri(t,o)}check(){return!!jt}}class Mt extends ${get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const o=ee(Number.MAX_SAFE_INTEGER,this.socket.binaryType),h=t.readable.pipeThrough(o).getReader(),T=D();T.readable.pipeTo(t.writable),this.writer=T.writable.getWriter();const ae=()=>{h.read().then(je=>{let{done:Pe,value:Fe}=je;Pe||(this.onPacket(Fe),ae())}).catch(je=>{})};ae();const Ie={type:"open"};this.query.sid&&(Ie.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(Ie).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const h=t[o],T=o===t.length-1;this.writer.write(h).then(()=>{T&&en(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Xn={websocket:kn,webtransport:Mt,polling:Pt},Ht=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ln=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sn(r){if(r.length>2e3)throw"URI too long";const t=r,o=r.indexOf("["),h=r.indexOf("]");o!=-1&&h!=-1&&(r=r.substring(0,o)+r.substring(o,h).replace(/:/g,";")+r.substring(h,r.length));let T=Ht.exec(r||""),ae={},Ie=14;for(;Ie--;)ae[Ln[Ie]]=T[Ie]||"";return o!=-1&&h!=-1&&(ae.source=t,ae.host=ae.host.substring(1,ae.host.length-1).replace(/;/g,":"),ae.authority=ae.authority.replace("[","").replace("]","").replace(/;/g,":"),ae.ipv6uri=!0),ae.pathNames=Bn(ae,ae.path),ae.queryKey=an(ae,ae.query),ae}function Bn(r,t){const o=/\/{2,9}/g,h=t.replace(o,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&h.splice(0,1),t.slice(-1)=="/"&&h.splice(h.length-1,1),h}function an(r,t){const o={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(h,T,ae){T&&(o[T]=ae)}),o}class un extends B{constructor(t,o){o===void 0&&(o={}),super(),this.binaryType=Wt,this.writeBuffer=[],t&&typeof t=="object"&&(o=t,t=null),t?(t=Sn(t),o.hostname=t.host,o.secure=t.protocol==="https"||t.protocol==="wss",o.port=t.port,t.query&&(o.query=t.query)):o.host&&(o.hostname=Sn(o.host).host),Ae(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ve(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const o=Object.assign({},this.opts.query);o.EIO=E,o.transport=t,this.id&&(o.sid=this.id);const h=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Xn[t](h)}open(){let t;if(this.opts.rememberUpgrade&&un.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(o){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(t){let o=this.createTransport(t),h=!1;un.priorWebsocketSuccess=!1;const T=()=>{h||(o.send([{type:"ping",data:"probe"}]),o.once("packet",Ke=>{if(!h)if(Ke.type==="pong"&&Ke.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;un.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{h||this.readyState!=="closed"&&(Oe(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const xe=new Error("probe error");xe.transport=o.name,this.emitReserved("upgradeError",xe)}}))};function ae(){h||(h=!0,Oe(),o.close(),o=null)}const Ie=Ke=>{const xe=new Error("probe error: "+Ke);xe.transport=o.name,ae(),this.emitReserved("upgradeError",xe)};function je(){Ie("transport closed")}function Pe(){Ie("socket closed")}function Fe(Ke){o&&Ke.name!==o.name&&ae()}const Oe=()=>{o.removeListener("open",T),o.removeListener("error",Ie),o.removeListener("close",je),this.off("close",Pe),this.off("upgrading",Fe)};o.once("open",T),o.once("error",Ie),o.once("close",je),this.once("close",Pe),this.once("upgrading",Fe),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{h||o.open()},200):o.open()}onOpen(){if(this.readyState="open",un.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const o=this.upgrades.length;for(;t<o;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const o=new Error("server error");o.code=t.data,this.onError(o);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let h=0;h<this.writeBuffer.length;h++){const T=this.writeBuffer[h].data;if(T&&(o+=Ue(T)),h>0&&o>this.maxPayload)return this.writeBuffer.slice(0,h);o+=2}return this.writeBuffer}write(t,o,h){return this.sendPacket("message",t,o,h),this}send(t,o,h){return this.sendPacket("message",t,o,h),this}sendPacket(t,o,h,T){if(typeof o=="function"&&(T=o,o=void 0),typeof h=="function"&&(T=h,h=null),this.readyState==="closing"||this.readyState==="closed")return;h=h||{},h.compress=h.compress!==!1;const ae={type:t,data:o,options:h};this.emitReserved("packetCreate",ae),this.writeBuffer.push(ae),T&&this.once("flush",T),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),t()},h=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?h():t()}):this.upgrading?h():t()),this}onError(t){un.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const o=[];let h=0;const T=t.length;for(;h<T;h++)~this.transports.indexOf(t[h])&&o.push(t[h]);return o}}un.protocol=E;const bs=un.protocol;function qn(r,t,o){t===void 0&&(t="");let h=r;o=o||typeof location<"u"&&location,r==null&&(r=o.protocol+"//"+o.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=o.protocol+r:r=o.host+r),/^(https?|wss?):\/\//.test(r)||(typeof o<"u"?r=o.protocol+"//"+r:r="https://"+r),h=Sn(r)),h.port||(/^(http|ws)$/.test(h.protocol)?h.port="80":/^(http|ws)s$/.test(h.protocol)&&(h.port="443")),h.path=h.path||"/";const ae=h.host.indexOf(":")!==-1?"["+h.host+"]":h.host;return h.id=h.protocol+"://"+ae+":"+h.port+t,h.href=h.protocol+"://"+ae+(o&&o.port===h.port?"":":"+h.port),h}const wn=typeof ArrayBuffer=="function",Ks=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,vs=Object.prototype.toString,yn=typeof Blob=="function"||typeof Blob<"u"&&vs.call(Blob)==="[object BlobConstructor]",Fn=typeof File=="function"||typeof File<"u"&&vs.call(File)==="[object FileConstructor]";function Tn(r){return wn&&(r instanceof ArrayBuffer||Ks(r))||yn&&r instanceof Blob||Fn&&r instanceof File}function pn(r,t){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let o=0,h=r.length;o<h;o++)if(pn(r[o]))return!0;return!1}if(Tn(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return pn(r.toJSON(),!0);for(const o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&pn(r[o]))return!0;return!1}function es(r){const t=[],o=r.data,h=r;return h.data=hn(o,t),h.attachments=t.length,{packet:h,buffers:t}}function hn(r,t){if(!r)return r;if(Tn(r)){const o={_placeholder:!0,num:t.length};return t.push(r),o}else if(Array.isArray(r)){const o=new Array(r.length);for(let h=0;h<r.length;h++)o[h]=hn(r[h],t);return o}else if(typeof r=="object"&&!(r instanceof Date)){const o={};for(const h in r)Object.prototype.hasOwnProperty.call(r,h)&&(o[h]=hn(r[h],t));return o}return r}function Zs(r,t){return r.data=ts(r.data,t),delete r.attachments,r}function ts(r,t){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<t.length)return t[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let o=0;o<r.length;o++)r[o]=ts(r[o],t);else if(typeof r=="object")for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(r[o]=ts(r[o],t));return r}const $s=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ys=5;var ht;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(ht||(ht={}));class Gs{constructor(t){this.replacer=t}encode(t){return(t.type===ht.EVENT||t.type===ht.ACK)&&pn(t)?this.encodeAsBinary({type:t.type===ht.EVENT?ht.BINARY_EVENT:ht.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let o=""+t.type;return(t.type===ht.BINARY_EVENT||t.type===ht.BINARY_ACK)&&(o+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(o+=t.nsp+","),t.id!=null&&(o+=t.id),t.data!=null&&(o+=JSON.stringify(t.data,this.replacer)),o}encodeAsBinary(t){const o=es(t),h=this.encodeAsString(o.packet),T=o.buffers;return T.unshift(h),T}}function _s(r){return Object.prototype.toString.call(r)==="[object Object]"}class zn extends B{constructor(t){super(),this.reviver=t}add(t){let o;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(t);const h=o.type===ht.BINARY_EVENT;h||o.type===ht.BINARY_ACK?(o.type=h?ht.EVENT:ht.ACK,this.reconstructor=new tn(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(Tn(t)||t.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(t),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let o=0;const h={type:Number(t.charAt(0))};if(ht[h.type]===void 0)throw new Error("unknown packet type "+h.type);if(h.type===ht.BINARY_EVENT||h.type===ht.BINARY_ACK){const ae=o+1;for(;t.charAt(++o)!=="-"&&o!=t.length;);const Ie=t.substring(ae,o);if(Ie!=Number(Ie)||t.charAt(o)!=="-")throw new Error("Illegal attachments");h.attachments=Number(Ie)}if(t.charAt(o+1)==="/"){const ae=o+1;for(;++o&&!(t.charAt(o)===","||o===t.length););h.nsp=t.substring(ae,o)}else h.nsp="/";const T=t.charAt(o+1);if(T!==""&&Number(T)==T){const ae=o+1;for(;++o;){const Ie=t.charAt(o);if(Ie==null||Number(Ie)!=Ie){--o;break}if(o===t.length)break}h.id=Number(t.substring(ae,o+1))}if(t.charAt(++o)){const ae=this.tryParse(t.substr(o));if(zn.isPayloadValid(h.type,ae))h.data=ae;else throw new Error("invalid payload")}return h}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(o){return!1}}static isPayloadValid(t,o){switch(t){case ht.CONNECT:return _s(o);case ht.DISCONNECT:return o===void 0;case ht.CONNECT_ERROR:return typeof o=="string"||_s(o);case ht.EVENT:case ht.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&$s.indexOf(o[0])===-1);case ht.ACK:case ht.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tn{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const o=Zs(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function nn(r,t,o){return r.on(t,o),function(){r.off(t,o)}}const Qs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ns extends B{constructor(t,o,h){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=o,h&&h.auth&&(this.auth=h.auth),this._opts=Object.assign({},h),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[nn(t,"open",this.onopen.bind(this)),nn(t,"packet",this.onpacket.bind(this)),nn(t,"error",this.onerror.bind(this)),nn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,o=new Array(t),h=0;h<t;h++)o[h]=arguments[h];return o.unshift("message"),this.emit.apply(this,o),this}emit(t){if(Qs.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var o=arguments.length,h=new Array(o>1?o-1:0),T=1;T<o;T++)h[T-1]=arguments[T];if(h.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(h),this;const ae={type:ht.EVENT,data:h};if(ae.options={},ae.options.compress=this.flags.compress!==!1,typeof h[h.length-1]=="function"){const Pe=this.ids++,Fe=h.pop();this._registerAckCallback(Pe,Fe),ae.id=Pe}const Ie=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Ie||!this.connected)||(this.connected?(this.notifyOutgoingListeners(ae),this.packet(ae)):this.sendBuffer.push(ae)),this.flags={},this}_registerAckCallback(t,o){var h=this,T;const ae=(T=this.flags.timeout)!==null&&T!==void 0?T:this._opts.ackTimeout;if(ae===void 0){this.acks[t]=o;return}const Ie=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let Pe=0;Pe<this.sendBuffer.length;Pe++)this.sendBuffer[Pe].id===t&&this.sendBuffer.splice(Pe,1);o.call(this,new Error("operation has timed out"))},ae),je=function(){h.io.clearTimeoutFn(Ie);for(var Pe=arguments.length,Fe=new Array(Pe),Oe=0;Oe<Pe;Oe++)Fe[Oe]=arguments[Oe];o.apply(h,Fe)};je.withError=!0,this.acks[t]=je}emitWithAck(t){for(var o=arguments.length,h=new Array(o>1?o-1:0),T=1;T<o;T++)h[T-1]=arguments[T];return new Promise((ae,Ie)=>{const je=(Pe,Fe)=>Pe?Ie(Pe):ae(Fe);je.withError=!0,h.push(je),this.emit(t,...h)})}_addToQueue(t){var o=this;let h;typeof t[t.length-1]=="function"&&(h=t.pop());const T={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function(ae){if(T!==o._queue[0])return;if(ae!==null)T.tryCount>o._opts.retries&&(o._queue.shift(),h&&h(ae));else if(o._queue.shift(),h){for(var je=arguments.length,Pe=new Array(je>1?je-1:0),Fe=1;Fe<je;Fe++)Pe[Fe-1]=arguments[Fe];h(null,...Pe)}return T.pending=!1,o._drainQueue()}),this._queue.push(T),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!t||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ht.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(h=>String(h.id)===t)){const h=this.acks[t];delete this.acks[t],h.withError&&h.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ht.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ht.EVENT:case ht.BINARY_EVENT:this.onevent(t);break;case ht.ACK:case ht.BINARY_ACK:this.onack(t);break;case ht.DISCONNECT:this.ondisconnect();break;case ht.CONNECT_ERROR:this.destroy();const h=new Error(t.data.message);h.data=t.data.data,this.emitReserved("connect_error",h);break}}onevent(t){const o=t.data||[];t.id!=null&&o.push(this.ack(t.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const h of o)h.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const o=this;let h=!1;return function(){if(!h){h=!0;for(var T=arguments.length,ae=new Array(T),Ie=0;Ie<T;Ie++)ae[Ie]=arguments[Ie];o.packet({type:ht.ACK,id:t,data:ae})}}}onack(t){const o=this.acks[t.id];typeof o=="function"&&(delete this.acks[t.id],o.withError&&t.data.unshift(null),o.apply(this,t.data))}onconnect(t,o){this.id=t,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ht.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const o=this._anyListeners;for(let h=0;h<o.length;h++)if(t===o[h])return o.splice(h,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const o=this._anyOutgoingListeners;for(let h=0;h<o.length;h++)if(t===o[h])return o.splice(h,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const h of o)h.apply(this,t.data)}}}function mn(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}mn.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),o=Math.floor(t*this.jitter*r);r=Math.floor(t*10)&1?r+o:r-o}return Math.min(r,this.max)|0},mn.prototype.reset=function(){this.attempts=0},mn.prototype.setMin=function(r){this.ms=r},mn.prototype.setMax=function(r){this.max=r},mn.prototype.setJitter=function(r){this.jitter=r};class Un extends B{constructor(t,o){var h;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(o=t,t=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,Ae(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((h=o.randomizationFactor)!==null&&h!==void 0?h:.5),this.backoff=new mn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=t;const T=o.parser||i;this.encoder=new T.Encoder,this.decoder=new T.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var o;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(o=this.backoff)===null||o===void 0||o.setMin(t),this)}randomizationFactor(t){var o;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(o=this.backoff)===null||o===void 0||o.setJitter(t),this)}reconnectionDelayMax(t){var o;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(o=this.backoff)===null||o===void 0||o.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new un(this.uri,this.opts);const o=this.engine,h=this;this._readyState="opening",this.skipReconnect=!1;const T=nn(o,"open",function(){h.onopen(),t&&t()}),ae=je=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",je),t?t(je):this.maybeReconnectOnOpen()},Ie=nn(o,"error",ae);if(this._timeout!==!1){const je=this._timeout,Pe=this.setTimeoutFn(()=>{T(),ae(new Error("timeout")),o.close()},je);this.opts.autoUnref&&Pe.unref(),this.subs.push(()=>{this.clearTimeoutFn(Pe)})}return this.subs.push(T),this.subs.push(Ie),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(nn(t,"ping",this.onping.bind(this)),nn(t,"data",this.ondata.bind(this)),nn(t,"error",this.onerror.bind(this)),nn(t,"close",this.onclose.bind(this)),nn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(o){this.onclose("parse error",o)}}ondecoded(t){en(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,o){let h=this.nsps[t];return h?this._autoConnect&&!h.active&&h.connect():(h=new ns(this,t,o),this.nsps[t]=h),h}_destroy(t){const o=Object.keys(this.nsps);for(const h of o)if(this.nsps[h].active)return;this._close()}_packet(t){const o=this.encoder.encode(t);for(let h=0;h<o.length;h++)this.engine.write(o[h],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const h=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(T=>{T?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",T)):t.onreconnect()}))},o);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const An={};function ss(r,t){typeof r=="object"&&(t=r,r=void 0),t=t||{};const o=qn(r,t.path||"/socket.io"),h=o.source,T=o.id,ae=o.path,Ie=An[T]&&ae in An[T].nsps,je=t.forceNew||t["force new connection"]||t.multiplex===!1||Ie;let Pe;return je?Pe=new Un(h,t):(An[T]||(An[T]=new Un(h,t)),Pe=An[T]),o.query&&!t.query&&(t.query=o.queryKey),Pe.socket(o.path,t)}if(Object.assign(ss,{Manager:Un,Socket:ns,io:ss,connect:ss}),s.j!=15)var Ss=s(89509);if(s.j!=15)var Et=s(17255);if(s.j!=15)var ln=s(33386);if(s.j!=15)var Wn=s(22122);const os=s.j!=15?2*1e3:null,is=s.j!=15?24*1e3:null,Hn=s.j!=15?48*1e3:null,On=()=>{},ws=()=>({destroy:On,reset:On,emitAsync:Cs,emitLossy:On,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),Cs=async(r,t)=>({type:r,payload:t,isDummy:!0}),Js=r=>{let{query:{uId:t,fURL:o=globalThis.location.href.slice(0,128),uTag:h=Et.CH,vTag:T=Wn.r,rKey:ae},lossyListenerMap:Ie={},queueListenerMap:je={},socketUrl:Pe=globalThis.location.origin,socketPath:Fe=Et.$r,usePolling:Oe=!1}=r;if(!t||!ae)throw new Error("SKT bad query");const Ke=(0,Ss.I6)();let xe,be=(0,y.wT)(),Ee=0,Ve=null;const it=()=>{xe!==void 0&&(xe.close(),xe=void 0,be=(0,y.wT)(),gt=!1,Ve&&clearTimeout(Ve),Ve=null)},wt=()=>{it();const ot=new Un(Pe,{path:Fe,query:{uId:t,fURL:o,uTag:h,vTag:T,rKey:ae},transports:Oe?["polling","websocket"]:["websocket"],timeout:Hn,reconnectionDelay:Math.round((os+is)/2),reconnectionDelayMax:Hn,randomizationFactor:(is-os)/(is+os),closeOnBeforeunload:!1}).socket(Et.I4);ot.on("connect_error",ze=>{console.log("[socket] connect_error",ze),ze.message.includes(Et.uB)&&(it(),Ke.dispatchEvent({type:Et.VU,payload:{error:ze}})),Ke.dispatchEvent({type:Et.Ei,payload:{error:ze}})}),ot.on("connect",async()=>{console.log("[socket] connect");{const ze=Date.now(),Je=await(0,y.hq)(Zt(Et.Ip),10*1e3,Et.Ip).catch(async at=>{throw(0,N.et)(wt,2*1e3),console.warn(Et.Ip,at),be.reject(at),at}),Ge=Date.now();Ee=Je-(ze+Ge)*.5}Ve=(0,N.et)(()=>{!xe||!xe.connected||gt||wt()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Ke.dispatchEvent({type:Et.zS}),be.resolve()});{let ze=Promise.resolve();const Je=(Ge,at)=>{const et=ze.then(Ge);return ze=et.then(On,Rt=>{(0,ln.p)("SKT-QA-"+at,Rt)}),et};Ke.clear();for(const[Ge,at]of Object.entries(Ie))ot.on(Ge,et=>at({type:Ge,payload:et})),Ke.addEventListener(Ge,et=>{let{payload:Rt}=et;return at({type:Ge,payload:Rt})});for(const[Ge,at]of Object.entries(je))ot.on(Ge,et=>Je(()=>at({type:Ge,payload:et}),Ge)),Ke.addEventListener(Ge,et=>{let{payload:Rt}=et;return Je(()=>at({type:Ge,payload:Rt}),Ge)})}xe=ot};let gt=!1;const Zt=async(Qt,ot)=>{gt=!0;const{error:ze,result:Je}=await(0,y.hq)(new Promise(Ge=>xe.emit(Qt,ot,Ge)),42*1e3,"SKT-USR "+Qt).finally(()=>{gt=!1});if(ze!==void 0)throw Object.assign(new Error(typeof ze=="object"&&ze.message||"SKT-USR "+Qt),ze);return Je},Dt=(Qt,ot)=>{xe.volatile.emit(Qt,ot)};return wt(),{destroy:it,reset:wt,emitAsync:Zt,emitLossy:Dt,getIsConnected:()=>xe&&xe.connected||!1,getSocketId:()=>xe&&xe.id||"",getReadyPromise:()=>be.promise,getOffsetMsec:()=>Ee}};var Cn=s(77885),Ut=s(96828),Ms=s(78463),Nt=s(83053);if(s.j!=15)var vt=s(833);if(s.j!=15)var Vt=s(60307);var Mn=s(49950);const Pn=0,Xs={cDebugMin:Pn,cCmtPack:Pn+1,cCmtThread:Pn+2,cCmtContent:Pn+3,cDebugMax:35},Nn=(0,Mn.W)("cmt-type",Xs),rs=Nn.pack("cCmtPack"),as=Nn.pack("cCmtThread"),Ns=Nn.pack("cCmtContent"),Po=new Set(["cCmtPack","cCmtThread","cCmtContent"]),Do=new Set([rs,as,Ns]);if(s.j!=15)var ls=s(45043);const qs={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},on=(0,Mn.W)("DraftBlockType",qs),eo={left:0,center:1,right:2,justify:3},ct=(0,Mn.W)("DraftAlignment",eo),to={LINK:0,IMAGE:1},Vn=(0,Mn.W)("DraftEntityMapType",to),no={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},Is=(0,Mn.W)("DraftEntityMapMutability",no),js={_blank:0,_self:1},Es=(0,Mn.W)("DraftLinkTargetOption",js),ks=r=>{const t={};return Object.keys(r).forEach(o=>{const{type:h,mutability:T,data:ae}=r[o],Ie=[Vn.pack(h),Is.pack(T)],je=[];h==="LINK"?(Ie.push(Es.pack(ae.targetOption)),je.push(ae.url||"")):h==="IMAGE"&&(Ie.push((0,vt.c5)(ae.width),ct.pack(ae.alignment)),je.push(ae.src||"",ae.alt||"")),t["e/"+o]=[Ie.join(Vt.xi),...je]}),t},Ls=r=>{const t={};for(const o of Object.keys(r)){if(!o.startsWith("e/"))continue;const h=o.split("e/")[1],[T,...ae]=r[o],[Ie,je,Pe,Fe]=T.split(Vt.xi),Oe=Vn.parse(Ie),Ke=Is.parse(je);t[h]=Oe==="LINK"?{type:Oe,mutability:Ke,data:{url:ae[0],targetOption:Es.parse(Pe)}}:{type:Oe,mutability:Ke,data:{src:ae[0],alt:ae[1],width:(0,vt._3)(Pe),alignment:ct.parse(Fe)}}}return t},Kn=r=>{const t={};return Object.keys(r).forEach(o=>{const{text:h,type:T,depth:ae,inlineStyleRanges:Ie,entityRanges:je,data:{textAlign:Pe,textIndent:Fe,paraSpacing:Oe}}=r[o],Ke=[on.packDef(T,"unstyled"),(0,vt.c5)(ae),Pe?ct.pack(Pe):"",Fe!==void 0?(0,vt.c5)(Fe):"",Oe!==void 0?(0,Nt.ZI)(Oe):""];t["b/"+o]=[Ke.join(Vt.xi),h,Ie.map(xe=>{let{offset:be,length:Ee,style:Ve}=xe;return oo(be,Ee,Ve)}),je.map(xe=>{let{offset:be,length:Ee,key:Ve}=xe;return Ts(be,Ee,Ve)})]}),t},Ts=(r,t,o)=>""+(0,vt.c5)(r)+Vt.xi+(0,vt.c5)(t)+Vt.xi+(0,vt.c5)(o),so=r=>{const t=r.indexOf(Vt.xi),o=r.indexOf(Vt.xi,t+1);return[(0,vt._3)(r.slice(0,t)),(0,vt._3)(r.slice(t+1,o)),(0,vt._3)(r.slice(o+1))]},oo=(r,t,o)=>""+(0,vt.c5)(r)+Vt.xi+(0,vt.c5)(t)+Vt.xi+o,io=r=>{const t=r.indexOf(Vt.xi),o=r.indexOf(Vt.xi,t+1);return[(0,vt._3)(r.slice(0,t)),(0,vt._3)(r.slice(t+1,o)),r.slice(o+1)]},ro=r=>{const t={};for(const o of Object.keys(r)){if(!o.startsWith("b/"))continue;const h=o.split("b/")[1],[T,ae,Ie,je]=r[o],[Pe,Fe,Oe,Ke,xe]=T.split(Vt.xi),be={};Oe!==""&&(be.textAlign=ct.parse(Oe)),Ke!==""&&(be.textIndent=(0,vt._3)(Ke)),xe!==""&&xe!==void 0&&(be.paraSpacing=(0,Nt.bp)(xe)),t[h]={text:ae,type:on.parse(Pe),depth:(0,vt._3)(Fe),inlineStyleRanges:Ie.map(Ee=>{const[Ve,it,wt]=io(Ee);return{offset:Ve,length:it,style:wt}}),entityRanges:je.map(Ee=>{const[Ve,it,wt]=so(Ee);return{offset:Ve,length:it,key:wt}}),data:be}}return t},As=r=>{let{message:t}=r;const{blocks:o={},entityMap:h={}}=t;return{...Kn(o),...ks(h)}},Os=r=>({message:{blocks:ro(r),entityMap:Ls(r)}}),cs=r=>({T:Nn.pack(r.type),IC:[(0,vt.c5)(r.index),(0,vt.vH)(r.ctime)].join(Vt.xi)}),ds=r=>{const[t,o]=r.IC.split(Vt.xi);return{type:Nn.parse(r.T),index:(0,vt._3)(t),ctime:(0,vt.TT)(o)}},ao=r=>({...cs(r),R:r.refKey}),lo=r=>({...ds(r),refKey:r.R}),co=r=>({...cs(r),...As(r),xy:(0,Nt.x3)(r.x,r.y),wh:(0,Nt.x3)(r.w,r.h),z:(0,Nt.ZI)(r.z),userInfo:r.userInfo,userId:(0,Nt.ZI)(r.userId),mtime:(0,vt.vH)(r.mtime),isCompleted:(0,ls.rK)(r.isCompleted),canvasVec2:r.canvasVec2?{x:(0,Nt.ZI)(r.canvasVec2.x),y:(0,Nt.ZI)(r.canvasVec2.y)}:r.canvasVec2,canvasCid:r.canvasCid,threadType:r.threadType}),uo=r=>{const[t,o]=(0,Nt.fm)(r.xy),[h,T]=(0,Nt.fm)(r.wh),ae=r.canvasVec2?(0,Nt.bp)(r.canvasVec2.x):void 0,Ie=r.canvasVec2?(0,Nt.bp)(r.canvasVec2.y):void 0,je=(0,Nt.bp)(r.z);return{...ds(r),...Os(r),x:t,y:o,w:h,h:T,z:je,mtime:(0,vt.TT)(r.mtime),userInfo:r.userInfo,userId:(0,Nt.bp)(r.userId),isCompleted:(0,ls.Vf)(r.isCompleted),canvasCid:r.canvasCid,threadType:r.threadType,canvasVec2:ae&&Ie?{x:ae,y:Ie}:void 0}},po=r=>({...cs(r),...As(r),mtime:(0,vt.vH)(r.mtime),userInfo:r.userInfo}),ho=r=>({...ds(r),...Os(r),mtime:(0,vt.TT)(r.mtime),userInfo:r.userInfo}),mo=r=>{try{switch(r.T){case void 0:return r;case rs:return lo(r);case as:return uo(r);case Ns:return ho(r);default:throw new Error("invalid attr: "+r.T+" -> "+Nn.parse(r.T))}}catch(t){throw(0,ln.p)("toP2CHA badDat",t,r),t}},Ps=r=>{try{switch(r.type){case void 0:return r;case"cCmtPack":return ao(r);case"cCmtThread":return co(r);case"cCmtContent":return po(r);default:throw new Error("invalid attr: "+r.type)}}catch(t){throw(0,ln.p)("toP2CCA badDat",t,r),t}};if(s.j!=15)var go=s(40349);const Ds=(r,t)=>{const o=je=>{const Pe=r(je);return Pe===void 0?[]:Pe.sub.map(Fe=>r(Fe))},h=(0,go.MX)(je=>je.sub.map(Pe=>r(Pe))),T=(je,Pe)=>{const Fe=r(je);Fe!==void 0&&(Pe(Fe)||Fe.sub.length!==0&&h(Fe,Pe))};return{getHotItem:r,getSubHotItemList:o,walkHotItemSubtree:T,isTrashed:je=>(0,Ut.DM)(je,t.getFlatTree()),__devHotTree:function(je){je===void 0&&(je=Ut.gT);const Pe=new Map,Fe=Oe=>{let Ke=Pe.get(Oe);return Ke===void 0&&Pe.set(Oe,Ke={}),Ke};return T(je,Oe=>{Fe(Oe.sup)[Oe.key]=Oe.hotAttr,Oe.sub.length!==0&&(Fe(Oe.sup)[Oe.key+" SUB"]=Fe(Oe.key))}),Fe(r(je).sup)}}};if(s.j!=15)var Rs=s(25684);if(s.j!=15)var us=s(97188);var fo=s(99142),Kt=s(56927);if(s.j!=15)var Bs=s(19371);const ps=(r,t,o)=>{const h=xe=>{if(xe===void 0||xe.length===0)return;const be=new Set;for(const Ve of xe)be.add(Ve.key),Ve.type==="I"&&be.add(Ve.keySup);const Ee=(0,Ut.CF)([...be].filter(Ut.xe),o.getFlatTree());r({type:Bs.a,payload:Ee})},T=xe=>{const be=[],Ee=xe(be);return h(o.applyDiff(be)),Ee},ae=xe=>T(be=>{const Ee=[],Ve=xe(Ee);for(const it of Ee)it.type==="update"?Fe(it.hotItem,be):it.type==="delete"&&Oe(it.key,be);return Ve}),Ie=function(){const xe=[],be=[];let Ee,Ve=!1;for(var it=arguments.length,wt=new Array(it),gt=0;gt<it;gt++)wt[gt]=arguments[gt];for(const Zt of wt){Ee=Zt(xe);const Dt=o.applyDiff(xe);Dt!==void 0&&(be.push(...Dt),Ve?o.combineLastUndo():Ve=!0)}return h(be),Ee},je=function(){for(var xe=arguments.length,be=new Array(xe),Ee=0;Ee<xe;Ee++)be[Ee]=arguments[Ee];const Ve=be.map(it=>wt=>{const gt=[],Zt=it(gt);for(const Dt of gt)Dt.type==="update"?Fe(Dt.hotItem,wt):Dt.type==="delete"&&Oe(Dt.key,wt);return Zt});return Ie(...Ve)},Pe=(xe,be)=>{for(const Ee of Object.keys(xe)){const Ve=xe[Ee],it=be[Ee];Ve!==it&&(0,Rs.sw)(Ve)&&(0,Rs.sw)(it)&&JSON.stringify(Ve)===JSON.stringify(it)&&(xe[Ee]=it)}},Fe=(xe,be)=>{const Ee=(0,Ut.PV)(xe.key,o.getFlatTree());if(Ee===void 0)be.push({type:Kt.UF,key:xe.key,keySup:xe.sup}),be.push({type:Kt.qC,key:xe.key,attrDiff:Ps(xe.hotAttr)});else{Ee.sup!==xe.sup&&be.push({type:Kt.UF,key:xe.key,keySup:xe.sup});const Ve=Ps(xe.hotAttr);Pe(Ve,Ee.attr);const it=(0,fo.m)(Ve,Ee.attr);it!==void 0&&be.push({type:Kt.qC,key:xe.key,attrDiff:it})}},Oe=(xe,be)=>{o.getFlatItem(xe)&&be.push({type:Kt.UF,key:xe,keySup:Ut.Ri})},Ke=(xe,be,Ee)=>{o.getFlatItem(xe)&&o.getFlatItem(be)&&Ee.push({type:Kt.UF,key:xe,keySup:be})};return{_edit:T,_editAction:ae,_editBatch:Ie,_editActionBatch:je,onRemotePatchList:xe=>{const be=[];for(const Ee of xe){const Ve=o.applyDiffRemote(Ee.diffList,Ee.clock);Ve!==void 0&&be.push(...Ve)}h(be)},updateHotItem:xe=>T(be=>{Fe(xe,be)}),updateHotItemBatch:xe=>T(be=>{for(const Ee of xe)Fe(Ee,be)}),deleteHotItem:xe=>T(be=>{Oe(xe,be)}),deleteHotItemBatch:xe=>T(be=>{for(const Ee of xe)Oe(Ee,be)}),moveHotItem:(xe,be)=>T(Ee=>{Ke(xe,be,Ee)}),moveHotItemBatch:xe=>T(be=>{for(const[Ee,Ve]of xe)Ke(Ee,Ve,be)}),editHotItemBatch:xe=>T(be=>{for(const Ee of xe)Ee.type==="update"?Fe(Ee.hotItem,be):Ee.type==="delete"&&Oe(Ee.key,be)}),updateHotAttrMerge:(xe,be)=>T(Ee=>{const Ve=t(xe);if(Ve===void 0)throw new Error("no item: "+xe);Fe((0,us.MK)(Ve,"hotAttr",{...Ve.hotAttr,...be}),Ee)}),updateHotAttrKV:(xe,be,Ee)=>T(Ve=>{const it=t(xe);if(it===void 0)throw new Error("no item: "+xe);Fe((0,us.MK)(it,"hotAttr",(0,us.MK)(it.hotAttr,be,Ee)),Ve)}),canUndo:o.canUndo,canRedo:o.canRedo,combineMergeMark:o.combineMergeMark,combineMerge:o.combineMerge,undo:()=>{h(o.undo())},redo:()=>{h(o.redo())}}};var Zn=s(66451);const yo=r=>{const t=(0,Ss.wz)(),o=t.subscribe,h=t.unsubscribe,T=In(r),ae=Ds(T,r),Ie=()=>Ro(r.getFlatTree),je=ps(t.send,T,r),{_edit:Pe,_editAction:Fe,_editBatch:Oe,_editActionBatch:Ke,...xe}=je;return{subscribe:o,unsubscribe:h,...ae,createRoCmtStore:Ie,...xe}},In=r=>t=>{const o=r.getFlatTree().get(t);if(o===void 0)return;const h=r.getOCI(o);return h.hotItem===void 0&&(h.hotItem={key:o.key,sup:o.sup,sub:o.sub,hotAttr:mo(o.attr)}),h.hotItem},Ro=r=>{const t=(0,Zn.b$)(r(),(0,Cn.aF)({})),o=()=>t.getFlatTree()!==r(),h=()=>t.sync(r()),T=In(t),ae=Ds(T,t);return{hasUpdate:o,syncUpdate:h,...ae}};var xo=s(56511),Fs=s(99611);if(s.j!=15)var bo=s(6185);if(s.j!=15)var zs=s(13573);var xn=s(73051),$n=s(85782),Dn=s(35236);const vo=r=>{const[t,o,h]=r,T=async()=>(0,$n.BT)(Dn.r,t.tre),ae=async function(Oe){Oe===void 0&&(Oe=-1);const Ke=[];for(const{pbx:xe,t10s:be}of o){if(be<Oe)continue;const Ee=(0,zs.CE)(await Dn.r.gunzipU8AAsync(new Uint8Array(xe)));for(const Ve of(0,xn.Pb)(Ee))Ke.push(Ve)}for(const{pch:xe,t10s:be}of h)be<Oe||Ke.push(xe);return Ke},Ie=async function(Oe){Oe===void 0&&(Oe=-1);const Ke=[];for(const xe of await ae(Oe))Ke.push((0,Kt.iz)(xe));return Ke},je=async function(Oe){Oe===void 0&&(Oe=-1);const Ke=[];for(const xe of await ae(Oe)){const{clock:be,diffList:Ee}=(0,Kt.iz)(xe);Ke.push([(0,Cn._r)(be).slice(5),Ee,xe])}return Ke};return{getParsedTre:T,getPchList:ae,getPatchList:Ie,getReadablePatchList:je,filterReadablePatchList:async function(Oe,Ke){return Ke===void 0&&(Ke=-1),(await je(Ke)).filter(xe=>{let[,,be]=xe;return be.includes(Oe)})},getMergedReadablePatchList:async function(Oe,Ke){Oe===void 0&&(Oe=-1),Ke===void 0&&(Ke=16);const xe=[];let be={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const Ee=Ve=>{be.timePrefix!==Ve&&(be.timePrefix!==""&&xe.push(be.timePrefix.slice(5)+"..Z I*"+(be.countDI||"-")+" A*"+(be.countDA||"-")+" ["+[...be.userIdSet].join(",")+"]"),be={timePrefix:Ve,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Ve,it],diffList:wt}of await Ie(Oe)){const gt=new Date(Ve).toISOString().slice(0,Ke);Ee(gt),be.userIdSet.add(it);for(const{type:Zt}of wt)Zt===Kt.UF?be.countDI++:be.countDA++}return Ee(""),xe},flpak:r}},Us=r=>Math.floor(r/10/1e3),_o=r=>{const[t]=(0,Kt.cx)(r);return Us(t)},So=r=>{let[t,o,h]=r;return h.length!==0?h[h.length-1].t10s:o.length!==0?o[o.length-1].t10s:t.t10s};if(s.j!=15)var hs=s(45300);const ms=(r,t,o)=>{let h=!1,T=0,ae=0;const Ie=new Map;let je=[],Pe,Fe,Oe,Ke;const xe=ze=>{let[Je,,Ge]=ze;if(Je!==r)return!1;const at=(0,xn.vZ)(Ge);for(const et of at)je.push([et,_o(et),!1]);return Oe!==void 0&&Oe(at.map(et=>(0,Kt.iz)(et))),!0},be=async(ze,Je)=>{if(Fe!==void 0)throw new Error("no re-init flatStore");Pe=ze,Ke=Je;const Ge=await Ke(r);{const kt="INSP-INIT-FLPAK";location.hash.includes(kt)&&Object.assign(globalThis,{[kt+"/"+r]:{...vo(Ge),__flpakKey:r,__name:t}})}T=So(Ge);const at=(0,Zn.OR)(),et=await(0,$n.TN)(Dn.r,Ge,(kt,ke)=>(0,xn.qG)(kt,ke,at.mutateTFAAFNB));let Rt=Ut.xL;{const kt="BYPASS-FLPAK";location.hash.includes(kt)&&(Rt=ke=>console.warn("["+kt+"|vFT]",ke))}for(const[kt,ke,rt]of je)!rt&&T>=ke||(0,xn.qG)(et,kt,at.mutateTFAAFNB);Fe=(0,Zn.b$)(et,ze,(kt,ke,rt)=>{if(h&&console.log("flat|onPatch",{diffList:kt,clock:ke,isLocal:rt}),je.push([(0,Kt.AO)({diffList:kt,clock:ke}),Us(ke[0]),rt]),rt)return;const[Jt,Xt,gn,vn]=ke;ae=Math.max(ae,Jt);const cn=(0,Cn.au)(Xt,gn);if(Pe.selfCCK===cn)throw new Error("unexpected selfCck: "+cn);const Rn=Ie.get(cn)||-1;Rn>vn&&console.warn("bad editId for cck: "+cn+", last: "+Rn+", new: "+vn),Ie.set(cn,vn)},(kt,ke)=>{console.warn("flat|requestResync",{error:kt,message:ke})}),Oe=kt=>{for(const ke of kt)Fe.applyDiffRemote(ke.diffList,ke.clock)};const Bt=at.getFixDiffList(et);Bt.length&&(Fe.applyDiff(Bt),Fe.resetUndo()),o===!0&&Rt(et)},Ee=ze=>{Oe=ze},Ve=()=>Pe,it=()=>Fe,wt=async function(ze){if(ze===void 0&&(ze=""),o===!0)try{if(!Fe||!T||!Dt())return;const Je=Fe.getFlatTree(),[Ge,at]=await(0,$n.Vz)(Dn.r,Je);await(0,hs.hp)("//FSS/"+t+"/"+r,new Blob([at],{type:"application/octet-stream"}),{message:ze,treRawSize:Ge,treSize:at.byteLength})}catch(Je){console.warn("saveSOS",ze,Je)}},gt=async()=>{if(o===!0)try{const ze=await(0,hs.Ey)("//FSS/"+t+"/"+r);if(ze.length){console.warn("[loadSOS] found "+ze.length+" record");const{data:Je,extra:Ge}=ze[0];console.warn("[loadSOS] load record from "+new Date(Ge.time).toISOString());const at=await(0,bo.WL)(Je),et=await(0,$n.BT)(Dn.r,at);return console.warn("[loadSOS] record tree: "+et.slowSize()),{tree:et,...Ge}}}catch(ze){console.warn("loadSOS",ze)}},Zt=async()=>{if(o===!0)try{return await(0,hs.EP)("//FSS/"+t+"/"+r)}catch(ze){console.warn("freeSOS",ze)}},Dt=()=>{if(o!==!0)return!1;for(const[,,ze]of je)if(ze)return!0;return!1};return{flpakKey:r,name:t,__setIsDev:ze=>{h=ze},onRemotePayloadSave:xe,bind:be,useExtORPL:Ee,getClockStore:Ve,getFlatStore:it,saveSOS:wt,loadSOS:gt,freeSOS:Zt,hasPatch:Dt,preSettlePatch:()=>{if(o!==!0)return[];const ze=[];for(const[Je,,Ge]of je)Ge&&ze.push(Je);return ze},postSettlePatch:ze=>{o===!0&&(je=je.filter(Je=>{let[Ge,at,et]=Je;return!et||!ze.includes(Ge)}))}}},wo=(r,t,o)=>{let h,T;return{flpakKey:r,name:"[DUMMY]"+t,__setIsDev:ae=>{},onRemotePayloadSave:ae=>{let[Ie,,je]=ae;return!1},bind:async(ae,Ie)=>{if(T!==void 0)throw new Error("no re-init flatStore");h=ae,T=(0,Zn.b$)((0,Ut.Id)(),ae)},useExtORPL:ae=>{},getClockStore:()=>h,getFlatStore:()=>T,saveSOS:async ae=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:ae=>{}}};if(s.j!=15)var Co=s(54704);const gs=s.j!=15?Nt.x3:null,fs=s.j!=15?Nt.fm:null,Ws=r=>{const t=new Map;let o=!1,h=!1,T,ae,Ie=()=>"";const je=()=>{t.clear(),Oe()};let Pe=0;const Fe=ot=>{const ze={socketId:ot,index:Pe++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(ot,ze),o=!0,ze},Oe=(0,y.Ds)(async()=>{if(await(0,N.Y_)(2*1e3),T===void 0)return;const ot=[];for(const{socketId:at,lastStatAt:et}of t.values())et!==0&&ot.push(at);for(const[at,et,Rt]of await T([r,ot])){const Bt=t.get(at)||Fe(at);Bt.lastStatAt=Date.now(),Bt.stat=[et,Rt]}const[ze,Je,Ge]=be;ze&&ae&&ae([r,ze,gs(Je,Ge)])},ot=>{console.warn("_tPS",ot)}).trigger,Ke=ot=>{let[ze,Je,Ge]=ot;const[at,et]=fs(Ge),Rt=[at,et,Je],Bt=t.get(ze)||Fe(ze);Bt.lastCurAt=Date.now(),Bt.cur=Rt,Bt.lastStatAt===0?Oe():h=!0},xe=ot=>{let[ze,Je]=ot;const Ge=t.has(Je);ze===0&&Ge&&(t.delete(Je),o=!0)};let be=["",NaN,NaN],Ee=0;const Ve=function(ot){ot===void 0&&(ot=be[0]);const ze=Ie();if(ze==="")return!1;for(const{socketId:Je,cur:Ge}of t.values())if(Ge&&Ge[2]===ot&&Je!==ze)return!0;return!1},it=function(ot,ze,Je){ze===void 0&&(ze=Nt.Ni),Je===void 0&&(Je=Nt.Ni),!(be[0]===ot&&be[1]===ze&&be[2]===Je)&&(be[0]!==ot&&(Ee=1),!(!Ee&&(t.size<2||!Ve(ot)))&&(be=[ot,ze,Je],Ee&&Ee--,ae&&ae([r,ot,gs(ze,Je)])))},wt=async(ot,ze,Je)=>{if(T!==void 0)throw new Error("no re-init fetchCurStat");T=ot,ae=ze,Ie=Je},gt=()=>{const ot=Ie(),ze=[];if(ot==="")return ze;for(const{socketId:Je,stat:Ge}of t.values()){if(Ge===void 0)continue;const[at,et]=Ge;ot===Je?ze.unshift([Je,at,et]):ze.push([Je,at,et])}return ze},Zt=ot=>{const ze=Ie(),Je=[];if(ze==="")return Je;for(const{socketId:Ge,index:at,cur:et,stat:Rt}of t.values()){if(ze===Ge||et===void 0||Rt===void 0)continue;const[Bt,kt,ke]=et;if(ke!==ot||Bt===Nt.Ni)continue;const[rt,Jt]=Rt;Je.push([at,Bt,kt,rt,Jt])}return Je},Dt=()=>o?(o=!1,!0):!1,Qt=()=>h?(h=!1,!0):!1;return{flpakKey:r,__curStatMap:t,onSocketConnect:je,onRemoteCur:Ke,onRemoteSocket:xe,hasOtherUser:Ve,tryPackCur:it,bind:wt,getRoomStat:gt,getSocketStat:gt,getCurStat:Zt,pollRoomChg:Dt,pollCurChg:Qt,pollChange:Qt}},Yn=r=>{const t=()=>{},o=Oe=>{let[Ke,xe,be]=Oe},h=Oe=>{let[Ke,xe]=Oe},T=Oe=>!1,ae=(Oe,Ke,xe)=>{},Ie=async(Oe,Ke,xe)=>{},je=()=>[],Pe=Oe=>[],Fe=()=>!1;return{flpakKey:r,onSocketConnect:t,onRemoteCur:o,onRemoteSocket:h,hasOtherUser:T,tryPackCur:ae,bind:Ie,getRoomStat:je,getSocketStat:je,getCurStat:Pe,pollRoomChg:Fe,pollCurChg:Fe,pollChange:Fe}},ys=()=>{};let xs=!1;const Mo=r=>{xs=r},No="dat",Io="cmt",jn="mkt:dat",jo=async r=>{let{flpakKey:t,userId:o,uTag:h,token:T,passwd:ae,isDummyCmt:Ie=!1,isAllowDat:je=!1,isAllowCmt:Pe=!1,isAllowCur:Fe=!1,afterStoreCreate:Oe=ys,__fetchFlpakAsync:Ke=Fs.T,onTransferError:xe=ys}=r;const be=ms(t,No,je),Ee=(Ie?wo:ms)((0,Co.J6)(t),Io,Pe),Ve=(Fe?Ws:Yn)(t);await Oe({fssDat:be});const it=async(ke,rt)=>{await be.saveSOS("OTE|"+ke+"|"+rt),await xe(ke,rt)},wt=(0,Et.LZ)({flpakKey:t,needDat:!!je,needCmt:!!Pe,needCur:!!Fe}),gt=!o||!wt?ws():Js({query:{uId:String(o),uTag:h,rKey:wt},usePolling:xs,lossyListenerMap:{[Et.NX]:ke=>{const{payload:rt}=ke;Ve.onRemoteCur(rt)}},queueListenerMap:{[Et.VU]:ke=>{const{error:rt}=ke;console.log("flat-ws drop-client",rt),it("4XX",rt)},[Et.Ei]:ke=>{const{error:rt}=ke;console.log("flat-ws error",rt),it("5XX",rt)},[Et.zS]:()=>{console.log("flat-ws (re)connected"),Ve.onSocketConnect()},[Et.sP]:ke=>{const{payload:rt}=ke;be.onRemotePayloadSave(rt)||Ee.onRemotePayloadSave(rt)||console.warn("drop save payload:",rt)},[Et.$7]:ke=>{const{payload:rt}=ke;console.log("flat-ws room cursor:",rt),Ve.onRemoteSocket(rt)}}});await gt.getReadyPromise();const Zt=async(ke,rt,Jt)=>{try{return await Ke(ke,{token:T,passwd:ae,skipTTre:String(rt||""),skipTPbxList:(Jt||[]).join("")})}catch(Xt){const gn=Gn(Xt);throw bn(Xt)!=="Fch"&&(0,ln.p)("fFS "+bn(Xt),Xt),await it(gn,Xt),Xt}};await Promise.all([be.bind((0,Cn.aF)({userId:o,mtimeOffset:gt.getOffsetMsec()}),Zt).catch(ke=>{throw(0,ln.p)("bindDat",ke),ke}),Ee.bind((0,Cn.aF)({userId:o,mtimeOffset:gt.getOffsetMsec()}),Zt).catch(ke=>{throw(0,ln.p)("bindCmt",ke),ke}),Ve.bind(async ke=>{try{if(gt.getIsConnected())return await gt.emitAsync(Et.Am,ke)}catch(rt){await(0,N.Y_)(42*1e3)}return[]},ke=>gt.getIsConnected()&&gt.emitLossy(Et.pL,ke),gt.getSocketId).catch(ke=>{throw(0,ln.p)("bindCur",ke),ke})]);const Dt=new Error("[tracked-error]"),Qt=async ke=>{if(!ke.hasPatch())return;const rt=ke.preSettlePatch(),Jt=(0,xn.ok)((0,xn.oG)(rt));for(let Xt=0,gn=Jt.length;Xt<gn;Xt++){const vn=Jt[Xt];try{await gt.emitAsync(Et.s5,[ke.flpakKey,vn.length,(0,xn.iM)(vn)])}catch(cn){const Rn=Gn(cn);throw Rn==="5XX"&&(0,ln.p)("saveFss "+bn(cn),cn,ke.name,ke.flpakKey,Xt+1+"/"+gn,vn),await it(Rn,cn),Dt}}ke.postSettlePatch(rt)},ot=(0,y.Ds)(async()=>(0,y.g7)(async()=>{await Qt(be),await Qt(Ee),await be.freeSOS()},5*60*1e3,"lFFss.lA"),ke=>{if(ke===Dt)return;const rt=Gn(ke);(0,ln.p)("lFFss "+bn(ke),ke),Promise.resolve(it(rt,ke)).catch(Jt=>{(0,ln.p)("lFFss "+rt+" Err",Jt)})}),ze=(0,y.Ds)(async()=>{ot.trigger(),await ot.getRunningPromise();for(let ke=0;ke++<16;)!Ve.hasOtherUser()&&await(0,N.Y_)(1e3)});setInterval(ze.trigger,2*1e3),Fe&&setInterval(()=>Ve.onSocketConnect(),20*60*1e3);const Je=be.getFlatStore(),Ge=(0,Ms.uq)(be.getFlatStore());be.useExtORPL(Ge.onRemotePatchList);const at=yo(Ee.getFlatStore());Ee.useExtORPL(at.onRemotePatchList);const et=()=>be.hasPatch()||Ee.hasPatch(),Rt=(0,y.B1)(async()=>(0,y.JN)(async()=>{let ke=0;for(;et();)await(0,N.Y_)(Math.min(ke,5)*1e3),ot.trigger(),await ot.getRunningPromise(),ke++})),Bt=()=>globalThis.MB.getSelectionItems()[0].key,kt=(0,y.J9)(Ve.tryPackCur,125);return{fssDat:be,fssCmt:Ee,cssCur:Ve,flatSocket:gt,flatStore:Je,sdkStore:Ge,cmtStore:at,sendCur:kt,hasSave:et,saveAsync:Rt,theTree:function(ke){return ke===void 0&&(ke=Ut.gT),console.log((0,Ut.Wr)(Je.getFlatTree(),ke))},hotTree:function(ke){return ke===void 0&&(ke=Ut.gT),console.log(Ge.__devHotTree(ke))},slctTree:function(ke){return ke===void 0&&(ke=Bt()),console.log(Ge.__devHotTree(ke))},upTree:function(ke,rt){return ke===void 0&&(ke=Bt()),rt===void 0&&(rt=Ut.gT),console.log(Ge.findUpHotItemList(ke,rt))},newFFT:async function(ke,rt,Jt){return Jt===void 0&&(Jt=rt.name+"-\u4FEE\u590D\u6570\u636E"),(0,xo.N)(ke,rt.team_cid,{...rt,name:Jt})},cmtTree:function(ke){return ke===void 0&&(ke=Ut.gT),console.log(at.__devHotTree(ke))}}},Gn=r=>{const t=r&&r.status;return t>=400&&t<500?"4XX":String(r).toLowerCase().includes("timeout")?"Tot":"5XX"},bn=r=>{const t=r&&r.status,o=[];t>=400&&o.push(String(t));const h=String(r).toLowerCase();return h.includes("timeout")&&o.push("Tot"),h.includes("fetch")&&o.push("Fch"),o.join("")||"Err"},Hs=async r=>{let{flpakKey:t}=r;const o=ms(t,jn,!1),h=async(ae,Ie,je)=>(0,Fs.T)(ae,{skipTTre:String(Ie||""),skipTPbxList:(je||[]).join("")});return await o.bind((0,Cn.aF)({}),h),{sdkStore:(0,Ms.uq)(o.getFlatStore())}}},52781:(Ce,ue,s)=>{"use strict";if(s.d(ue,{$r:()=>J,$z:()=>Z,Aq:()=>te,Cp:()=>A,Jv:()=>a,PJ:()=>b,Uy:()=>q,Wu:()=>j,X:()=>P,Yk:()=>z,ZF:()=>U,a3:()=>re,je:()=>w,rd:()=>V}),s.j!=15)var i=s(46795);var y=s(72907),N=s(81811);const p=300,j=async function(x){x===void 0&&(x="");const c=1;let g=[];try{const f=await(0,i.Yo)("/api/community/v1/workspace/my_star?page="+c+(x&&"&category="+x)+"&page_size="+p);f&&(g=f==null?void 0:f.market_templates.filter(I=>(I==null?void 0:I.version)!=="v1"))}catch(f){(0,y.$r)()}return g.map(f=>({...f,is_star:!0}))},re=async x=>{await(0,i.Ds)("/api/community/v1/market_template/star/"+x)},Z=async x=>{await(0,i.DW)("/api/community/v1/market_template/star/"+x)},z=async function(x,c){c===void 0&&(c=!0);let g;try{g=await(0,i.DE)("/api/community/v1/market_template/"+x)}catch(f){c&&(0,y.ai)(f)}return g},P=function(x){return x===void 0&&(x=""),(0,i.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+x+"&page_size="+p)},q=async()=>{let x;try{x=await(0,i.DE)("/flpak/ww-p2recent")}catch(c){(0,y.$r)()}return x},J=async()=>{try{return await(0,i.DE)("/api/community/v1/hot_icons")}catch(x){(0,y.$r)()}},te=async()=>{try{return await(0,i.DE)("/api/community/v1/hot_color_icons")}catch(x){(0,y.$r)()}},G=x=>{let{category:c="combo_group",keyword:g=""}=x;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+c+"?q="+encodeURIComponent(g))},F={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},A=x=>{let{projectUpperType:c="",projectUpperCid:g="",itemCid:f=""}=x;return(0,i.Ds)("/api/community/v1/recent_template",{project_upper_type:F[c]||c,project_upper_cid:g,item_cid:f})},V=async x=>{const{sdkStore:c}=await(0,N.O3)({flpakKey:x});return c},U=async function(x){x===void 0&&(x="mobile");try{return(await(0,i.DE)("/api/market_template/v4/workspace/new_page_types?platform="+x)).types}catch(c){return console.error(c),[]}},a=async function(x){x===void 0&&(x="mobile");try{return await(0,i.DE)("/api/community/v1/workspace/recommend_page?platform="+x)}catch(c){return(0,y.$r)({onClick:g=>g({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:x,isReRequest:!0}})}),{}}},w=async x=>{let{platform:c,firstTypeCid:g,secondTypeCid:f=null}=x;const I={first_type_cid:g,second_type_cid:f,platform:c};let D=new URLSearchParams;D=Object.assign(D,I);for(const[S,R]of Object.entries(D))R?R==="default"?D.delete(S):D.set(S,R):D.delete(S);try{return await(0,i.DE)("/flpak/ww-p2pagemkt?"+D.toString())}catch(S){return(0,y.$r)({onClick:R=>R({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:c,isReRequest:!0}})}),{}}},b=async()=>{try{const{color_icon_groups:x}=await(0,i.DE)("/api/community/v1/color_icon_groups");return x&&x.length>0?x.reduce((c,g)=>(c[g.source_upper_cid]=g,c),{}):{}}catch(x){return(0,y.$r)(),{}}}},15668:(Ce,ue,s)=>{"use strict";s.d(ue,{Oc:()=>j,Qi:()=>P,R1:()=>te,jf:()=>re,jn:()=>Z,lV:()=>A,tA:()=>z,z9:()=>J});var i=s(51044),y=s(82152),N=s(23423),p=s(57464);const j=(0,i.memo)(V=>{let{type:U="linear",className:a,disabled:w=!1,size:b="common",corner:x="smooth",forceTheme:c,children:g,onClick:f}=V;return(0,p.jsx)(y.Yr,{type:U,className:a,disabled:w,size:b,corner:x,forceTheme:c,onClick:f,children:g})}),re=s.j!=15?(0,i.memo)(V=>{let{type:U="linear",className:a,disabled:w=!1,size:b="common",corner:x="smooth",icon:c,children:g,forceTheme:f,onClick:I}=V;return(0,p.jsx)(y.hE,{type:U,className:a,disabled:w,size:b,corner:x,icon:c,forceTheme:f,onClick:I,children:g})}):null,Z=(0,i.memo)(V=>{let{className:U,children:a,disabled:w=!1,onClick:b}=V;return(0,p.jsx)(y.Yr,{type:"primary",size:"common",className:U,disabled:w,onClick:b,children:a})}),z=V=>{let{className:U,children:a,disabled:w=!1,onClick:b}=V;return(0,p.jsx)(y.Yr,{type:"secondary",size:"common",className:U,disabled:w,onClick:b,children:a})},P=(0,i.memo)(V=>{let{className:U,children:a,disabled:w=!1,onClick:b}=V;return(0,p.jsx)(y.Yr,{type:"danger",size:"common",className:U,disabled:w,onClick:b,children:a})}),q=null,J=s.j!=15?(0,i.memo)(V=>{let{className:U,children:a,disabled:w=!1,onClick:b}=V;return(0,p.jsx)(y.Yr,{type:"link",className:U,disabled:w,onClick:b,children:a})}):null,te=s.j==467?(0,i.memo)(V=>{let{className:U,children:a,disabled:w=!1,onClick:b}=V;return(0,p.jsx)(y.Yr,{type:"primary",size:"tiny",corner:"soft",className:U,disabled:w,onClick:b,children:a})}):null,G=null,F=null,A=s.j!=15?(0,i.memo)(V=>{let{className:U,isLoading:a=!1,children:w,disabled:b=!1,onClick:x}=V;return(0,p.jsx)(y.hE,{type:"secondary",size:"tiny",corner:"soft",className:U,icon:a?(0,p.jsx)(N.C,{name:"general/loading",className:"btn-loading"}):null,disabled:b,onClick:x,children:w})}):null},82152:(Ce,ue,s)=>{"use strict";s.d(ue,{Yr:()=>Z,hE:()=>z,in:()=>re});var i=s(21676),y=s(93839),N=s(15388),p=s(54909);const j=(P,q)=>{const J=P.forceTheme;return J?p.f[q]["value_"+J]:P.theme[q]},re=(0,i.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;font-size:13px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;font-size:13px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],P=>j(P,"color_text_btn"),P=>j(P,"color_btn_primary_normal"),P=>j(P,"color_btn_primary_hover"),P=>j(P,"color_btn_primary_clicked"),P=>j(P,"color_text_disabled02"),P=>j(P,"color_btn_primary_disabled"),P=>j(P,"color_text_L1"),P=>j(P,"color_bg_white"),P=>j(P,"color_bg_border_02"),P=>j(P,"color_btn_secondary_hover"),P=>j(P,"color_bg_border_02"),P=>j(P,"color_btn_secondary_active"),P=>j(P,"color_bg_border_02"),P=>j(P,"color_text_disabled01"),P=>j(P,"color_bg_white"),P=>j(P,"color_bg_border_02"),P=>j(P,"color_text_btn"),P=>j(P,"color_btn_danger_normal"),P=>j(P,"color_btn_danger_hover"),P=>j(P,"color_btn_danger_clicked"),P=>j(P,"color_text_disabled02"),P=>j(P,"color_btn_danger_disabled"),P=>j(P,"color_text_L1"),P=>j(P,"color_btn_secondary_hover"),P=>j(P,"color_btn_secondary_active"),P=>j(P,"color_text_disabled01")),Z=(0,i.Ay)(y.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1w5kpr3-0"})(["",";"],re),z=(0,i.Ay)(N.A).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1w5kpr3-1"})(["",";"],re)},60081:(Ce,ue,s)=>{"use strict";s.d(ue,{s:()=>R,A:()=>D});var i=s(74059),y=s(51044),N=s(86634),p=s.n(N),j=s(67231),re=s.n(j),Z=s(11334),z=s(19418),P=s(7775),q=s(23423),J=s(11777),te=s(89535),G=s(73773),F=s(57465),A=s(21676),V=s(17084);const U=(0,A.DU)([".no-pointer-events{pointer-events:none;user-select:none;&.col-resize{cursor:",";}&.row-resize{cursor:",";}}"],V.M.ewResizeActive,V.M.nsResizeActive),a=A.Ay.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-15aenl9-0"})(['position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;height:28px;font-size:12px;border-radius:6px;overflow:hidden;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:',";&.title-cursor{&.col-resize{cursor:",";}&.row-resize{cursor:",";}}}.left-title{padding:0 13px 0 0;}.normal-right{margin-left:","px;}input{color:",";width:100%;height:100%;margin-left:8px;cursor:default;}.text-align-right{text-align:right;padding-right:2px;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:14px;height:100%;text-align:center;visibility:hidden;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";&.no-transition{transition:none;}&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:26px;svg{width:26px;height:26px;margin-right:0;color:",";}button{height:100%;}&.active{visibility:visible;}}}&.is-disabled{> *{color:",";cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 26px);border:1px solid transparent;border-radius:4px 0 0 4px;margin-left:0;padding-left:5px;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&:active:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&.is-active{overflow:visible;input{border:1px solid ",";outline:1px solid ",";position:relative;z-index:2;}.action.caret{visibility:visible;color:#c8cdd0;position:relative;z-index:1;svg.icon{color:",";}&:hover{background:",";border-radius:0 4px 4px 0;outline:1px solid ",";}}}}"],O=>O.theme.color_text_L3,V.M.ewResize,V.M.nsResize,O=>31-O.valueLength*6,O=>O.theme.color_text_L1,O=>O.theme.color_text_L2,O=>O.theme.color_text_L3,O=>O.theme.color_text_L2,O=>O.theme.color_text_L2,O=>O.theme.color_text_L3,O=>O.theme.color_text_disabled01,O=>O.theme.color_bg_border_02,O=>O.theme.color_proto,O=>O.theme.color_proto,O=>O.theme.color_proto,O=>O.theme.color_proto,O=>O.theme.color_bg_border_02,O=>O.theme.color_btn_secondary_hover,O=>O.theme.color_text_L1,O=>O.theme.color_bg_border_02,O=>O.theme.color_btn_secondary_active,O=>O.theme.color_text_L1,O=>O.theme.color_proto,O=>O.theme.color_proto,O=>O.theme.color_text_L1,O=>O.theme.color_btn_secondary_hover,O=>O.theme.color_bg_border_02);var w=s(57464);const b=500,x=30,c=(O,ee)=>Number(Number(O).toFixed(ee));function g(O,ee,E){return E===void 0&&(E=0),ee?O:c(O!==""&&re()(Number(O))?Number(O):"",E)}const f=function(O,ee){let{shiftKey:E,metaKey:B}=O;return ee===void 0&&(ee=1),E?ee*10:B?ee*100:ee},I=O=>{let{currentTarget:ee}=O;return setTimeout(()=>ee.select(),50)};class D extends y.PureComponent{constructor(ee){super(ee),(0,i.A)(this,"setElemRef",E=>this.$title=E),(0,i.A)(this,"setLabelRef",E=>this.$label=E),(0,i.A)(this,"setInputRef",E=>this.$input=E),(0,i.A)(this,"onChange",E=>{const{target:{value:B}}=E,{isEditing:X}=this.state;!X&&this.setState({isEditing:!0});const ne=B.trim();this.setValue(ne,E)}),(0,i.A)(this,"correctNumber",E=>{const{value:B,min:X,max:ne,precision:se,suffix:fe,parser:Me}=this.props,Ae=Me(E,fe),Re=c(Math.min(Math.max(Ae,X),ne),se);return isNaN(Re)?B:Re}),(0,i.A)(this,"checkValidity",E=>/^\+$/.test(E)?this.canBePositive:/^-$/.test(E)?this.canBeNegative:E===""||isFinite(E)&&this.correctNumber(E)===Number(E)),(0,i.A)(this,"setValue",(E,B,X)=>{B.persist&&B.persist(),this.setState({value:E},X)}),(0,i.A)(this,"setConfirmedValue",(E,B)=>this.setValue(E,B,()=>this.onConfirm(B))),(0,i.A)(this,"onConfirm",E=>{const{attr:B,value:X,precision:ne,onConfirm:se,shouldCorrectOnConfirm:fe,onlyPreview:Me,fontSize:Ae,fontFamily:Re,isWRichText:Ue}=this.props,{value:He}=this.state,$e=this.checkValidity(He);if(this.props.isDisabled||this.props.disabled)return;E.persist&&E.persist();const Y=this.correctNumber(He),$=isNaN(Y)?X:Y;let he=He===""?X:$e?/^[+-]$/.test(He)?0:Me?Math.min(Math.max(Number(He),20),400):Number(He):Y===c(He,ne)?Y:fe?$:X||$;(!$e||He==="")&&Ue&&(he=(0,F.qp)(Re,Ae));const _e=he;return this.setState({value:he,isEditing:!1},()=>se(_e,B,E,He))}),(0,i.A)(this,"focusOnInput",E=>{try{const B=E.currentTarget.closest("label").querySelector("input");setTimeout(()=>{B.focus()})}catch(B){console.error(B)}}),(0,i.A)(this,"onStep",E=>{E.persist(),E.nativeEvent.stopPropagation(),this.handleBeforeChangeValue();const{parser:B,suffix:X}=this.props,{value:ne}=this.state,se=B(ne,X),{action:fe}=E.currentTarget.dataset,Me=f(E,this.props.step)*(fe==="up"?1:-1);this.setConfirmedValue(this.correctNumber(se+Me),E),this.focusOnInput(E),Object.assign(this,{longPressedTimeout:setTimeout(()=>Object.assign(this,{steppingInterval:setInterval(()=>{const{parser:Ae,suffix:Re}=this.props,{value:Ue}=this.state,He=Ae(Ue,Re);this.setConfirmedValue(this.correctNumber(He+Me),E)},x)}),b)})}),(0,i.A)(this,"onRelease",()=>{clearTimeout(this.longPressedTimeout),clearInterval(this.steppingInterval),this.handleAfterChangeValue()}),(0,i.A)(this,"onFocus",E=>{const{attr:B,dontSelectOnFocus:X,onFocus:ne=X?void 0:I}=this.props;ne(E,B)}),(0,i.A)(this,"onKeyDown",E=>{const{key:B,currentTarget:X}=E,{disableKeyboardEvents:ne}=this.props;if(ne&&(B===G._.ArrowUp||B===G._.ArrowDown)){E.preventDefault();return}const se=B===G._.ArrowUp?"up":B===G._.ArrowDown?"down":B===G._.Enter?"enter":B===G._.Tab?"tab":null,fe=X instanceof Element&&X.matches("input");if(se){if(E.persist&&E.persist(),se!=="tab"&&E.preventDefault(),fe&&se==="tab")return this.setInactive(),this.setState({isEditing:!1}),this.onConfirm(E);if(fe&&se==="enter"){this.onConfirm(E),this.setInactive(),this.setState({isEditing:!1}),this.$input.blur();return}if(fe){const{parser:Me,suffix:Ae}=this.props,{value:Re}=this.state,Ue=Me(Re,Ae),He=f(E,this.props.step)*(se==="up"?1:-1);this.handleBeforeChangeValue(),this.setState({isEditing:!1}),this.setConfirmedValue(this.correctNumber(Ue+He),E)}}}),(0,i.A)(this,"setActive",()=>{this.setState({isActive:!0}),MB&&MB.f&&(MB.f.isInSetting=!0);const{withToolTip:E,onChangeTooltipsHover:B}=this.props;E&&(this.setState({showTooltip:!1}),B&&B(!1))}),(0,i.A)(this,"setInactive",()=>{this.setState({isActive:!1,isEditing:!1}),MB&&MB.f&&(MB.f.isInSetting=!1)}),(0,i.A)(this,"toggleMenu",()=>this.setState({isMenuOpen:!this.state.isMenuOpen})),(0,i.A)(this,"closeMenu",()=>this.setState({isMenuOpen:!1})),(0,i.A)(this,"onSelect",E=>{E.persist();const{attr:B,onConfirm:X}=this.props,{currentTarget:ne}=E,{value:se}=ne.dataset;this.setState({value:se,isEditing:!1},()=>X(se,B,E)),this.setInactive(),this.closeMenu()}),(0,i.A)(this,"onClickOutside",E=>{const{target:B}=E;B.closest("label")&&this.$label.contains(B)||B.closest(".SelectOption")||(this.onConfirm(E),this.setInactive(),this.setState({isEditing:!1}))}),(0,i.A)(this,"onBlur",E=>{this.onConfirm(E),this.setState({isEditing:!1}),this.props.onBlur(E)}),(0,i.A)(this,"handleRectResize",E=>{E.stopPropagation();const{isDisabled:B,disabled:X,cursorSize:ne,cursorDirection:se,onResizeMove:fe,onResizeEnd:Me,attr:Ae}=this.props;if(B||X)return;const{left:Re,right:Ue,top:He,bottom:$e}=this.$title.getBoundingClientRect();this.lastRecordedClientX=ne==="col-resize"?(Re+Ue)/2:(He+$e)/2,this.lastRecordedValue=Number(this.state.value),this.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",ne),sdkStore.combineMergeMark("input-number-"+Ae),this.handleBeforeChangeValue();const ve=$=>{fe&&fe();const he=(ne==="col-resize"?$.pageX:$.pageY)-this.lastRecordedClientX,_e=this.correctNumber(this.lastRecordedValue+(se?Number(he):-Number(he)));this.setConfirmedValue(_e,$)},Y=()=>{Me&&Me(),this.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",ne),this.handleAfterChangeValue(),sdkStore.combineMerge("input-number-"+Ae),document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",ve),document.addEventListener("mouseup",Y)}),(0,i.A)(this,"handleChangeCursor",()=>{const{isDisabled:E,disabled:B}=this.props;E||B||this.setState({isCursor:!this.state.isCursor})}),(0,i.A)(this,"handleAfterChangeValue",()=>{const{onAfterChangeValue:E}=this.props;E()}),(0,i.A)(this,"handleBeforeChangeValue",()=>{const{onBeforeChangeValue:E}=this.props;E()}),(0,i.A)(this,"onInputNumberMouseEnter",E=>{const{onMouseEnter:B,withToolTip:X,onChangeTooltipsHover:ne}=this.props;B(E),this.setState({mouseEntered:!0});const se=()=>this.setState({showTooltip:!0});X&&(ne?ne(!0,se):se())}),(0,i.A)(this,"onInputNumberMouseLeave",E=>{const{onMouseLeave:B,withToolTip:X,onChangeTooltipsHover:ne}=this.props;B(E),this.setState({mouseEntered:!1}),X&&(this.setState({showTooltip:!1}),ne&&ne(!1))}),this.state={prevProps:this.props,value:g(this.props.value,this.props.isNotVerify,this.props.precision),isActive:!1,isMenuOpen:!1,isTitleActive:!1,isCursor:!1,isEditing:!1,showTooltip:!1,mouseEntered:!1},this.lastRecordedClientX=null,this.lastRecordedValue=g(this.props.value,this.props.isNotVerify,this.props.precision),this.toolTipNode=document.getElementById("IBOT_TOOLTIP_ROOT")}static getDerivedStateFromProps(ee,E){let{prevProps:B}=E;return B.value!==ee.value||B.isNotVerify!==ee.isNotVerify||B.precision!==ee.precision?{prevProps:ee,value:g(ee.value,ee.isNotVerify,ee.precision)}:null}componentDidMount(){this.props.isSelect&&(this.$input.select(),this.setState({isActive:!0}))}componentDidUpdate(ee){!ee.isSelect&&this.props.isSelect&&this.$input.select()}get canBePositive(){return this.props.max>0}get canBeNegative(){return this.props.min<0}render(){const{inputClassName:ee,menuClassName:E,className:B="",placeholder:X,title:ne,rightTitle:se,cursorSize:fe,suffix:Me,actionButton:Ae,formatter:Re,optionList:Ue,canSlidingAdjustment:He,readOnly:$e,toolTipContent:ve,showCaretIcon:Y,normalRight:$,isLongTimeHoverForInput:he=!1}=this.props,{value:_e,isActive:we,isMenuOpen:Be,isTitleActive:n,isCursor:De,isEditing:Ye,showTooltip:qe,mouseEntered:ut}=this.state,pt=_e,lt=this.props.isDisabled||this.props.disabled,ft=Ue&&Ue.length>0,Tt=p()(B,"WorkspaceInputNumber",{"is-disabled":lt,"is-active":we&&!lt,"is-menu-open":Be,"is-active-title":n,"can-sliding-adjustment":He,"has-menu":ft,"is-readOnly":$e}),Ct=X,Ot=String(_e).split(".").join("").length-1,Pt=he?J.A:te.A;return(0,w.jsx)(Pt,{content:ve,direction:"down",children:(0,w.jsxs)(a,{className:Tt,ref:this.setLabelRef,onMouseDown:ft?void 0:this.setActive,onMouseEnter:this.onInputNumberMouseEnter,onMouseLeave:this.onInputNumberMouseLeave,valueLength:Ot,children:[ne&&(0,w.jsx)("span",{className:p()("title",{"title-cursor":De},fe),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:ne}),(0,w.jsx)("input",{className:p()(ee,{"text-align-right":$&&!ut&&!we}),type:"text",value:Ye?pt:Re(pt,Me),placeholder:Ct,ref:this.setInputRef,disabled:lt,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.handleAfterChangeValue,onMouseDown:ft?this.setActive:void 0,onFocus:this.onFocus,onBlur:this.onBlur}),se&&(0,w.jsx)("span",{className:p()("title","left-title",{"title-cursor":De},fe),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:se}),Ae&&(0,w.jsx)(S,{hasMenu:ft,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease,showCaretIcon:Y}),ft&&Be&&(0,w.jsx)(P.V0,{isOpen:Be,menuClassName:p()("SelectNumberMenu",E),$select:this.$label,optionList:Ue,value:pt,onChange:this.onSelect,onClose:this.closeMenu}),we&&(0,w.jsx)(z.A,{target:document,onMouseDown:(0,z.t)(this.onClickOutside,{capture:!0})})]})})}}(0,i.A)(D,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",menuClassName:"",cursorDirection:!0,step:1,isNotVerify:!1,formatter:(O,ee)=>""+O+(ee||""),parser:(O,ee)=>{const E=O.toString();return ee&&E.endsWith(ee)?Number(E.slice(0,E.length-ee.length)):Number(E)},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onAfterChangeValue:()=>null,onBeforeChangeValue:()=>null,onBlur:()=>null,shouldCorrectOnConfirm:!0,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0,isLineHeight:!1,disableKeyboardEvents:!1});const S=(0,y.memo)(O=>{let{hasMenu:ee,onToggleMenu:E,onStep:B,onRelease:X,showCaretIcon:ne}=O;return(0,w.jsxs)(y.Fragment,{children:[ee?(0,w.jsx)("div",{className:p()("action caret",{active:ne}),children:(0,w.jsx)(Z.Ay,{className:"no-transition",type:"text",tabIndex:"-1",onClick:E,children:(0,w.jsx)(q.C,{name:"common/expand@26"})})}):(0,w.jsxs)("div",{className:"action",children:[(0,w.jsx)(Z.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"up",onMouseDown:B,onMouseLeave:X,onMouseUp:X,children:(0,w.jsx)(q.C,{name:"general/triangle_up"})}),(0,w.jsx)(Z.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"down",onMouseDown:B,onMouseLeave:X,onMouseUp:X,children:(0,w.jsx)(q.C,{name:"general/triangle_down"})})]}),(0,w.jsx)(U,{})]})}),R=O=>(0,w.jsx)(D,{...O,isLongTimeHoverForInput:!0})},46479:(Ce,ue,s)=>{"use strict";s.d(ue,{Tw:()=>J,ft:()=>te});var i=s(51044),y=s(57464);const N="/mb-static/2308/loading.gif",p="/mb-static/2308/loading-mo.gif",j=(G,F)=>F?"."+G:G,re=G=>_jsx("img",{className:G.className,alt:"Loading...",src:j(G.isMockitt?p:N,G.isHtmlZip)}),Z=G=>(0,y.jsx)("img",{className:G.className,alt:"Loading...",src:j(ENV.IS_WONDER_SHARE?p:N,G.isHtmlZip)}),z=G=>(0,y.jsx)("img",{className:G.className,alt:"Loading...",src:j(p,G.isHtmlZip)});var P=s(94947);const q=null,J=s.j!=15?(0,i.memo)(G=>(0,y.jsx)(Z,{...G,isHtmlZip:(0,P.FM)()})):null,te=(0,i.memo)(G=>(0,y.jsx)(z,{...G,isHtmlZip:(0,P.FM)()}))},54608:(Ce,ue,s)=>{"use strict";s.d(ue,{n:()=>q,A:()=>J});var i=s(51044),y=s(86634),N=s.n(y),p=s(23423),j=s(11777),re=s(21676);const Z=re.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-1a6p3ca-0"})(["display:flex;height:100%;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:1;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:",";}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}&.isV9Layout{height:48px;min-height:48px;padding:0 6px;.nav-item{flex:none;font-size:13px;color:",";&.active{color:",";font-weight:bold;&.background_active{background-color:transparent;}}}}"],te=>te.theme.color_text_L2,te=>te.theme.color_text_L1,te=>te.theme.color_text_L1,te=>te.theme.color_bg_card,te=>te.theme.color_text_L1,te=>te.theme.color_text_disabled01,te=>te.theme.color_text_L3,te=>te.theme.color_text_L0);var z=s(57464);const P=(0,i.memo)(te=>{let{activeIndex:G=0,className:F,layoutV9:A="old",children:V,onTabChange:U}=te;const a=A==="recommend";return(0,z.jsx)(Z,{className:N()(F,{isV9Layout:a}),children:i.Children.map(V,(w,b)=>{const x={index:b,active:b===G,onClick:U};return i.cloneElement(w,x)})})}),q=(0,i.memo)(te=>{let{className:G,index:F,active:A,onClick:V,label:U,tooltip:a,isNew:w,disabled:b,tempDisabled:x}=te;const c=()=>{if(b)return x&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;V(F)},g=(0,z.jsxs)("li",{className:N()("nav-item",{active:A},{disabled:b},G),onClick:c,children:[U&&(0,z.jsxs)("span",{className:"nav-label",children:[U,a&&a]}),w&&(0,z.jsx)(p.C,{name:"design/tab/new",className:"tabNewIcon"})]});return b?(0,z.jsx)(j.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:g}):g}),J=P},39719:(Ce,ue,s)=>{"use strict";s.d(ue,{eY:()=>c,At:()=>b,pU:()=>x,DV:()=>g,Ay:()=>w});var i=s(74059),y=s(51044);if(s.j!=15)var N=s(15336);var p=s(72605),j=s(21676);const re=(0,j.DU)(["div.notice-tips-container{.notice-tips{min-height:38px;p{color:",";}:not(.pure-svg-icon).svg-icon{fill:",";}&.success{.tip-svg{path:nth-child(1){fill:",";}}}&.warning{.tip-svg{path:nth-child(1){fill:",";}}}&.error{.tip-svg{circle{fill:",";}}.button-a{cursor:pointer;}.button-p{margin-left:0;}}&.super{background-color:",";p{margin:0 16px 0 4px;}.times-icon{path{fill:",";}}}}}"],f=>f.theme.color_text_btn,f=>f.theme.color_text_btn,f=>f.theme.color_success,f=>f.theme.color_warning,f=>f.theme.color_error,f=>f.theme.color_error,f=>f.theme.color_text_btn);var Z=s(43441),z=s(90503),P=s(37337);const q=j.Ay.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"sc-1ehf3rt-0"})([".notice-tips{width:100%;height:100%;min-height:38px;padding:8px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:6px;p{margin:0 0 0 4px;}&.info{background-color:",";p{margin:0 4px;}a{margin-left:12px;color:#80BCFF;&:hover{color:#A6D2FF;}}}&.success{background:",";box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);border-radius:6px;}&.warning{background-color:",";}&.error{background-color:",";}&.super{background-color:",";}&.loading{background-color:",";.tip-svg{animation:design-ani-spinning 1s infinite linear;fill:rgb(69,70,71);}}@keyframes design-ani-spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}.times-icon{width:20px;display:flex;flex-shrink:0;opacity:1;cursor:pointer;transition:opacity 0.15s ease-out;margin-left:16px;align-self:center;&:hover{opacity:1;}}.tip-svg{width:20px;height:20px;}}a{text-decoration:underline;color:",";&:hover{color:",";}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],P.f.color_bg_white.value_light,P.f.color_btn_secondary_active.value_dark,P.f.color_btn_secondary_active.value_dark,P.f.color_btn_secondary_active.value_dark,P.f.color_btn_secondary_active.value_dark,P.f.color_error.value_light,P.f.color_btn_secondary_active.value_dark,P.f.color_text_link_normal.value_dark,P.f.color_text_link_hover.value_dark);var J=s(57464);const te={success:"design/toast/success",error:"design/toast/error",warning:"design/toast/warning",super:"design/toast/offline",loading:"design/toast/loading"};class G extends y.PureComponent{render(){const{isShow:I,type:D,text:S,showClose:R,isReactDom:O,CustomChildComponent:ee,svgName:E,onDisappear:B}=this.props;return(0,J.jsx)(q,{children:(0,J.jsx)(Z.A,{in:I,timeout:2500,classNames:"fade",unmountOnExit:!0,children:(0,J.jsxs)("div",{className:"notice-tips "+D,children:[E&&(0,J.jsx)(z.C,{name:E,className:"tip-svg",isColorPure:!0}),!E&&D&&te[D]&&(0,J.jsx)(z.C,{name:te[D],className:"tip-svg",isColorPure:!0}),(0,J.jsxs)(y.Fragment,{children:[O?S:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("p",{dangerouslySetInnerHTML:{__html:S}}),(typeof ee=="function"||typeof ee=="object")&&(0,J.jsx)(ee,{})]}),R&&(0,J.jsx)(z.C,{className:"times-icon",name:"general/times",onClick:B})]})]})})})}}(0,i.A)(G,"defaultProps",{isShow:!1,type:"info",showClose:!1,isReactDom:!1,svgName:""});const F=j.Ay.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1ewb7bf-0"})(["position:fixed;left:50%;top:56px;max-width:480px;transform:translateX(-50%);z-index:1052;"]);var A=s(60185);class V extends y.PureComponent{constructor(I){super(I),(0,i.A)(this,"timerId",null),(0,i.A)(this,"handleDisappear",()=>{typeof this.props.closeCallback=="function"&&this.props.closeCallback()}),this.el=document.createElement("div")}componentDidMount(){document.body.appendChild(this.el),this.props.isShow&&this.updateTimer()}componentDidUpdate(I,D,S){const{isShow:R,id:O}=this.props,{isShow:ee,id:E}=I;(O!==E&&R||R&&R!==ee)&&this.updateTimer()}updateTimer(){this.timerId&&clearTimeout(this.timerId);const{duration:I}=this.props;this.timerId=I&&setTimeout(this.handleDisappear,I)}componentWillUnmount(){document.body.removeChild(this.el),this.timerId&&clearTimeout(this.timerId)}render(){const{isShow:I,type:D,text:S,showClose:R,isReactDom:O,CustomChildComponent:ee,svgName:E,className:B}=this.props;return(0,A.createPortal)(I&&(0,J.jsx)(F,{className:B,children:(0,J.jsx)(G,{isShow:I,type:D,showClose:R,onDisappear:this.handleDisappear,isReactDom:O,text:S,CustomChildComponent:ee,svgName:E})}),this.el)}}(0,i.A)(V,"defaultProps",{text:"",isShow:!1,type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",id:"",duration:2e3,closeCallback:()=>null});const U=V,a={isShow:!1,text:"",type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",duration:2e3,id:""};class w extends y.PureComponent{constructor(I){super(I),(0,i.A)(this,"closeCallback",null),(0,i.A)(this,"handleDisappear",()=>{this.setState({isShow:!1}),typeof this.closeCallback=="function"&&this.closeCallback(),this.priority=0}),this.state=a,this.priority=0}componentDidMount(){MB.notice=I=>{let{text:D,type:S="info",CustomChildComponent:R=void 0,duration:O=2e3,showClose:ee=!1,isReactDom:E=!1,closeCallback:B=null,priority:X=0,svgName:ne="",id:se=Math.random().toString(36).slice(2),isShow:fe=!0}=I;this.priority>X||(clearTimeout(this.timer),this.setState({isShow:fe,text:D,type:S,showClose:ee,id:se,isReactDom:E,CustomChildComponent:R,svgName:ne,duration:O}),this.closeCallback=B,this.priority=X)}}componentWillUnmount(){this.setState({isShow:!1})}render(){const{isShow:I,type:D,duration:S,text:R,showClose:O,id:ee,isReactDom:E,CustomChildComponent:B,svgName:X}=this.state;return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(U,{className:"notice-tips-container",isShow:I,type:D,text:R,id:ee,duration:S,showClose:O,isReactDom:E,CustomChildComponent:B,svgName:X,closeCallback:this.handleDisappear}),(0,J.jsx)(re,{})]})}}const b=f=>(0,y.memo)(()=>{const I=()=>(0,N.JW)("/hc/articles/393","_blank","noreferrer");return(0,J.jsx)("a",{style:{cursor:"pointer"},onClick:I,children:f})}),x=s.j!=15?(0,y.memo)(()=>{const f=(0,p.wA)(),I=()=>f({type:"toolbar:sharingManager:open"});return(0,J.jsx)("a",{onClick:I,children:I18N.ScreenPanel.share_panel})}):null,c=f=>(0,y.memo)(()=>{const I=()=>(0,N.JW)(I18N.link.link_article_business_font_state,"_blank","noreferrer");return(0,J.jsx)("a",{className:"button-a",onClick:I,children:f})}),g=f=>{let{onClick:I}=f;return(0,y.memo)(()=>{const D=(0,p.wA)(),S=()=>{I&&I(D)};return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("a",{className:"button-a",onClick:S,children:I18N.dModule.network_api_error_2}),(0,J.jsx)("p",{className:"button-p",children:I18N.dModule.network_api_error_3})]})})}},3895:(Ce,ue,s)=>{"use strict";s.d(ue,{FU:()=>p,OO:()=>Z,Z8:()=>y,au:()=>re,lY:()=>j,p_:()=>N,zB:()=>i});const i={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},y={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},N={org_owner:i.OWNER,org_manager:i.SUPERMANAGER,org_admin:i.MANAGER,org_member:i.MEMBER,org_viewer:i.VIEWER},p={space_owner:i.MANAGER,space_manager:i.MANAGER,space_member:i.MEMBER,space_viewer:i.VIEWER,space_limiter:i.LIMITER},j={team_owner:i.MANAGER,team_manager:i.MANAGER,team_member:i.MEMBER,team_viewer:i.VIEWER,team_none:i.VIEWER,team_ban_viewer:i.BANNED},re=Object.assign({project_owner:i.MANAGER,project_team_owner:i.MANAGER,project_manager:i.MANAGER,project_member:i.MEMBER,project_viewer:i.VIEWER,project_none:i.VIEWER,project_ban_viewer:i.BANNED},j),Z={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},z={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},96510:(Ce,ue,s)=>{"use strict";s.d(ue,{s:()=>J});var i=s(46795);const y=async(te,G)=>{const{project:F}=await(0,i.zi)("/api/dashboard/v5/projects/"+te+"/invite",G);return F},N=async(te,G)=>(0,i.SN)("/api/dashboard/v5/permissions/projects/"+te,G),p=async(te,G)=>{await(0,i.uz)("/api/dashboard/v5/permissions/projects/"+te,G)};var j=s(15573),re=s(61654),Z=s(50378);const z=async(te,G)=>await(0,i.DE)("/api/dashboard/v5/spaces/"+te+"?org_cid="+G),P={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let q=function(te){return te.Org="org",te.OrgSpace="space",te.Folder="folder",te.Project="project",te}({});const J={"entry:projectAccess:initProjectData":async(te,G)=>{let{getState:F,dispatch:A}=te,{payload:V}=G;try{const{initData:U,members:a}=V,w=U==null?void 0:U.org,{user:b,space:x,project:c,team:g,top_parent_team:f,lang:I}=U||{},D=new Map,S=new Map;return D.set(g==null?void 0:g.cid,g),D.set(f==null?void 0:f.cid,f),g!=null&&g.parent_cid&&(g==null?void 0:g.parent_cid)!==f.cid&&D.set(g==null?void 0:g.parent_cid,f),S.set(c==null?void 0:c.cid,c),A({type:Z.X2.UpdateState,payload:{user:b,org:{...w,members:a},space:x,folderListMap:D,projectListMap:S,lang:I}}),!0}catch(U){return console.error(U.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(te,G)=>{let{getState:F,dispatch:A}=te,{payload:V}=G;const{projectCid:U,userCid:a,roleName:w,userName:b}=V;if(!U||!a)return;const x=F(),c=(0,re.IE)(x),g=(0,re.M0)(x),f=(0,re._B)(x);try{const I=await y(U,{user_cid:a,role:w}),{space:D}=await z(g,c);f.set(I.cid,I),await A({type:Z.X2.UpdateProjectListMap,payload:new Map(f)}),await A({type:Z.X2.UpdateSpace,payload:D}),window.top.postMessage({type:"updateApp",data:{newApp:(0,j.A)(I)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:b,other:P[w]}}},"*")}catch(I){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(te,G)=>{let{getState:F,dispatch:A}=te,{payload:V}=G;const{projectCid:U,userId:a,roleName:w,userName:b}=V,x=F();try{const{permission:c}=await N(U,{target_role:w,target_user_id:a}),g=(0,re._B)(x),f=g.get(U),I=(f==null?void 0:f.permissions)||[],D=I.find(O=>Number(O.user_id)===Number(a));let S=[];D?S=I.map(O=>Number(O.user_id)===Number(a)?c:O):S=[...I,c];const R={...f,permissions:S};g.set(U,R),await A({type:Z.X2.UpdateProjectListMap,payload:new Map(g)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,j.A)(R)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:b,other:P[w]}}},"*")}catch(c){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(te,G)=>{let{getState:F,dispatch:A}=te,{payload:V}=G;const{projectCid:U,userId:a,roleName:w,userName:b}=V,x=F();try{await p(U,{target_role:w,target_user_id:a});const c=(0,re._B)(x),g=c.get(U),f=(g==null?void 0:g.permissions)||[];if(f.find(D=>Number(D.user_id)===Number(a))){const D=f.filter(R=>Number(R.user_id)!==Number(a)),S={...g,permissions:D};c.set(U,S),await A({type:Z.X2.UpdateProjectListMap,payload:new Map(c)}),window.top.postMessage({type:"successMsg",data:{msg:{name:b,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,j.A)(S)}},"*")}}catch(c){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},50378:(Ce,ue,s)=>{"use strict";s.d(ue,{Ay:()=>p,X2:()=>y});const i={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let y=function(j){return j.UpdateState="reducer:update:user",j.UpdateUser="reducer:update:user",j.UpdateOrg="reducer:update:org",j.UpdateSpace="reducer:update:space",j.UpdateFolderListMap="reducer:update:folderListMap",j.UpdateProjectListMap="reducer:update:projectListMap",j}({});const p=function(j,re){j===void 0&&(j=i);const{type:Z,payload:z}=re;switch(Z){case y.UpdateState:return{...j,...z};case y.UpdateUser:return{...j,user:{...j.user,...z}};case y.UpdateOrg:return{...j,org:{...j.org,...z}};case y.UpdateSpace:return{...j,space:{...j.space,...z}};case y.UpdateFolderListMap:return{...j,folderListMap:z};case y.UpdateProjectListMap:return{...j,projectListMap:z};default:return j}}},61654:(Ce,ue,s)=>{"use strict";s.d(ue,{IE:()=>re,M0:()=>q,WR:()=>p,XW:()=>te,_B:()=>G,cb:()=>F,hG:()=>U,iF:()=>J,il:()=>P,kG:()=>z,oV:()=>V,q7:()=>w,wA:()=>j,yZ:()=>A});var i=s(63686),y=s(59318),N=s(37673);const p=b=>{var x;return(x=b.projectAccess.user)==null?void 0:x.user_id},j=b=>b.projectAccess.org,re=b=>{var x;return((x=b.projectAccess.org)==null?void 0:x.cid)||""},Z=b=>{var x;return((x=b.projectAccess.org)==null?void 0:x.members)||[]},z=b=>{var x;return((x=b.projectAccess.org)==null?void 0:x.permissions)||[]},P=b=>b.projectAccess.space,q=b=>b.projectAccess.space.cid,J=b=>b.projectAccess.space.permissions||[],te=b=>b.projectAccess.folderListMap||new Map,G=b=>b.projectAccess.projectListMap||new Map,F=(0,i.Mz)(p,z,(b,x)=>(0,y.oE)({userId:b,orgPermissions:x})),A=(0,i.Mz)(p,J,(b,x)=>(0,y.sq)({userId:b,spacePermissions:x})),V=(0,i.Mz)(J,b=>{const x=(0,y.Rc)(b);return b.reduce((c,g)=>{const{user_id:f}=g,I=(0,y.CF)({userId:f,permissionsMap:x,permissionScope:N.W.OrgSpace});return c.set(Number(f),I)},new Map)}),U=(0,i.Mz)(J,b=>b.filter(c=>c.role==="space_limiter").reduce((c,g)=>{const{user_id:f}=g;return c.set(Number(f),g)},new Map)),a=(0,i.Mz)(Z,b=>b.reduce((x,c)=>{const{user_id:g,user_cid:f,email:I,mobile:D}=c;return g&&f?x.set(Number(g)||g,{...c}):(I&&x.set(I,{...c}),D&&x.set(D,{...c}),x)},new Map)),w=(0,i.Mz)(z,a,(b,x)=>b.reduce((c,g)=>{const{user_id:f,unsign_remark:I}=g,D=f||I,S=x.get(D)||{},R=(0,y.Sc)(g);return c.set(D,{...S,permission:R})},new Map))},37673:(Ce,ue,s)=>{"use strict";s.d(ue,{W:()=>i,p:()=>y});let i=function(N){return N.Org="org",N.OrgSpace="space",N.Folder="folder",N.Project="project",N}({}),y=function(N){return N.OrgSpace="orgspace-permission-tip",N.OrgSpaceLimiter="orgspace-limiter-permission-tip",N.RootFolder="root-folder-permission-tip",N.SubFolder="sub-folder-permission-tip",N.Project="project-permission-tip",N}({})},15573:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>p,u:()=>N});var i=s(63924),y=s.n(i);const N=(j,re)=>{if(!(j!=null&&j.cid))return-1;let Z=0,z="",P=j;for(;P&&!P.root_project&&(Z=Z+1,z=P.parent_cid,!!z);)P=re.get(z);return Z};function p(j){return j&&Object.entries(j).reduce((re,Z)=>{let[z,P]=Z;return Object.assign(re,{[y()(z)]:P})},{})}},59318:(Ce,ue,s)=>{"use strict";s.d(ue,{CF:()=>U,CZ:()=>p,Cj:()=>q,Rc:()=>V,Sc:()=>Z,oE:()=>J,ox:()=>re,pf:()=>A,sq:()=>te});var i=s(3895),y=s(37673);const N=function(a,w,b){return b===void 0&&(b=!1),{level:a,roleName:w,isInherited:b,isOwner:a>=i.zB.OWNER,isSuperManager:a>=i.zB.SUPERMANAGER,isManager:a>=i.zB.MANAGER,isMember:a>=i.zB.MEMBER,isViewer:a>=i.zB.VIEWER,isLimiter:a===i.zB.LIMITER,isBanned:a===i.zB.BANNED,isUnknown:a===i.zB.UNKNOWN}},p=N(i.zB.UNKNOWN),j=N(i.zB.UNJOINED),re=(a,w)=>{if(!w||w.length<=0)return null;const b=w.find(x=>{let{user_id:c,unsign_remark:g}=x;return Number(c)===Number(a)||g===a});return b||null},Z=a=>a?N(i.p_[a.role],a.role):N(i.zB.UNKNOWN),z=(a,w)=>{if(!a)return[];let b=[],x=a,c=w.get(x);for(;c&&!c.root_project;)b=b.concat(c.permissions),x=c.parent_cid,c=w.get(x);return b},P=(a,w,b)=>{let x=z(a,w);return x=x.concat(b).reverse(),x=x.filter(c=>c.role!=="space_limiter"),x.map(c=>{const g=folderInheritePermissionRoleFixMap[c.role];return g?{...c,role:g,inherited:!0}:{...c,inherited:!0}})},q=(a,w,b)=>{let x=z(a,w);return x=x.concat(b).reverse(),x=x.filter(c=>c.role!=="space_limiter"),x.map(c=>{const g=i.OO[c.role];return g?{...c,role:g,inherited:!0}:{...c,inherited:!0}})},J=a=>{const{orgPermissions:w,userId:b}=a;if(!b||!w||w.length<1)return N(i.zB.UNKNOWN);const x=re(b,w);return x?N(i.p_[x.role],x.role):N(i.zB.UNKNOWN)},te=a=>{const{spacePermissions:w,userId:b}=a;if(!b||!w||w.length<1)return N(i.zB.UNKNOWN);const x=re(b,w);return x?N(i.FU[x.role],x.role):N(i.zB.UNKNOWN)},G=a=>{const{userId:w,orgPermissions:b,spacePermissions:x,currentFolder:c,folderListMap:g}=a;if(!w||!c)return N(permissionLevels.UNKNOWN);const{org_cid:f,space_cid:I}=c;if(!f&&!I)return N(permissionLevels.OWNER,"team_owner");if(!x||x.length<1)return N(permissionLevels.UNKNOWN);const{isRoot:D,root_project:S}=c;if(D||S){const B=te({spacePermissions:x,userId:w});return B.roleName==="space_limiter"?{...J({orgPermissions:b,userId:w}),isLimiter:!0}:B}const R=c.permissions||[],O=P(c.parent_cid,g,x),ee=Object.values(Object.fromEntries([...O,...R].map(B=>[B.user_id,B]))),E=re(w,ee);return E?N(folderPermissionLevelsMap[E.role],E.role,E.inherited):N(permissionLevels.UNKNOWN)},F=a=>{const{userId:w,spacePermissions:b,currentProject:x,folderListMap:c}=a;if(!w||!x)return N(permissionLevels.UNKNOWN);const{space_cid:g}=x;if(!g)return N(permissionLevels.OWNER,"project_owner");if(!b||b.length<1)return N(permissionLevels.UNKNOWN);const f=x.permissions||[],I=q(x.team_cid,c,b),D=Object.values(Object.fromEntries([...I,...f].map(R=>[R.user_id,R]))),S=re(w,D);return S?N(projectPermissionLevelsMap[S.role],S.role,S.inherited):N(permissionLevels.UNKNOWN)},A=function(a,w,b){return b===void 0&&(b=!1),w?typeof w[a]<"u"?N(w[a],a,b):N(i.zB.UNJOINED):N(i.zB.UNKNOWN)},V=a=>!a||a.length<1?new Map:a.reduce((w,b)=>w.set(Number(b.user_id),b),new Map),U=a=>{const{permissionsMap:w,userId:b,permissionScope:x}=a;if(!b||!w||w.size<1)return N(i.zB.UNKNOWN);const{role:c,inherited:g}=w.get(Number(b))||{};if(!c)return N(i.zB.UNKNOWN);let f=null;switch(x){case y.W.Org:f=i.p_;break;case y.W.OrgSpace:f=i.FU;break;case y.W.Folder:f=i.lY;break;case y.W.Project:f=i.au;break;default:break}return A(c,f,g)}},53159:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>a});var i=s(51044),y=s(21676),N=s(66748),p=s.n(N),j=s(98236),re=s.n(j),Z=s(28149);const z=y.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1pwp3tx-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),P=(0,y.Ay)(z).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1pwp3tx-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),q=y.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1pwp3tx-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var J=s(57464);function te(w,b,x){return(b=G(b))in w?Object.defineProperty(w,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[b]=x,w}function G(w){var b=F(w,"string");return typeof b=="symbol"?b:b+""}function F(w,b){if(typeof w!="object"||!w)return w;var x=w[Symbol.toPrimitive];if(x!==void 0){var c=x.call(w,b||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(w)}class A extends i.PureComponent{constructor(){super(...arguments),te(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),te(this,"onToggle",()=>{const{name:b,value:x,label:c,onToggle:g,onChange:f}=this.props,{isChecked:I}=this.state,{canToggle:D}=this,S=D?!0:I;this.setState({isChecked:S}),g(S,b,x||c),f(b,x||c,S)})}static getDerivedStateFromProps(b,x){let{prevProps:c,isChecked:g}=x;return re()(c,b)?null:{prevProps:b,isChecked:b.isChecked}}get isDisabled(){const{isDisabled:b,disabled:x}=this.props;return b||x}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:b,readOnly:x}=this;return!b&&!x}render(){const{size:b,theme:x,className:c,label:g,name:f}=this.props,{isChecked:I}=this.state,{isDisabled:D,readOnly:S}=this;return(0,J.jsxs)(P,{className:(0,Z.Hn)([x==="core"?"CoreRadio":"Radio",b,c,I&&"is-checked",D&&"is-disabled",S&&"readonly"]),children:[(0,J.jsx)("input",{type:"radio",defaultChecked:I,disabled:D,name:f,onClick:this.onToggle}),(0,J.jsx)("span",{className:"Check-state"}),(0,J.jsx)("span",{className:"Check-label",children:g})]})}}te(A,"propTypes",{size:p().oneOf(["regular","small"]),theme:p().oneOf(["core","plain"]),className:p().string,label:p().any,name:p().string,value:p().any,isChecked:p().bool,isDisabled:p().bool,disabled:p().bool,readOnly:p().bool,onChange:p().func.isRequired,onToggle:p().func.isRequired}),te(A,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class V extends i.PureComponent{constructor(){super(...arguments),te(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),te(this,"state",{prevProps:this.props,value:this.props.value}),te(this,"createOnChangeHandler",(b,x,c)=>()=>{const{onToggle:g,onChange:f}=this.props,{value:I}=this.state,{canToggle:D}=this,S=D?x:I;this.setState({value:S}),g(S,b),f({name:b,value:S,idx:c})})}static getDerivedStateFromProps(b,x){let{prevProps:c,value:g}=x;return re()(c,b)?null:{prevProps:b,value:b.value}}get isDisabled(){const{isDisabled:b,disabled:x}=this.props;return b||x}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:b,readOnly:x}=this;return!b&&!x}render(){const{size:b,theme:x,className:c,optionList:g}=this.props,{value:f}=this.state,{name:I,isDisabled:D,readOnly:S}=this,R=(0,Z.Hn)([x==="core"?"CoreRadioGroup":"RadioGroup",b,c,D&&"is-disabled",S&&"readonly"]);return(0,J.jsx)(q,{className:R,children:g.map((O,ee)=>O&&(0,J.jsx)(A,{name:I,size:b,theme:x,label:(0,Z.Oi)(O),type:"radio",isChecked:(0,Z.o3)(O,f),isDisabled:D||O.isDisabled,readOnly:S,onChange:D||O.isDisabled?void 0:this.createOnChangeHandler(I,(0,Z.nE)(O),ee)},ee))})}}te(V,"propTypes",{size:p().oneOf(["regular","small"]),theme:p().oneOf(["core","plain"]),className:p().string,name:p().string,optionList:p().arrayOf(p().oneOfType([p().string,p().number,p().shape({label:p().any,value:p().any,isDisabled:p().bool})])).isRequired,value:p().oneOfType([p().number,p().string]),isDisabled:p().bool,disabled:p().bool,readOnly:p().bool,onChange:p().func.isRequired,onToggle:p().func.isRequired}),te(V,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const U=(0,y.Ay)(V).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1mmciik-0"})([".Radio{color:",';input[type="radio"]{cursor:pointer;}&.is-checked{color:',";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],w=>w.theme.color_text_L2,w=>w.theme.color_text_L1,w=>w.theme.color_proto,w=>w.theme.color_bg_white,w=>w.theme.color_text_disabled01,w=>w.theme.color_bg_white,w=>w.theme.color_bg_white);class a extends i.PureComponent{render(){return(0,J.jsx)(U,{...this.props})}}},86778:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>A});var i=s(51044),y=s(21676),N=s(66748),p=s.n(N),j=s(98236),re=s.n(j),Z=s(28149);const z=y.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-16h4tgy-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var P=s(57464);function q(V,U,a){return(U=J(U))in V?Object.defineProperty(V,U,{value:a,enumerable:!0,configurable:!0,writable:!0}):V[U]=a,V}function J(V){var U=te(V,"string");return typeof U=="symbol"?U:U+""}function te(V,U){if(typeof V!="object"||!V)return V;var a=V[Symbol.toPrimitive];if(a!==void 0){var w=a.call(V,U||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(V)}class G extends i.PureComponent{constructor(){super(...arguments),q(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),q(this,"toggle",U=>{let{target:a}=U;const{onChange:w}=this.props,{isChecked:b}=this.state,{isDisabled:x,canToggle:c}=this,g=c?!b:b;return a.blur(),this.setState({isChecked:g}),!x&&w(g)})}static getDerivedStateFromProps(U,a){let{prevProps:w}=a;return re()(w,U)?null:{prevProps:U,isChecked:U.isChecked}}get isDisabled(){const{isDisabled:U,disabled:a}=this.props;return U||a}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:U,readOnly:a}=this;return!U&&!a}render(){const{size:U,readOnly:a,className:w,children:b,isIOS:x,isIOSReverse:c}=this.props,{isChecked:g}=this.state,{isDisabled:f}=this;return(0,P.jsxs)(z,{className:(0,Z.Hn)(["Switch",x&&"Switch-IOS",c&&"Switch-IOS-NoTransform",U,g?"is-checked":"isnt-checked",f&&"is-disabled",a&&"readonly",w]),children:[(0,P.jsx)("button",{type:"button",disabled:f,onClick:this.toggle}),b]})}}q(G,"propTypes",{className:p().string,size:p().oneOf(["regular","small"]),isChecked:p().bool,isDisabled:p().bool,disabled:p().bool,readOnly:p().bool,isIOS:p().bool,isIOSReverse:p().bool,onChange:p().func,children:p().any}),q(G,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const F=(0,y.Ay)(G).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-14ktgxw-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.is-checked{&.small{background:",";button{background:",";}}}}"],V=>V.theme.color_text_disabled01,V=>V.theme.color_text_btn,V=>V.theme.color_proto,V=>V.theme.color_text_btn);class A extends i.PureComponent{render(){return(0,P.jsx)(F,{...this.props})}}},7775:(Ce,ue,s)=>{"use strict";s.d(ue,{it:()=>re,V0:()=>G,mq:()=>te});var i=s(74059),y=s(51044),N=s(10481),p=s(21676);const j=(0,p.Ay)(N.Ay).withConfig({displayName:"styled__StyledWorkspaceSelectProto",componentId:"sc-15zctdm-0"})(["&.WorkspaceSelect{padding:0px;border-radius:4px;button{width:auto;display:flex;padding:0 6px;align-items:center;color:",";}.caret{flex-shrink:0;width:26px;display:flex;justify-content:center;align-items:center;padding:0;color:",";svg{width:26px;height:26px;}}&:not(.is-disabled):not(.readonly):hover{border-color:",";button{width:calc(100% - 26px);}.caret{padding:0;color:",";}}&.is-open{border-color:transparent;}}"],F=>F.theme.color_text_L1,F=>F.theme.color_text_L3,F=>F.theme.color_bg_border_02,F=>F.theme.color_text_L1),re="select-menu-width-108",Z=(0,p.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu.is-open{border:1px solid #454647;box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:#666;}}}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],re),z=(0,p.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu{padding:8px;border-radius:8px;color:",";background:",";box-shadow:",";&.is-open{border:1px solid ",";border-radius:8px;width:176px;max-width:176px;padding:8px;background-color:",";box-shadow:",";.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:",";}}}> .divider{border-bottom:1px solid ",";margin:5px;}.SelectOption{border-radius:4px;&.is-active{color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}}}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],F=>F.theme.color_text_L0,F=>F.theme.color_bg_white,F=>F.theme.shadow_m,F=>F.theme.color_bg_border_01,F=>F.theme.color_bg_white,F=>F.theme.shadow_m,F=>F.theme.color_btn_secondary_hover,F=>F.theme.color_bg_border_01,F=>F.theme.color_text_L0,F=>F.theme.color_btn_secondary_hover,F=>F.theme.color_text_L0,re);var P=s(23423),q=s(53955),J=s(57464);class te extends y.PureComponent{constructor(){super(...arguments),(0,i.A)(this,"isLayoutV9",(0,q.jB)())}render(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(j,{...this.props,arrowSvg:(0,J.jsx)(P.C,{className:"triangle-icon",name:"common/expand@26"})}),this.isLayoutV9?(0,J.jsx)(z,{}):(0,J.jsx)(Z,{})]})}}class G extends y.PureComponent{constructor(){super(...arguments),(0,i.A)(this,"isLayoutV9",(0,q.jB)())}render(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(N.eB,{...this.props}),this.isLayoutV9?(0,J.jsx)(z,{}):(0,J.jsx)(Z,{})]})}}},24660:(Ce,ue,s)=>{"use strict";s.d(ue,{l:()=>i});const i=function(y,N,p,j){p===void 0&&(p=""),j===void 0&&(j=!1);let re;return y?re={mode:"org",orgCid:y.cid,payEntrance:N,checkoutArea:"proto",checkoutPlace:p||"org_use_vip_mkt"}:re={mode:j?"org":"solo",isSelectOrg:!!j,payEntrance:N,checkoutArea:"proto",checkoutPlace:p||"solo_use_vip_mkt"},re}},64598:(Ce,ue,s)=>{"use strict";s.d(ue,{_:()=>N,f:()=>y});var i=s(36820);const y=p=>{let{exposure_reason:j}=p;try{(0,i.kH)("trial_watermark_exposure",{exposure_reason:j})}catch(re){console.log(re.message)}},N=p=>{let{click_button:j}=p;try{(0,i.kH)("trial_watermark_click",{click_button:j})}catch(re){console.log(re.message)}}},10286:(Ce,ue,s)=>{"use strict";s.d(ue,{ER:()=>a,J_:()=>F,Or:()=>P,QC:()=>c,X0:()=>V,Y5:()=>A,aX:()=>x,dJ:()=>te,g:()=>q,l1:()=>b,wi:()=>z,yq:()=>J});var i=s(26114),y=s(29815),N=s(72907),p=s(46795),j=s(29601),re=s(36521),Z=s(57464);const z=async g=>{let{projectCid:f}=g;return(0,p.DE)("/api/upper/web_v1/sharing/initial?cid="+f)},P=async g=>{let{projectCid:f,sharing:I}=g;return(await(0,p.zi)("/api/flat/web_v1/project_share/"+f,{...I})).project_share},q=async g=>{let{projectCid:f,sharingCid:I}=g;try{return await(0,p.OD)("/api/flat/web_v1/project_share/"+I+"?project_cid="+f)}catch(D){await(0,N.FY)(D)}},J=async g=>{let{sharing:f}=g;try{return await(0,p.SN)("/api/flat/web_v1/project_share/"+f.cid,{project_share:f})}catch(I){await(0,N.FY)(I)}},te=async g=>{try{return await(0,p.DE)("/api/flat/web_v1/preview/visit_count/"+g)}catch(f){console.error(f)}},G=()=>{const g=document.getElementById("workspace");(0,i.createRoot)(g).render((0,Z.jsx)(y.A,{locale:(0,j.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},F=async g=>{try{if(!g.accessToken||g.project.access_token===g.accessToken)return A(g.project);{const{project:f,accessToken:I}=g,{project_share:D}=await(0,p.DE)("/api/flat/web_v1/project_share/"+f.cid+"?access_token="+I);return{sharing:{...D,type:"advanced",view_mode:D.device_model}}}}catch(f){await G()}},A=g=>{const{cid:f,access_token:I,access:D,building:S,comment_permission:R,password:O,visibility:ee,wechat:E,is_first_canvas_open:B}=g,X=new URLSearchParams(location.search),ne=X.get("screen"),se=X.get("canvasId"),fe=X.get("view_mode")||(0,re.Yt)(f+"_default_sharing_view_mode","read_only",re.qW.String),Me=X.get("view_mode")||(0,re.Yt)(f+"_default_sharing_view_mode","read_only",re.qW.String),Ae=!!X.get("selection"),Re=Ae?X.get("selection").split(","):[];return{sharing:{type:"default",project_cid:f,access_token:I,view_access:D,view_sticky:S,comment_permission:R,password:O,visibility:ee,wechat:E,view_mode:fe,screen_visible_switch:Ae,screen_visible_list:Re,page_begin:ne,canvas_begin:se,device_model:Me,is_first_canvas_open:B}}},V=async g=>{let{projectCid:f}=g;try{const{project_shares:I}=await(0,p.DE)("/api/flat/web_v1/project_share/"+f+"/all");return I.sort((D,S)=>new Date(S.created_at).getTime()-new Date(D.created_at).getTime())}catch(I){await(0,N.FY)(I)}},U=async g=>{try{const{result:f}=await fetchGetJSON("/api/accesses/v4/project/"+g+"/permission_check?permission=P:update");return f}catch(f){await apiErrorModals(f)}},a=async g=>{let f=null;try{f=await(0,p.DE)("/flpak/ww-p2meta/"+g)}catch(I){await(0,N.FY)(I)}return f},w={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,enable_version_record:!1,view_sticky:!0,is_first_canvas_open:!1},b=()=>({sharing:w}),x=async g=>{let f,I;try{f=await(0,p.DE)("/api/upper/web_v1/basics/"+g+"/get_details"),f&&JSON.stringify(f)!=="{}"&&(I=!0)}catch(D){f=D,I=!1}return{result:f,statusOk:I}},c=async g=>{let f,I;try{f=await(0,p.DE)("/api/accesses/v4/project/"+g+"/permission_check?permission=P:update"),f&&JSON.stringify(f)!=="{}"&&(I=!0)}catch(D){f=D,I=!1}return{result:f,statusOk:I}}},77180:(Ce,ue,s)=>{"use strict";s.d(ue,{gE:()=>y,nM:()=>i,nQ:()=>N});const i="local_sharing_copy_url_v8_1",y=50,N={public:"share_anyone_view",restricted:"org_members_only"}},82140:(Ce,ue,s)=>{"use strict";s.d(ue,{n:()=>wi});var i=s(51044),y=s(28055),N=s(96510),p=s(82928),j=s(50378),re=s(30939);const Z={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only",is_first_canvas_open:!1},z=null,P="123",q={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},J={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},te={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var G=s(10286),F=s(46664),A=s(60482),V=s(15039);const a=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:Z,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,projShareToEdit:"",members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0,isOnlyMemberManager:!1,hostCurrentScreen:void 0},l=function(_,m){_===void 0&&(_=e);let{type:M="sharing:state:update",payload:C=e}=m;switch(M){case"sharing:state:update":return{..._,...C};case"sharing:state:clear":return{...e};default:return _}},d={"sharing:init":(_,m)=>{let{dispatch:M}=_,{payload:C}=m;M({type:"sharing:state:update",payload:C})},"sharing:currentSharing:update":(_,m)=>{let{getState:M,dispatch:C}=_,{payload:{updatedKV:W}}=m;const K=M(),L={...u.getCurrentSharing(K),...W};C({type:"sharing:state:update",payload:{currentSharing:L}})},"sharing:remote:sharing:update":async(_,m)=>{let{getState:M,dispatch:C}=_,{payload:{sharingData:W,updatedKV:K}}=m;const Q=M(),L=u.getOrg(Q),le=u.getProject(Q);let ce;if(W.type==="default"){var k,oe;ce=async()=>(0,F.Yu)(le.cid,{...K}),await(0,A.eH)({updateType:"update",updateFn:ce,org:L});const ie={...le,...K};C({type:"sharing:state:update",payload:{project:ie}}),(k=MB)!=null&&k.action&&((oe=MB)==null||oe.action("current:update:state",{currentProject:ie}))}else{const ie=u.getAdvancedSharingList(Q),pe={...W,...K};ce=async()=>(0,G.yq)({sharing:pe});const{expired_at:de}=await(0,A.eH)({updateType:"update",updateFn:ce,org:L,updatedKV:K});C({type:v["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:de}}});const me=ie.map(H=>H.cid===pe.cid?{...pe,expired_at:de}:H);C({type:v["sharing:advancedSharingList:update"],payload:{sharingList:me}})}},"sharing:remote:sharing:delete":async(_,m)=>{let{getState:M,dispatch:C}=_,{payload:{sharingCid:W}}=m;const K=M(),Q=u.getProject(K),L=u.getAdvancedSharingList(K);await(0,G.g)({projectCid:Q.cid,sharingCid:W});const le=L.filter(ce=>ce.cid!==W);C({type:v["sharing:advancedSharingList:update"],payload:{sharingList:le}})},"sharing:settingPage:advanced:confirm":async(_,m)=>{let{getState:M,dispatch:C}=_,{payload:{updatedKV:W,isCustom:K}}=m;const Q=M(),L=u.getSettingPageType(Q),le=u.getCurrentSharing(Q),ce=u.getOrg(Q),k=u.getProject(Q);if(L==="create"){const oe=async()=>(0,G.Or)({projectCid:k.cid,sharing:le});await(0,A.eH)({updateType:"create",updateFn:oe,org:ce}),C({type:v["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const oe=async()=>(0,G.yq)({sharing:le}),{expired_at:ie}=await(0,A.eH)({updateType:"update",updateFn:oe,org:ce,updatedKV:W,isCustom:K});C({type:v["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:ie}}})}C({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async _=>{var m,M;let{getState:C,dispatch:W}=_;const K=C(),Q=u.getCurrentSharing(K),L=u.getProject(K),le=u.getOrg(K),ce=async()=>(0,F.Yu)(L.cid,Object.assign({},Q,{building:Q.view_sticky}));await(0,A.eH)({updateType:"update",updateFn:ce,org:le});const k=Object.assign({},L,Q,{building:Q.view_sticky});W({type:"sharing:state:update",payload:{project:k}}),(m=MB)!=null&&m.action&&((M=MB)==null||M.action("current:update:state",{currentProject:k}))},"sharing:go-settingPage":(_,m)=>{let{dispatch:M}=_,{payload:{currentSharing:C,settingPageType:W,subSettingPageType:K=e.subSettingPageType}}=m;M({type:"sharing:state:update",payload:{currentSharing:C,settingPageType:W,topPageIndex:"setting",subSettingPageType:K}})},"sharing:topPageIndex:jump":(_,m)=>{let{dispatch:M}=_,{payload:{topPageIndex:C=e.topPageIndex}}=m;M({type:"sharing:state:update",payload:{topPageIndex:C}})},"sharing:advancedSharingList:update":(_,m)=>{let{dispatch:M}=_,{payload:{sharingList:C}}=m;M({type:"sharing:state:update",payload:{advancedSharingList:C}})},"sharing:projectAccess:init":async _=>{let{dispatch:m,getState:M}=_;const C=M(),W=u.getMembers(C),K=u.getProject(C),Q=K==null?void 0:K.cid,L=K==null?void 0:K.is_org_project;if(!Q||!L){setTimeout(()=>{m({type:a.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:le,statusOk:ce}=await(0,G.aX)(Q);if(m({type:a.entryKey["sharing:init"],payload:{loading:!1}}),!!ce&&le){var k,oe;const{project:ie,org:pe}=le;await m({type:"entry:projectAccess:initProjectData",payload:{initData:le,members:W}}),m({type:a.entryKey["sharing:init"],payload:{project:ie,org:pe,initData:le}}),(k=MB)!=null&&k.action&&((oe=MB)==null||oe.action("current:update:state",{currentProject:ie}))}},"sharing:function:track":(_,m)=>{let{getState:M}=_,{payload:{operation:C,viewMode:W,isDefault:K}}=m;const Q=M(),L=u.getProject(Q)||{},le=u.getCanEditByUser(Q),ce=u.getOrg(Q)||{},k=u.getUser(Q),oe=u.getInitData(Q)||{},ie=(oe==null?void 0:oe.space)||{},pe=u.getIsEditMode(Q),de=u.getHostType(Q),{cid:me,name:H}=L,ge={userCanEdit:le,userId:k==null?void 0:k.id,orgPermissions:ce==null?void 0:ce.permissions,spacePermissions:ie==null?void 0:ie.permissions,projectPermissions:L==null?void 0:L.permissions,isEditMode:pe,view_mode:W,optionType:C,share_type:K?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:de==="iframe",project_name:H,project_cid:me};(0,V.Xc)(ge)},"sharing:advance:click:track":(_,m)=>{let{getState:M}=_,{}=m;const C=M(),W=u.getSettingPageType(C),K=u.getCurrentSharing(C),Q=u.getProject(C),L=u.getAdvancedSharingList(C)||[],le=u.getScreenMetaList(C),ce=u.getHostType(C),k=(0,A.RF)(le.pageAttrMap),oe=(0,A.Mj)(!K.screen_visible_switch,K.screen_visible_list,k);let ie="\u5168\u90E8";K.screen_visible_switch&&(ie=""+oe);const pe=L.length;(0,V.nr)({link_name:K.link_name,links_number:W==="create"?pe+1:pe,share_type:K.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:ie,operation_type:W==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:ce==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:Q.name,project_cid:Q.cid})}},u=re.B.genQuery(e,{getStateFn:_=>_.sharing}),v=re.B.genEntryKey(d);return{__initialState:e,__reducer:l,__entry:d,entryKey:v,query:u}})(),w=(0,y.HY)({sharing:a.__reducer,projectAccess:j.Ay}),b={...a.__entry,...N.s},x=()=>{const e=(0,p.RZ)(),l=(0,y.y$)(w,(0,y.Tw)(e.middleware));return e.setEntryMap(b),l};var c=s(72605),g=s(21676),f=s(21952),I=s(57716),D=s(86634),S=s.n(D),R=s(77180);const O=g.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1ergmj0-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],R.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),ee=g.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-v93i5v-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_btn_secondary_active,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_member__border_color);var E=s(37673),B=s(23423),X=s(59318);const ne="__mb_delete_permission",se=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],fe=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],Me=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],Ae=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],Re={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},Ue={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},He=Object.fromEntries([...se,...fe,...Me,...Ae].map(e=>[e.value,e.label]));var $e=s(3895),ve=s(61654),Y=s(15573);const $=e=>{const l=(0,c.d4)(ve.XW),d=l.get(e);return(0,Y.u)(d,l)},he=(e,l)=>{const d=(0,c.d4)(ve.XW),u=(0,c.d4)(ve._B),v=(0,c.d4)(ve.kG),_=(0,c.d4)(ve.iF),m=(0,c.d4)(ve.yZ);let M=null,C=null;const W=e;let K=[],Q=[],L=[];M=u.get(l),Q=M.permissions,L=(0,X.Cj)(M.team_cid,d,_),C=E.W.Org,K=v,L=Object.values(Object.fromEntries(L.map(ie=>[ie.user_id,ie])));const le=Object.values(Object.fromEntries([...L,...Q].map(ie=>[ie.user_id,ie]))),ce=(0,i.useMemo)(()=>{const ie=(0,X.Rc)(K);return K.reduce((pe,de)=>{const{user_id:me}=de,H=(0,X.CF)({userId:me,permissionsMap:ie,permissionScope:C});return pe.set(Number(me),H)},new Map)},[K]),k=(0,i.useMemo)(()=>{const ie=(0,X.Rc)(le);return K.reduce((pe,de)=>{const{user_id:me}=de,H=(0,X.CF)({userId:me,permissionsMap:ie,permissionScope:W});return pe.set(Number(me),H)},new Map)},[le,K]),oe=(0,i.useMemo)(()=>{const ie=(0,X.Rc)(L);return L.reduce((pe,de)=>{const{user_id:me}=de,H=(0,X.CF)({userId:me,permissionsMap:ie,permissionScope:W});return pe.set(Number(me),H)},new Map)},[L]);return{userCurrentSpacePermission:m,membersTopScopePermissonMap:ce,membersCurrentScopePermissonMap:k,membersInheritedCurrentScopePermissonMap:oe,topScopePermissionMembers:K,currentScopePermissionMembers:Q,inheritedPermissionMembers:L,combinedCurrentPermissionMembers:le}},_e=(e,l,d)=>{const u=(0,c.wA)();return(0,i.useCallback)(async(_,m)=>{const{name:M,email:C,mobile:W,permissionMap:K}=_,{memberCurrentScopePermisson:Q,currentScopeRoleName:L}=K;if(!Q)return;const le=M||C||W;let ce=!1;m===ne&&(ce=!0),Q.isUnknown?await u({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:l,userCid:_.user_cid,roleName:m,userName:le}}):ce?await u({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:l,userId:_.user_id,roleName:L,userName:le}}):await u({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:l,userId:_.user_id,roleName:m,userName:le}})},[l,u])},we=(e,l)=>{const d=(0,c.d4)(ve.WR),u=(0,c.d4)(ve.q7),v=(0,c.d4)(ve.oV),_=(0,c.d4)(ve.hG),{userCurrentSpacePermission:m,membersTopScopePermissonMap:M,membersCurrentScopePermissonMap:C,membersInheritedCurrentScopePermissonMap:W,topScopePermissionMembers:K,inheritedPermissionMembers:Q,currentScopePermissionMembers:L,combinedCurrentPermissionMembers:le}=he(e,l),ce=C.get(Number(d))||X.CZ,k=!!_.get(Number(d)),oe=(0,i.useMemo)(()=>{const Se=new Map;return K.forEach(Le=>{let{user_id:Te,role:Ne}=Le;const Ze=M.get(Number(Te))||X.CZ,We=v.get(Number(Te))||X.CZ,Qe=C.get(Number(Te))||X.CZ,tt=W.get(Number(Te))||X.CZ,st=!!_.get(Number(Te)),yt=u.get(Number(Te));if(!yt)return;const St=yt.permission,It=Qe.isUnknown?Ne:Qe.roleName;Se.set(Number(Te),{...yt,permissionMap:{currentScopeRoleName:It,userCurrentSpacePermission:m,userCurrentScopePermisson:ce,memberTopScopePermisson:Ze,memberCurrentScopePermisson:Qe,memberInheritedPermisson:tt,memberOrgPermisson:St,isSelf:Number(Te)===Number(d),userIsSpaceLimiter:k,memberIsSpaceLimiter:st,memberIsSpaceManager:We.isManager}})}),Se},[K,M,C,W,_]),ie=(0,i.useMemo)(()=>L.sort((Se,Le)=>$e.Z8[Le.role]-$e.Z8[Se.role]).map(Se=>oe.get(Number(Se.user_id))).filter(Se=>Se),[L,oe]),pe=(0,i.useMemo)(()=>Q.sort((Se,Le)=>$e.Z8[Le.role]-$e.Z8[Se.role]).map(Se=>{const{user_id:Le,role:Te}=Se,Ne=W.get(Number(Le))||X.CZ,Ze=oe.get(Number(Se.user_id));return Ze?{...Ze,permissionMap:{...Ze.permissionMap,currentScopeRoleName:Te,memberCurrentScopePermisson:Ne}}:null}).filter(Se=>Se),[Q,oe,W]),de=(0,i.useMemo)(()=>le.sort((Se,Le)=>$e.Z8[Le.role]-$e.Z8[Se.role]).map(Se=>oe.get(Number(Se.user_id))).filter(Se=>Se),[le,oe]),me=(0,i.useMemo)(()=>{const Se=de.map(Te=>Number(Te.user_id)),Le=[];for(const[Te,Ne]of oe.entries())Se.includes(Number(Te))||Ne&&Le.push(Ne);return Le},[oe,de]),H=(0,i.useMemo)(()=>{const Se=pe.filter(Te=>{var Ne;return(Ne=Te.permissionMap)==null||(Ne=Ne.memberCurrentScopePermisson)==null?void 0:Ne.isManager});return Object.values(Object.fromEntries([...Se,...ie].map(Te=>[Te.user_id,Te])))},[pe,ie]),ge=(0,i.useMemo)(()=>{const Se=H.map(Te=>Number(Te.user_id)),Le=[];for(const[Te,Ne]of oe.entries())Se.includes(Number(Te))||Ne&&Le.push(Ne);return Le},[oe,H]);return{isOnlyOneManager:(0,i.useMemo)(()=>de.filter(Se=>{var Le;return(Le=Se.permissionMap)==null||(Le=Le.memberCurrentScopePermisson)==null?void 0:Le.isManager}).length===1,[de]),userCurrentScopePermisson:ce,userCurrentSpacePermission:m,currentMembers:ie,inheritedMembers:pe,joinedMembers:de,unjoinedMembers:me,assignedMembers:H,unassignedMembers:ge,currentOrgMembersMap:u}};var Be=s(11777),n=s(57464);const De=()=>{var e;const l=(0,c.d4)(a.query.getUser),d=(0,c.d4)(a.query.getProject),u=(0,c.d4)(a.query.getInitData),v=$(d==null?void 0:d.team_cid),_=d==null?void 0:d.cid,m=(0,c.wA)(),M=(0,i.useCallback)(k=>{k.stopPropagation(),m({type:a.entryKey["sharing:init"],payload:{mainPage:"access"}}),m({type:a.entryKey["sharing:function:track"],payload:{operation:"\u56E2\u961F\u534F\u4F5C"}})},[m]),{currentMembers:C,inheritedMembers:W,joinedMembers:K}=we(E.W.Project,_);let Q=C;v>=1?W.forEach(k=>{Q.find(ie=>ie.id===k.id)||Q.push(k)}):Q=K;const le=(e=Q)==null?void 0:e.filter(k=>Number(k.user_id)!==Number(l==null?void 0:l.id));le&&(Q=le.slice(0,2));const ce=(0,i.useCallback)(k=>{var oe;const{avatar:ie,name:pe,id:de}=k;return ie&&!ie.includes("/images/avatar.png")?(0,n.jsx)("img",{className:"avatar",src:k.avatar,alt:k.name},de):(0,n.jsx)("div",{className:"avatar avater-name",children:pe==null||(oe=pe.slice(0,1))==null?void 0:oe.toUpperCase()},de)},[]);return!u||JSON.stringify(u)==="{}"?null:(0,n.jsx)(Be.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,n.jsxs)(ee,{onClick:M,children:[ce(l),Q.length>0&&Q.map(k=>ce(k)),(0,n.jsx)("div",{className:"remaining",children:(0,n.jsx)(B.C,{name:"sharing/add_member",isColorPure:!0})}),(0,n.jsx)(B.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},Ye=(0,i.memo)(De),qe=g.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1u48ud6-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),ut=e=>{let{tabs:l,handleChangeTabIndex:d,tabIndex:u,className:v}=e;return(0,n.jsx)(qe,{className:v,children:l.map((_,m)=>(0,n.jsx)("div",{className:S()("tab-item",u===m&&"tab-sel"),id:"tab-item-"+m,onClick:()=>d(m),children:_},m))})},pt=(0,i.memo)(ut);var lt=s(15336),ft=s(47755);const Tt=()=>{let e=null;const l=(0,c.wA)(),d=(0,c.d4)(a.query.getProject),u=(0,c.d4)(a.query.getCanEditByUser),v=(0,c.d4)(a.query.getHostType),_=(0,c.d4)(a.query.getIsEditMode),m=(0,c.d4)(a.query.getInitData),M=(0,c.d4)(a.query.getTabIndex),[C,W]=(0,i.useState)(!1),K=(d==null?void 0:d.is_org_project)||!1,Q=v==="iframe"||_,le=new URLSearchParams(location.search).get("view_mode")||"read_only",ce=Q&&K&&m&&JSON.stringify(m)!=="{}",k=u&&!K,oe=(0,i.useCallback)(()=>{const me=v==="iframe",H=(me?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",ge=(me?"dashboard":"workspace")+"-v8_solo_share_upgrade",ye={payEntrance:H,checkoutPlace:ge,checkoutArea:me?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(me){const Se="/workspace/''?payment_param="+(0,ft._)(ye);(0,lt.JW)(Se,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ye)},[]),ie=()=>{e=setTimeout(()=>{W(!0)},1e3)},pe=()=>{e&&clearTimeout(e),W(!1)},de=(0,i.useCallback)(me=>{l({type:a.entryKey["sharing:init"],payload:{tabIndex:me}})},[l]);return(0,n.jsx)(O,{className:S()(k&&"tool-upgrade"),children:Q?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(pt,{tabIndex:M,tabs:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:de}),k&&(0,n.jsxs)("div",{className:"upgrade-team-business",onClick:oe,onMouseEnter:ie,onMouseLeave:pe,children:[(0,n.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),C&&(0,n.jsxs)("div",{className:"content",onClick:me=>me.stopPropagation(),children:[(0,n.jsx)("div",{className:"top-bar"}),(0,n.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,n.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),ce&&(0,n.jsx)(Ye,{})]}):(0,n.jsx)("div",{className:"sharing-title",children:le==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},Ct=(0,i.memo)(Tt),Ot=g.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-2ovkcx-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],R.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),Pt=g.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-2ovkcx-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],R.gE);var bt=s(15668),zt=s(44057);const en=g.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-15116kg-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_bg_canvas),jt=g.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-15116kg-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),Gt=(0,g.Ay)(zt.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-15116kg-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}&.isV9Layout ul{width:270px;padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";li.MenuItem{a{border-radius:4px;background:",";color:",";svg path{fill:",";}.right-arrow svg > path{fill:",";}.shortfont kbd{color:",";}}&:not(.disabled).active{a{background:",";}}&.disabled{a{color:",";svg path{fill:",";}.shortfont kbd{color:",";}}}}}&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L0,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_bg_white,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01),Wt=g.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-15116kg-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";&.is-disabled{cursor:not-allowed;pointer-events:none;color:",";background-color:",";}.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn,e=>e.theme.color_text_disabled02,e=>e.theme.color_btn_primary_disabled),sn=g.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-g4yrew-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-form{width:176px;input{width:176px;}}.link-name{width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;justify-content:center;align-items:center;border-radius:4px;padding-left:4px;&:hover{background-color:",";}}.foot-right{display:flex;align-items:center;}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function kn(e){const{fBlur:l,name:d}=e,[u,v]=(0,i.useState)(!1),[_,m]=(0,i.useState)(d),M=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(u){var L;(L=M.current)==null||L.focus()}},[u]);const C=()=>{l(),v(!1)};return{inputRef:M,isRenaming:u,setIsRenaming:v,inputName:_,setInputName:m,handleFocus:()=>{var L;(L=M.current)==null||L.select()},handleBlur:C,handleKeyDown:L=>{L.key==="Enter"&&C()},handleInput:L=>{let le=L.target.value;le.length>200&&(le=le.substring(0,200)),m(le)}}}const Mt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},Xn=g.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1gzmiv1-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function Ht(e){const{className:l,size:d=20,name:u,onClick:v,onMouseEnter:_,onMouseLeave:m,children:M,tempDisabled:C,direction:W,toolTipName:K,type:Q,isColorPure:L,isBorder:le}=e,ce=k=>{C||v(k,Q)};return(0,n.jsx)(Be.A,{content:K,direction:W||"up",distance:5,enterHoverTime:500,children:(0,n.jsxs)(Xn,{className:S()(l,C&&"tempDisabled",le&&"isBorder"),onClick:ce,onMouseEnter:_,onMouseLeave:m,children:[(0,n.jsx)(B.C,{size:d,name:u,isColorPure:L}),M]})})}const Ln=e=>{let{sharingData:l,handleItemAction:d}=e;const{link_name:u}=l,v=(0,c.wA)(),_=l.device_model,[m,M]=(0,i.useState)(u),C=(0,c.d4)(a.query.getCanEditByUser),W=(0,c.d4)(a.query.getIsEditMode),K=(0,c.d4)(a.query.getHostType),Q=(0,c.d4)(a.query.getScreenMetaList),L=(0,c.d4)(a.query.getAdvancedSharingList),le=K==="iframe"||W,ce=le&&C,k=le&&C,oe=()=>{const We=ye.current.value;if(We==="")Le(m),v({type:a.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,A.it)({value:We,currentSharing:l,sharingList:L}))Le(m),v({type:a.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{M(We);const Qe={link_name:We};v({type:a.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:Qe}})}},ie=(0,i.useMemo)(()=>l.type==="advanced"?(0,A.Sy)(Q,l):null,[l,Q]),{isRenaming:pe,setIsRenaming:de,handleKeyDown:me,handleBlur:H,handleFocus:ge,inputRef:ye,handleInput:Se,setInputName:Le,inputName:Te}=kn({name:m||"",fBlur:oe}),Ne=(0,i.useCallback)(()=>{de(!0)},[de]),Ze=(0,i.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Mt.embed,tempDisabled:!1},ENV.IS_ON_PREMISES?null:{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Mt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:Mt.setting,tempDisabled:!k}].filter(Boolean),[k]);return(0,n.jsxs)(sn,{className:S()(!ce&&"canNotEdit"),children:[(0,n.jsxs)("div",{className:"head-left",children:[(0,n.jsx)(B.C,{className:"view-mode-icon",name:_==="device"?"sharing/mode_device":"sharing/mode_canvas"}),pe?(0,n.jsx)("form",{className:"link-form",children:(0,n.jsx)("input",{value:Te,onFocus:ge,onChange:Se,ref:ye,onBlur:H,onKeyPress:me})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:S()("link-name",!k&&"link-name-not-edit"),onClick:Ne,children:m})})]}),(0,n.jsx)(Be.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,n.jsxs)("div",{className:"head-right",children:[(0,n.jsx)("div",{children:ie}),(0,n.jsx)(Ht,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!k,size:20,onClick:We=>d(We,Mt.showPage)})]})}),(0,n.jsx)("div",{className:"foot-right",children:Ze.map((We,Qe)=>We&&(0,n.jsx)(Ht,{className:S()("share-icon",We.className),name:We.name,type:We.className,toolTipName:We.toolTipName,onClick:d,tempDisabled:We.tempDisabled,isColorPure:We.isColorPure,size:20},Qe))})]})},Sn=(0,i.memo)(Ln),Bn=g.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-11jw1u-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.visit_count{color:",";.svg-icon{path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 4px;cursor:pointer;.expired-desc{color:",";}.expired-no{color:",";}}.expire-icon{width:24px;height:24px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;}.self-transform{svg{transition:all 0.4s;transform:rotate(360deg);}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),an=(0,g.DU)([".visit-tips{padding:6px;.tip-updated{display:flex;cursor:pointer;align-items:center;font-size:12px;p{margin:0;display:flex;align-items:center;}.icon-updated{display:inline-flex;align-items:center;margin-left:10px;line-height:14px;color:rgba(112,188,246,1);&:hover{color:rgba(149,209,248,1);}.svg-icon{margin-right:2px;path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}}}"]);var un=s(76713),bs=s.n(un);function qn(e,l,d){const u=(0,i.useMemo)(()=>{const m=bs()(),M=bs()(e.expired_at).subtract(2,"s");return M.isBefore(m)?0:M.diff(m,"days")+1},[e]),v=u<=0;let _;return l?_="\u5206\u4EAB\u8D85\u9650\uFF0C\u5347\u7EA7\u89E3\u9501":u>0&&u<=9999?_=u+" \u5929\u540E\u5931\u6548":u>9999?_=d===1?"\u6C38\u4E45\uFF08\u9650\u65F6\u514D\u8D39\uFF09":"\u6C38\u4E45\u6709\u6548":_="\u91CD\u65B0\u751F\u6548",{isExpired:v,remainTimeText:_}}var wn=s(97566);const Ks=e=>{let{sharingData:l,handleUpdateSharing:d}=e;const u=(0,c.wA)(),[v,_]=(0,i.useState)(null),[m,M]=(0,i.useState)(!1),{remainTimeText:C,isExpired:W}=qn(l,!1,999),K=l.device_model,Q=l.expire_type==="forever",L=(0,c.d4)(a.query.getUser),le=(0,c.d4)(a.query.getOrg),ce=(0,c.d4)(a.query.getProject),k=(0,c.d4)(ve.cb),oe=ce==null?void 0:ce.is_org_project,{isFullOrg:ie,isTrialOrg:pe}=oe?(0,wn.uP)(le,L==null?void 0:L.id):(0,wn.pE)(L),de=pe||ie,me=k.roleName&&["org_owner","org_admin","org_manager"].includes(k.roleName),H=de?me?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",ge=(0,i.useCallback)(()=>{d({expire_type:l.expire_type}),M(!0),setTimeout(()=>M(!1),500),u({type:a.entryKey["sharing:function:track"],payload:{operation:"\u91CD\u7F6E\u6709\u6548\u671F",viewMode:K,isDefault:!1}})},[u,d,l.expire_type,K]);return(0,i.useEffect)(()=>{(async()=>{if(l.access_token)try{const Se=await(0,G.dJ)(l.access_token);_(Se.count)}catch(Se){console.error("Error fetching visit count:",Se)}})()},[l.access_token]),(0,n.jsxs)(Bn,{children:[(0,n.jsxs)("div",{className:"visit_count",children:[I18N.imockSharing.visit_count," ",v]}),(0,n.jsxs)("div",{className:S()("expiration-time",{"is-expired":W}),children:[(0,n.jsx)("div",{className:"expire-text",children:(0,n.jsx)("span",{className:W?"expired-desc":"expired-no",children:C})}),!Q&&(0,n.jsx)(Ht,{direction:"down",toolTipName:I18N.imockSharing.resetLink,onClick:ge,className:S()("expire-icon",{"self-transform":m}),size:12,name:"sharing/refresh_24"})]}),(0,n.jsx)(an,{})]})},vs=(0,i.memo)(Ks);var yn=s(36521),Fn=s(36820);const Tn=e=>{const{project:l,sharing:d,user:u}=e,[v,_]=(0,i.useState)(!1),[m,M]=(0,i.useState)(void 0);return{isURLCopied:v,handleCopyURL:()=>{(0,A.kv)({project:l,action:d.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:d.link_name}),_(!0),clearTimeout(m);const W=setTimeout(()=>_(!1),3e3);M(W);const K=bs()().format("YYYY-MM-DD HH:mm:ss"),Q=(0,A.EL)(u)&&!(0,yn.kV)(R.nM);(0,yn.cH)(R.nM,K),Q&&(0,Fn.Sx)({prototype_activation_time:K})}}};var pn=s(93869);function es(e){const{password:l}=e;return{isHavePassword:(0,i.useMemo)(()=>l!==null&&l!=="",[l])}}var hn=s(53955);const Zs=e=>{var l;let{sharingData:d,setShowDelConfirmModal:u,fromDefault:v}=e;const _=(0,c.wA)(),m=(0,i.useRef)(null),M=d.view_access,C=d.device_model,W=(0,c.d4)(a.query.getProject),K=(0,c.d4)(a.query.getCanEditByUser),Q=(0,c.d4)(a.query.getIsEditMode),L=(0,c.d4)(a.query.getHostType),le=(0,c.d4)(a.query.getUser),ce=(0,c.d4)(a.query.getHostCurrentScreen),k=ce==null?void 0:ce.cid,oe=(W==null?void 0:W.is_org_project)||!1,pe=(L==="iframe"||Q)&&K,[de,me]=(0,i.useState)({top:0,left:0}),[H,ge]=(0,i.useState)(!1),{isURLCopied:ye,handleCopyURL:Se}=Tn({project:W,sharing:d,user:le}),{isHavePassword:Le}=es(d),Te=(0,i.useCallback)(()=>{const dt=(0,A.O8)(W,d,k);(0,pn.$)(dt),Se(),_({type:a.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:C,isDefault:!1}})},[_,d,k,Se,W,C]),Ne=(0,i.useCallback)(dt=>{const xt={view_access:dt};_({type:a.entryKey["sharing:remote:sharing:update"],payload:{sharingData:d,updatedKV:xt}}),_({type:a.entryKey["sharing:function:track"],payload:{operation:dt==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:C,isDefault:!1}})},[d,_,C]),Ze=(0,i.useCallback)(()=>{u({isOpened:!0,item:d})},[u,d]),We=(0,i.useCallback)(()=>{_({type:a.entryKey["sharing:go-settingPage"],payload:{currentSharing:d,settingPageType:"edit"}}),_({type:a.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:C,isDefault:!1}})},[_,d,C]),Qe=(0,i.useCallback)(dt=>{_({type:a.entryKey["sharing:remote:sharing:update"],payload:{sharingData:d,updatedKV:dt}})},[_,d]),[tt,st]=(0,i.useState)(void 0),yt=(0,i.useMemo)(()=>{if(tt==="viewAccess"){const dt=(0,n.jsx)(B.C,{name:"toolbar/selected",className:"selected-icon"});if(oe){const xt=M==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Ne("public"),icon:xt?dt:(0,n.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Ne("restricted"),icon:xt?(0,n.jsx)("div",{style:{width:0}}):dt}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:We},{label:I18N.imockSharing.delete,onclick:Ze}]},[tt,Ne,Ze,We,M,oe]),St=(0,i.useCallback)(dt=>{if(!oe||!pe)return;st("viewAccess");const xt=dt.currentTarget.getBoundingClientRect();me({top:xt.y+xt.height+3,left:xt.x-1}),ge(!H)},[oe,pe,H,st,me]),It=(0,i.useCallback)((dt,xt)=>{if(dt!=null&&dt.currentTarget)switch(xt){case Mt.QRcode:dt.stopPropagation(),_({type:a.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:d}}),_({type:a.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:C,isDefault:!1}});break;case Mt.embed:_({type:a.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:d}}),_({type:a.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:C,isDefault:!1}});break;case Mt.mkt:(0,lt.JW)("/community/upload?project_cid="+(W==null?void 0:W.cid),"_blank","noreferrer");break;case Mt.setting:{st("misc");const At=dt.currentTarget.getBoundingClientRect(),En=document.getElementById("v8-share-page").getBoundingClientRect().bottom-At.bottom<120?At.y-75:At.bottom+5;me({top:En,left:L==="iframe"?At.x+20:At.x-60}),ge(!H)}break;case Mt.showPage:_({type:a.entryKey["sharing:go-settingPage"],payload:{currentSharing:d,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[H,st,me,ge,_,W,d,C,L]),Lt=(0,i.useCallback)(()=>{var dt;me({...de,left:((dt=m.current)==null?void 0:dt.getBoundingClientRect().x)-1})},[de]);(0,i.useEffect)(()=>(window.addEventListener("resize",Lt),()=>window.removeEventListener("resize",Lt)));const $t=(0,hn.jB)(),{isExpired:Ft}=qn(d,!1,999);return(0,n.jsxs)(en,{className:S()(v&&"from-default"),children:[(0,n.jsx)(Sn,{sharingData:d,handleItemAction:It}),(0,n.jsxs)(jt,{className:S()("item-center",!pe&&"userNoEdit","advance-item"),isViewActiveDropdown:H&&tt==="viewAccess",children:[(0,n.jsx)("div",{ref:m,className:S()("left","sharingV2-click-visible",{"normal-hover":!0},!oe&&"can-not-edit"),onClick:St,children:(0,n.jsxs)("div",{className:"view-access-select",children:[(0,n.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,n.jsx)("div",{className:"access-name",children:(l=I18N.imockSharing[R.nQ[M]])!=null?l:"missing data"}),oe&&(0,n.jsx)(B.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,n.jsxs)(Wt,{type:"button",className:S()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(ye),{"is-disabled":Ft}),onClick:Te,children:[(0,n.jsx)("span",{className:"state state-0",children:Ft?I18N.dModule.link_expired_err_title:Le?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,n.jsx)("span",{className:"state state-1",children:(0,n.jsx)(B.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,n.jsx)(vs,{sharingData:d,handleUpdateSharing:Qe}),H&&(0,n.jsx)(Gt,{className:S()("design-avoid",tt,"advance_menu",{isV9Layout:$t}),position:de,onClose:()=>{ge(!1)},children:yt.map((dt,xt)=>(0,n.jsx)(zt.Dr,{text:dt.label,onClick:dt.onclick,icon:dt.icon,disabled:dt.disabled,canClick:dt.tempDisabled},xt))})]})},ts=(0,i.memo)(Zs),$s=g.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1kiue1c-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,R.gE,e=>e.theme.color_bg_border_02);function Ys(e){let{handleConfirmAction:l}=e;return(0,n.jsx)($s,{children:(0,n.jsxs)("div",{className:"confirm-content",children:[(0,n.jsxs)("div",{className:"top",children:[(0,n.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,n.jsx)(Ht,{name:"sharing/close",onClick:()=>l(!1),className:"close"})]}),(0,n.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,n.jsxs)("div",{className:"bottom",children:[(0,n.jsx)(bt.tA,{onClick:()=>l(!1),children:I18N.imockSharing.cancel}),(0,n.jsx)(bt.Qi,{className:"delete",onClick:()=>l(!0),children:I18N.imockSharing.delete})]})]})})}const ht=i.memo(Ys),Gs=()=>{const e=(0,c.d4)(a.query.getUser),l=(0,c.d4)(a.query.getOrg),{cid:d,name:u,is_org_project:v}=(0,c.d4)(a.query.getProject),_=(0,c.d4)(a.query.getHostType),m=(0,c.d4)(a.query.getAdvancedSharingList),M=(0,c.d4)(a.query.getCanEditByUser),C=(0,c.d4)(a.query.getProjShareToEdit),W=(0,c.d4)(a.query.getTheme),[K,Q]=(0,i.useState)({isOpened:!1,item:null}),[L,le]=(0,i.useState)(!1),ce=(0,c.wA)(),k=m.length===0,oe=(0,i.useCallback)(async pe=>{pe&&ce({type:a.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:K.item.cid}}),Q({isOpened:!1,item:null})},[K.item,Q,ce]);(0,i.useEffect)(()=>{(async()=>{const me=(await(0,G.X0)({projectCid:d})).map(H=>({...H,type:"advanced"})).sort((H,ge)=>new Date(ge.created_at).getTime()-new Date(H.created_at).getTime());if(C){const H=me.find(ge=>ge.access_token===C);H&&(ce({type:a.entryKey["sharing:go-settingPage"],payload:{currentSharing:H,settingPageType:"edit"}}),ce({type:a.entryKey["sharing:init"],payload:{projShareToEdit:""}}))}ce({type:a.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:me}}),le(!0)})()},[d,ce]);const ie=async()=>{const pe=(0,A.jc)(e,l),de=()=>{(0,Fn.kH)("create_advanced_sharing_click",{project_name:u,project_cid:d,source:_==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(m.length>=pe){const H=(l==null?void 0:l.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:H}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:H}}),"*"),de();return}const me=(0,A.zM)(d,m,{view_access:v?"restricted":"public"});ce({type:a.entryKey["sharing:go-settingPage"],payload:{currentSharing:me,settingPageType:"create"}}),de()};return L?k?(0,n.jsxs)(Pt,{children:[(0,n.jsx)(B.C,{name:W==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,n.jsx)(bt.jn,{onClick:ie,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,n.jsxs)(Ot,{children:[(0,n.jsxs)("div",{className:"create-item "+(M?"":"no-edit"),onClick:ie,children:[(0,n.jsx)(B.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),m.map((pe,de)=>(0,n.jsx)(ts,{setShowDelConfirmModal:Q,sharingData:pe},pe.cid+"-"+de)),K.isOpened&&(0,n.jsx)(ht,{handleConfirmAction:oe})]}):null},_s=(0,i.memo)(Gs),zn=g.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-1mfcda2-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;justify-content:space-between;span{margin-right:10px;}.visit-count{font-weight:400;font-size:12px;color:",";}}.wm-tip{height:25px;margin-top:12px;display:flex;span{height:25px;font-size:12px;font-weight:400;line-height:25px;color:",";}.divider{width:1px;height:13px;margin:6px 10px;background:",";}.btn{display:inline-block;padding:4px 6px;width:60px;height:25px;line-height:17px;font-size:12px;font-weight:500;border-radius:4px;background:",";color:",";&:hover{background:",";}}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;cursor:pointer;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],R.gE,R.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_info_bg,e=>e.theme.color_text_link_normal,e=>e.theme.color_grid,R.gE,e=>e.theme.color_text_L1,e=>e.theme.color_bg_canvas,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var tn=s(86778),nn=s(42781),Qs=s(64835),ns=s(64598),mn=s(15915);const Un=e=>{var l;let{defaultShare:d}=e;const u=(0,c.wA)(),v=(0,i.useRef)(null),_=(0,c.d4)(a.query.getProject),m=d,[M,C]=(0,i.useState)(null);_&&(m.visibility=_.visibility);const W=(0,c.d4)(a.query.getHostType),K=(0,c.d4)(a.query.getIsEditMode),Q=(0,c.d4)(a.query.getUser),L=W==="iframe"||K,le=(0,c.d4)(a.query.getCanEditByUser),ce=(0,c.d4)(a.query.getHostCurrentScreen),k=ce==null?void 0:ce.cid,oe=(0,c.d4)(a.query.getUser),ie=(0,c.d4)(a.query.getOrg),pe=(0,c.d4)(ve.cb),de=(_==null?void 0:_.is_org_project)||!1,me=!de&&le,[H,ge]=(0,i.useState)({top:0,left:0}),[ye,Se]=(0,i.useState)(!1),[Le,Te]=(0,i.useState)(m==null?void 0:m.visibility),{isFullOrg:Ne,isTrialOrg:Ze}=de?(0,wn.uP)(ie,oe==null?void 0:oe.id):(0,wn.pE)(oe),We=Ze||Ne,Qe=pe.roleName&&["org_owner","org_admin","org_manager"].includes(pe.roleName),tt=We?Qe?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",st=L&&le&&Le==="open",yt=L&&le,{isURLCopied:St,handleCopyURL:It}=Tn({project:_,sharing:m,user:Q}),[Lt,$t]=(0,i.useState)(!1),[Ft,dt]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const Xe=(0,hn.fV)();if(Xe){const{mdWMMktList:_t,mtWMMktList:qt,noWMMktList:Jn}=Xe;(_t.size||qt.size)&&(0,mn._5)()&&dt(!1);const Zo=[..._t,...qt,...Jn];Zo.length&&(0,nn.q)(Zo).then($o=>{if($o.mdWMMktList.length>0||$o.mtWMMktList.length>0){if(!(0,mn._5)())return;$t(!0),(0,ns.f)({exposure_reason:"\u5206\u4EAB\u63D0\u793A"})}})}},[]);const xt=()=>{const{isSoloMdMember:Xe}=(0,Qs.sT)(oe),_t=!!MB.currentOrg,qt={mode:"mat",payEntrance:"\u7F16\u8F91\u533A-v8-"+(_t?"\u56E2\u961F":"\u4E2A\u4EBA")+"-\u4ED8\u8D39\u7D20\u6750\u8BD5\u7528-\u5206\u4EAB\u884C\u4E3A\u63D0\u793A-"+(Xe?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458"),checkoutPlace:"workspace_v8_"+(_t?"org":"solo")+"_watermark_share_"+(Xe?"template":"vip-template"),checkoutArea:"proto"},Jn=Xe?{matName:"yearly"}:{};MB.global.popupHelper.chargeAsync({...qt,...Jn}),(0,ns._)({click_button:"\u5206\u4EAB-"+(Xe?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458")})},At=(0,i.useCallback)(Xe=>{const _t={access:Xe};u({type:a.entryKey["sharing:remote:sharing:update"],payload:{sharingData:m,updatedKV:_t}}),u({type:a.entryKey["sharing:function:track"],payload:{operation:Xe==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:m.view_mode,isDefault:!0}})},[m,u]),nt=(0,i.useMemo)(()=>{const Xe=(0,n.jsx)(B.C,{name:"toolbar/selected",className:"selected-icon"});if(de){const _t=(m==null?void 0:m.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>At("public"),icon:_t?Xe:(0,n.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>At("restricted"),icon:_t?(0,n.jsx)("div",{style:{width:0}}):Xe}]}else return[]},[At,de,m]),mt=(0,i.useMemo)(()=>{const Xe=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Mt.embed,tempDisabled:Le==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||Xe.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Mt.QRcode,tempDisabled:Le==="close",isBorder:!0}),me&&Xe.push({name:"sharing/mkt_icon",toolTipName:Ft?I18N.imockSharing.publish_to_community:"\u542B\u4ED8\u8D39\u7D20\u6750\uFF0C\u4E0D\u652F\u6301\u4E0A\u4F20",className:Mt.mkt,tempDisabled:Le==="close"||!Ft,isColorPure:!0,isBorder:!0}),Xe},[Le,me,Ft]),fn=(0,i.useCallback)(()=>{const Xe=Le==="close"?"open":"close",_t={visibility:Xe};Te(Xe),u({type:a.entryKey["sharing:remote:sharing:update"],payload:{sharingData:m,updatedKV:_t}}),u({type:a.entryKey["sharing:function:track"],payload:{operation:Xe==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:m.view_mode,isDefault:!0}})},[Le,u,m,Te]),En=(0,i.useCallback)(Xe=>{if(!de||!st)return;const _t=Xe.currentTarget.getBoundingClientRect();let qt=_t.y+_t.height+3;W==="iframe"&&(qt=qt+56),ge({top:qt,left:_t.x-1}),Se(!ye)},[de,st,ye,ge,W]),Qn=(0,i.useCallback)(()=>{const Xe=(0,A.O8)(_,m,k);(0,pn.$)(Xe),It(),u({type:a.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:m.view_mode,isDefault:!0}})},[_,m,k,It,u]),_n=(0,i.useCallback)(()=>{const Xe=m,{view_mode:_t}=m;u({type:a.entryKey["sharing:go-settingPage"],payload:{currentSharing:Xe,settingPageType:"edit"}}),u({type:a.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:_t,isDefault:!0}})},[m,u]),rn=(0,i.useCallback)((Xe,_t)=>{if(!(Xe!=null&&Xe.currentTarget))return;const qt=m,{view_mode:Jn}=m;switch(_t){case Mt.QRcode:Xe.stopPropagation(),u({type:a.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:qt}}),u({type:a.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:Jn,isDefault:!1}});break;case Mt.embed:u({type:a.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:qt}}),u({type:a.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:Jn,isDefault:!1}});break;case Mt.mkt:(0,lt.JW)("/community/upload?project_cid="+(_==null?void 0:_.cid),"_blank","noreferrer");break;default:break}},[u,_,m]),Yt=(0,i.useCallback)(()=>{var Xe;ge({...H,left:((Xe=v.current)==null?void 0:Xe.getBoundingClientRect().x)-1})},[H]);if((0,i.useEffect)(()=>(window.addEventListener("resize",Yt),()=>window.removeEventListener("resize",Yt))),(0,i.useEffect)(()=>{(async()=>{const _t=m.access_token;if(_t)try{const qt=await(0,G.dJ)(_t);C(qt.count)}catch(qt){console.error("Error fetching visit count:",qt)}})()},[m.access_token]),!m)return null;const Oo=(0,hn.jB)();return(0,n.jsxs)(zn,{className:S()(!yt&&"canNotEdit"),children:[(0,n.jsxs)("div",{className:"default-top",children:[L?(0,n.jsxs)("div",{className:"switch-content",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:I18N.imockSharing.public_access}),(0,n.jsx)(tn.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:Le==="open",onChange:fn})]}),(0,n.jsx)("div",{className:"visit-count",children:M!==null&&M!==0&&(0,n.jsxs)(n.Fragment,{children:[I18N.imockSharing.visit_count," ",M]})})]}):(0,n.jsxs)("div",{className:"switch-content",children:[I18N.imockSharing.default_share,M!==null&&M!==0&&(0,n.jsxs)("div",{className:"visit-count",children:[I18N.imockSharing.visit_count," ",M]})]}),(0,n.jsxs)(jt,{className:S()("item-center","default-link",Le==="close"&&"notView",!st&&"userNoEdit"),isViewActiveDropdown:ye,children:[(0,n.jsx)("div",{ref:v,className:S()("left","sharingV2-click-visible",{"normal-hover":!0},!de&&"can-not-edit"),onClick:En,children:(0,n.jsxs)("div",{className:"view-access-select",children:[(0,n.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,n.jsx)("div",{className:"access-name",children:(l=I18N.imockSharing[R.nQ[m.view_access]])!=null?l:"missing data"}),de&&(0,n.jsx)(B.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,n.jsxs)(Wt,{type:"button",className:S()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(St)),onClick:Qn,children:[(0,n.jsx)("span",{className:"state state-0",children:m.password&&m.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,n.jsx)("span",{className:"state state-1",children:(0,n.jsx)(B.C,{name:"new_replace/check",className:"copy-check"})})]})]}),Lt&&(0,n.jsxs)("div",{className:"wm-tip",children:[(0,n.jsx)("span",{children:I18N.WaterMark.mkt.share.tip}),(0,n.jsx)("div",{className:"divider"}),(0,n.jsx)("div",{className:"btn",onClick:xt,children:I18N.WaterMark.mkt.remove_wm})]})]}),(0,n.jsxs)("div",{className:"default-bottom",children:[(0,n.jsxs)("div",{className:"bottom-left",children:[(0,n.jsx)("div",{children:I18N.imockSharing.share_mode}),mt.map((Xe,_t)=>(0,n.jsx)(Ht,{className:S()("share-icon",Xe.className),name:Xe.name,type:Xe.className,toolTipName:Xe.toolTipName,onClick:rn,tempDisabled:Xe.tempDisabled,isColorPure:Xe.isColorPure,isBorder:Xe.isBorder,size:24},_t))]}),L&&(0,n.jsxs)("div",{className:S()("default-setting",!st&&"no-edit"),onClick:_n,children:[(0,n.jsx)(B.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),ye&&(0,n.jsx)(Gt,{className:S()("design-avoid","viewAccess",{isV9Layout:Oo}),position:H,onClose:()=>{Se(!1)},children:nt.map((Xe,_t)=>(0,n.jsx)(zt.Dr,{text:Xe.label,onClick:Xe.onclick,icon:Xe.icon,disabled:Xe.disabled,canClick:Xe.tempDisabled},_t))}),(0,n.jsx)(an,{})]})},An=(0,i.memo)(Un),ss=g.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-1sz39j-0"})(["width:100%;position:relative;height:100%;"]),Ss=g.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-13xenhf-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var Et=s(95230);const ln=g.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-8g3rhq-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],R.gE,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),Wn=e=>{let{title:l,handleClick:d}=e;return(0,n.jsx)(ln,{children:(0,n.jsxs)("div",{className:"title",onClick:d,children:[(0,n.jsx)(B.C,{name:"sharing/nav_back"}),l]})})},os=()=>{let e="read_only";const l=(0,c.wA)(),d=(0,c.d4)(a.query.getCurrentSelectSharing),u=(0,c.d4)(a.query.getProject),v=(0,c.d4)(a.query.getTheme),_=(0,c.d4)(a.query.getHostCurrentScreen),m=(0,c.d4)(a.query.getHostType),M=_==null?void 0:_.cid,{screen_visible_list:C,access_token:W,is_first_canvas_open:K}=d||{};if(d.type==="default"){const{view_mode:de}=d;e=de}else{const{device_model:de}=d;e=de}let Q="";const L=(0,c.d4)(a.query.getIsEditMode);d.type==="default"?Q=L||e==="read_only"?M:new URLSearchParams(location.search).get("screen")||"":Q=M;let le="";const ce=(0,A.a2)(W);m==="iframe"?le='<iframe src="'+ce+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>':C&&C.length!==0?le='<iframe src="'+ce+"/embed/v2/sharing?view_mode="+e+"&selection="+C[0]+(K?"":"&screen="+Q)+'" allowTransparency="true" frameborder="0"></iframe>':le='<iframe src="'+ce+"/embed/v2/sharing?view_mode="+e+(K?"":"&screen="+Q)+'" allowTransparency="true" frameborder="0"></iframe>';let k=null;const oe=(0,i.useCallback)(de=>{const me=de.currentTarget;me.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(k),k=setTimeout(()=>{me.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,A.kv)({action:"\u590D\u5236\u4EE3\u7801",project:u||{},linkName:d.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(H){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[d,k,u]),ie=(0,i.useCallback)(de=>{(0,pn.$)(le),oe(de)},[oe,le]),pe=(0,i.useCallback)(()=>{l({type:a.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[l]);return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(Wn,{title:I18N.imockSharing.insert,handleClick:pe}),(0,n.jsxs)(Ss,{children:[(0,n.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,n.jsxs)("div",{className:"copy-wrapper",children:[(0,n.jsx)("img",{src:v===Et.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,n.jsxs)("div",{className:"copy-box",children:[(0,n.jsx)("p",{className:"sharing-embedded-url",children:le}),(0,n.jsx)("button",{className:"copy-button copy","data-clipboard-text":le,onClick:ie,children:I18N.imockSharing.copy_code})]})]})]})]})},is=(0,i.memo)(os);var Hn=s(54909);const On=(0,g.AH)([".vip-title{display:inline-block;color:",";background-color:",";font-weight:500;font-size:12px;width:44px;height:20px;text-align:center;border-radius:4px;line-height:20px;}"],e=>e.isIframe?Hn.f.color_text_link_normal.value_dark:e.theme.color_text_link_normal,e=>e.isIframe?Hn.f.color_info_bg.value_dark:e.theme.color_info_bg),ws=g.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-q78fwd-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:8px 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;height:25px;min-height:25px;padding:0px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:34px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.item-expired{display:flex;.WorkspaceSelect{border-radius:6px;}.general-input{width:65px;height:28px;border-radius:6px;margin-right:12px;}}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,R.gE,R.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),Cs=g.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-q78fwd-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.last{margin-bottom:-8px;}.line-item.version-control{"," .vip-title{cursor:pointer;margin-left:4px;}}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)",On),Js=g.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-q78fwd-2"})(["height:328px;.visible-check{height:32px;}"]),Cn=(0,g.DU)([".custom-title{display:flex;justify-content:space-between;align-items:baseline;","}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu .SelectOption{height:28px;&:hover{.vip-title{background-color:",";}}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu.is-open{right:-14px;}"],On,e=>e.isIframe?Hn.f.color_bg_white.value_dark:e.theme.color_bg_white);var Ut=s(53159);const Ms=g.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-1w4pkti-0"})(["display:flex;background-color:",";height:28px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:100px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;color:",";border:1px solid ",";border-radius:6px;height:100%;&:focus{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}&:hover{border:1px solid ",";}}.reset-pwd{width:20px;height:20px;position:absolute;border-radius:4px;right:4px;color:",";cursor:pointer;&:hover{path{fill:",";}color:",";background-color:",";}&:active{path{fill:",";}color:",";background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],e=>e.theme.color_bg_white,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_canvas,e=>e.theme.color_bg_canvas);function Nt(e){return Math.random().toString(36).slice(-e)}function vt(e){const{onSubmit:l,value:d}=e,[u,v]=(0,i.useState)(e.value),_=(0,i.useRef)(null),m=K=>{v(K.target.value)},M=()=>{const K=Nt(6);v(K),l(K)},C=()=>{if(!l(u)){v(d);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(Q){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},W=K=>{K.key==="Enter"&&(C(),_.current.blur())};return(0,n.jsx)(Ms,{children:(0,n.jsxs)("div",{className:"password-input-wrapper",children:[(0,n.jsx)("input",{ref:_,type:"text",className:"password-input",value:u,onChange:m,onBlur:C,onKeyPress:W}),(0,n.jsx)(Be.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,n.jsx)(B.C,{className:"reset-pwd",name:"common/spinner",onClick:M})})]})})}function Vt(e){const{isOrgProject:l,sharingData:d,updateSharing:u}=e,v=d.view_mode,{isHavePassword:_}=es(d),m=(0,c.wA)(),C=(0,c.d4)(a.query.getHostType)==="iframe",{comment_permission:W,wechat:K,view_sticky:Q,is_first_canvas_open:L}=d,le=(0,i.useMemo)(()=>(0,A.R0)(l),[l]),ce=()=>{if(_)u({password:""}),m({type:a.entryKey["sharing:settingPage:default:confirm"]});else{const ge=Nt(6);k(ge)}m({type:a.entryKey["sharing:function:track"],payload:{operation:_?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:v}})},k=ge=>/^\s*$/.test(ge)||!/^\w+$/.test(ge)?!1:(u({password:ge}),m({type:a.entryKey["sharing:settingPage:default:confirm"]}),m({type:a.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:v}}),!0),oe=()=>{u({wechat:!K}),m({type:a.entryKey["sharing:settingPage:default:confirm"]}),m({type:a.entryKey["sharing:function:track"],payload:{operation:K?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:v}})},ie=()=>{u({is_first_canvas_open:!L}),m({type:a.entryKey["sharing:settingPage:default:confirm"]}),m({type:a.entryKey["sharing:function:track"],payload:{operation:L?"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:v}})},pe=(0,i.useMemo)(()=>W==="org_member",[W]),de=()=>{u({view_sticky:Q==="view_sticky"?"no_sticky":"view_sticky"}),m({type:a.entryKey["sharing:settingPage:default:confirm"]}),m({type:a.entryKey["sharing:function:track"],payload:{operation:Q?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:v}})},me=()=>{u({comment_permission:W==="org_member"?"off":"org_member"}),m({type:a.entryKey["sharing:settingPage:default:confirm"]}),m({type:a.entryKey["sharing:function:track"],payload:{operation:pe?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:v}})},H=ge=>{let{value:ye}=ge;u({view_access:ye}),m({type:a.entryKey["sharing:settingPage:default:confirm"]}),m({type:a.entryKey["sharing:remote:sharing:update"],payload:{sharingData:d,updatedKV:{access:ye}}}),m({type:a.entryKey["sharing:function:track"],payload:{operation:ye==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:v,isDefault:!1}})};return(0,n.jsxs)(Cs,{children:[l&&(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,n.jsx)(Ut.A,{name:"access",optionList:le,value:d.view_access,onChange:H})]}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,n.jsxs)("div",{className:"password-input-item",children:[_&&(0,n.jsx)(vt,{value:d.password,onSubmit:k}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:_,onChange:ce})]})]}),(0,n.jsx)("div",{className:"divider"}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:Q==="view_sticky",onChange:de})]}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:pe,onChange:me})]}),(0,n.jsx)("div",{className:"divider"}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:K,onChange:oe})]}),!C&&(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:L,onChange:ie})]})]})}const Mn=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"}],Pn=e=>{let{sharingData:l,updateSharing:d}=e;const u=W=>()=>{d({device_model:W})},[v,_]=(0,i.useState)(!1),m=(0,c.d4)(a.query.getTheme),M=()=>{_(!0)},C=()=>{_(!1)};return(0,n.jsx)(Xs,{className:S()({dark:m==="dark"}),children:(0,n.jsxs)("div",{className:"device-model",children:[(0,n.jsxs)("div",{className:"device-model-header",children:[(0,n.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,n.jsxs)("div",{className:"modal-container",children:[(0,n.jsx)(B.C,{onMouseEnter:M,onMouseLeave:C,className:"tipsIcon",name:"sharing/question",size:14}),v&&(0,n.jsxs)("div",{className:S()("device-model-modal",{light:m==="light",dark:m==="dark"}),children:[(0,n.jsx)("div",{className:"icon-triangle"}),(0,n.jsxs)("div",{className:S()("modal-content"),children:[(0,n.jsxs)("div",{className:"read_only",children:[(0,n.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+m+".png"}),(0,n.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,n.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]}),(0,n.jsxs)("div",{className:"device",children:[(0,n.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+m+".png"}),(0,n.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,n.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]})]})]})]}),(0,n.jsx)("div",{className:"device-model-type-container",children:Mn().map((W,K)=>{let{key:Q,label:L,icon:le}=W;const ce="device-model-"+Q+"   ";return(0,n.jsxs)("div",{className:S()(ce,{"is-active":Q===l.device_model,dark:m==="dark"}),onClick:u(Q),children:[(0,n.jsx)(B.C,{name:le,size:16}),(0,n.jsx)("span",{children:L})]},K)})})]})})},Xs=g.Ay.div.withConfig({displayName:"ViewModeModel__StyledDevcieModel",componentId:"sc-1tq5cfg-0"})(["position:relative;margin-bottom:14px;margin-top:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;line-height:14px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}.device-model-modal{z-index:100;position:absolute;left:20px;top:24px;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;justify-content:space-evenly;padding:24px 0px;width:374px;height:230px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.device,.read_only{width:160px;height:180px;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin:6px 0;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-read_only,.device-model-device{width:177px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);&.dark{border:1px solid #4f5052;}border-radius:6px;color:",";span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal);function Nn(){const e=(0,c.d4)(a.query.getCurrentSharing),l=(0,c.d4)(a.query.getProject),d=(0,c.wA)(),u=(0,i.useCallback)(m=>{d({type:a.entryKey["sharing:currentSharing:update"],payload:{updatedKV:m}})},[d]),v=m=>{d({type:a.entryKey["sharing:currentSharing:update"],payload:{updatedKV:m}}),(0,yn.a0)(l.cid+"_default_sharing_view_mode",m.device_model,yn.qW.String),d({type:a.entryKey["sharing:settingPage:default:confirm"]})},_=()=>{d({type:a.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,n.jsxs)(ws,{children:[(0,n.jsx)(Wn,{title:I18N.imockSharing.sharing_setting_title,handleClick:_}),(0,n.jsxs)("div",{className:"basic-content",children:[(0,n.jsx)(Pn,{sharingData:e,updateSharing:v}),(0,n.jsx)(Vt,{isOrgProject:l.is_org_project,sharingData:e,updateSharing:u})]})]})}var rs=s(54608);const as=()=>(0,n.jsx)(Ns,{}),Ns=g.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-178sehp-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);var Po=s(7775),Do=s(60081),ls=s(24660);function qs(e){const{isOrgProject:l,sharingData:d,updateSharing:u,settingPageType:v}=e,_=d.device_model,m=(0,i.useMemo)(()=>(0,A.R0)(l),[l]),{isHavePassword:M}=es(d),C=(0,c.d4)(a.query.getUser),W=(0,c.d4)(a.query.getOrg),Q=(0,c.d4)(a.query.getHostType)==="iframe",L=(0,c.wA)(),le="v8-\u5206\u4EAB\u5F39\u7A97_\u81EA\u5B9A\u4E49\u94FE\u63A5\u6709\u6548\u671F";let ce=!1,k=!1;if(l){const nt=(0,wn.uP)(W,C==null?void 0:C.id);ce=nt==null?void 0:nt.isFree,k=!(nt!=null&&nt.isFullOrg||nt!=null&&nt.isTrialOrg)}else{const nt=(0,wn.pE)(C);ce=!(nt!=null&&nt.isLifeTime),k=!(nt!=null&&nt.isLifeTime)}const{view_sticky:oe,comment_permission:ie,wechat:pe,enable_version_record:de,is_first_canvas_open:me}=d,H=nt=>{let{value:mt}=nt;u({view_access:mt})},ge=()=>{if(M)u({password:""});else{const nt=Nt(6);ye(nt)}L({type:a.entryKey["sharing:function:track"],payload:{operation:M?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:_,isDefault:!0}})},ye=nt=>/^\s*$/.test(nt)||!/^\w+$/.test(nt)?!1:(u({password:nt}),L({type:a.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:_,isDefault:!0}}),!0),Se=()=>{u({wechat:!pe}),L({type:a.entryKey["sharing:function:track"],payload:{operation:pe?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:_,isDefault:!0}})},Le=()=>{u({is_first_canvas_open:!me}),L({type:a.entryKey["sharing:function:track"],payload:{operation:me?"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:_,isDefault:!0}})},Te=(0,i.useMemo)(()=>ie==="org_member",[ie]),Ne=()=>{u({view_sticky:!oe,sticky:!oe}),L({type:a.entryKey["sharing:function:track"],payload:{operation:oe?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:_,isDefault:!0}})},Ze=()=>{u({comment_permission:ie==="org_member"?"off":"org_member"}),L({type:a.entryKey["sharing:function:track"],payload:{operation:Te?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:_,isDefault:!0}})},[We,Qe]=(0,i.useState)("1"),[tt,st]=(0,i.useState)("forever"),{remainTimeText:yt}=qn(d,!1,999);(0,i.useEffect)(()=>{d&&d.expire_type==="forever"?st(d.expire_type):(Qe(d.expire_type),st(yt))},[d,yt]);const St=(0,i.useRef)(null),It=()=>{if(ce){const nt=(0,ls.l)(W,le);if(W||(nt.mode="org",nt.isSelectOrg=!0),Q){const mt="/workspace?payment_param="+(0,ft._)(nt);(0,lt.JW)(mt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(nt);return!0}return!1},Lt=nt=>{if(nt==="forever")u({expire_type:nt});else if(It()){u({expire_type:"forever"},{isCustom:!0});return}L({type:a.entryKey["sharing:function:track"],payload:{operation:nt==="forever"?"\u6709\u6548\u671F\u6C38\u4E45":"\u6709\u6548\u671F\u81EA\u5B9A\u4E49",viewMode:_,isDefault:!1}}),st(nt)},$t=[{label:"\u6C38\u4E45\u6709\u6548",value:"forever"},{label:ce?(0,n.jsxs)("div",{className:"custom-title",children:["\u81EA\u5B9A\u4E49",(0,n.jsx)("span",{className:"vip-title",children:"\u56E2\u961F\u7248"})]}):"\u81EA\u5B9A\u4E49",value:"custom"}],Ft=nt=>/^([1-9]\d{0,3}|9999)$/.test(nt),dt=nt=>{const mt=nt.target.value;if(!Ft(mt))try{MB.notice({text:"\u8F93\u5165\u503C\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165",type:"warning"});return}catch(En){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}u({expire_type:mt}),Qe(mt)},xt=()=>{const nt=(0,ls.l)(W,"\u7F16\u8F91\u533A_v8\u539F\u578B\u5206\u4EAB_\u7248\u672C\u8BB0\u5F55\u5F00\u5173","v8proto-share-set-version",!0);if(nt.immediateUse="org_full",Q){const mt="/workspace?payment_param="+(0,ft._)(nt);(0,lt.JW)(mt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(nt)},At=()=>{k?xt():(u({enable_version_record:!de}),L({type:a.entryKey["sharing:function:track"],payload:{operation:de?"\u5173\u95ED\u67E5\u770B\u7248\u672C\u8BB0\u5F55":"\u6253\u5F00\u67E5\u770B\u7248\u672C\u8BB0\u5F55",viewMode:_,isDefault:!1}}))};return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsxs)(Cs,{children:[d.type==="advanced"&&l&&(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,n.jsx)(Ut.A,{name:"access",optionList:m,value:d.view_access,onChange:H})]}),(0,n.jsxs)("div",{className:"line-item "+(l?"mt":""),children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,n.jsxs)("div",{className:"password-input-item",children:[M&&(0,n.jsx)(vt,{value:d.password,onSubmit:ye}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:M,onChange:ge})]})]}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_link_expired}),(0,n.jsxs)("div",{className:"item-expired",children:[tt==="custom"&&(0,n.jsx)(Do.A,{className:"general-input",attr:"width",value:We,cursorDirection:!1,min:1,max:9999,rightTitle:"\u5929",actionButton:!1,ref:St,isSelect:!0,onBlur:dt,disableKeyboardEvents:!0}),(0,n.jsx)(Po.mq,{value:tt,attr:"expire_type",placeholder:v==="create"?We+"\u5929\u540E\u5931\u6548":tt,optionList:$t,onChange:nt=>Lt(nt)})]})]}),(0,n.jsx)(as,{}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:oe,onChange:Ne})]}),(0,n.jsxs)("div",{className:"line-item mt",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:Te,onChange:Ze})]}),(0,n.jsxs)("div",{className:"line-item version-control mt",children:[(0,n.jsxs)("label",{className:"item-title",children:[I18N.imockSharing.version_control,k&&(0,n.jsx)("span",{className:"vip-title",onClick:xt,children:I18N.Common.business_plan})]}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:de,readOnly:k,onChange:At})]}),(0,n.jsx)(as,{}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:pe,onChange:Se})]}),!Q&&(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,n.jsx)(tn.A,{size:"small",isIOS:!0,isChecked:me,onChange:Le})]})]}),(0,n.jsx)(Cn,{isIframe:Q})]})}var on=s(74059),eo=s(66748),ct=s.n(eo);const to=g.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-ysqvb2-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class Vn extends i.PureComponent{constructor(){super(...arguments),(0,on.A)(this,"onToggle",l=>{const{onChange:d}=this.props;d(l)})}render(){const{className:l,isDisabled:d,readOnly:u,isChecked:v,isCircle:_}=this.props,m=S()(l,{"is-checked":v,"is-disabled":d,readonly:u});return(0,n.jsx)(to,{className:m,onClick:this.onToggle,isCircle:_,children:(0,n.jsx)("span",{className:"Check-state",children:(0,n.jsx)(B.C,{name:"new_replace/box_check"})})})}}(0,on.A)(Vn,"propTypes",{isChecked:ct().bool,isDisabled:ct().bool,readOnly:ct().bool,onChange:ct().func,label:ct().any,name:ct().string,value:ct().any,className:ct().string,isCircle:ct().bool}),(0,on.A)(Vn,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var no=s(67234),Is=s(89099),js=s(44622);const Es=g.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1qgvr8z-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:210px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class ks extends i.PureComponent{constructor(l){super(l),(0,on.A)(this,"handleCheck",m=>{const{onUpdateScreenVisibleList:M,screenVisibleList:C}=this.props,W=new Set(C),K=(0,js.YU)(m),Q=W.has(m.cid);K.forEach(le=>{let{cid:ce}=le;Q?W.delete(ce):W.add(ce)});const L=[];for(const le of W){const ce=this.screenDataMap[le];ce&&!(0,js.Mo)(ce)&&L.push(ce)}M(Array.from(W))}),(0,on.A)(this,"onSelectAll",m=>{const{onUpdateScreenVisibleList:M}=this.props;M(m?this.pageKeyList:[])});const{screenMetaList:d}=l,{treeData:u,pageAttrMap:v,pageKeyList:_}=d;this.screenDataMap=v,this.screenTreeData=u,this.pageKeyList=_,this.pageExceptFolderList=(0,A.RF)(v)}componentDidMount(){const l=(0,yn.Yt)("currentJumpingSharingScreenMetaCid",void 0,yn.qW.String);(0,yn.G5)("currentJumpingSharingScreenMetaCid"),l!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+l+'"]').scrollIntoView(),300)}render(){const{theme:l,screenVisibleList:d,isDisplayScreenAll:u}=this.props,v=(d==null?void 0:d.length)===this.pageKeyList.length,_=(0,A.Mj)(u,d,this.pageExceptFolderList);return(0,n.jsxs)(Es,{children:[(0,n.jsxs)("div",{className:S()("screen-config-header",{"is-disabled":u}),children:[(0,n.jsx)(no.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:u,isChecked:v}),(0,n.jsxs)("div",{className:"content-wrapper",children:[(0,n.jsx)("span",{className:"divider",children:"|"}),(0,n.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",_).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,n.jsx)("div",{className:S()("screen-list-content",{"is-disabled":u,dark:l==="dark"}),children:(0,n.jsx)("div",{className:"sm-list",children:(0,n.jsx)(Ls,{theme:l,isDisplayScreenAll:u,screenTreeData:this.screenTreeData,screenVisibleList:d,onCheck:this.handleCheck})})})]})}}(0,on.A)(ks,"propTypes",{theme:ct().string,screenMetaList:ct().object,screenVisibleList:ct().array,onUpdateScreenVisibleList:ct().func,isDisplayScreenAll:ct().bool});const Ls=e=>{let{theme:l,isDisplayScreenAll:d,screenTreeData:u,screenVisibleList:v,onCheck:_}=e;return(0,n.jsx)(n.Fragment,{children:u.children.map(m=>(0,n.jsx)(Kn,{theme:l,treeNode:m,root:!0,depth:0,screenVisibleList:v,isDisplayScreenAll:d,onCheck:_},m.cid))})};Ls.propTypes={theme:ct().string,isDisplayScreenAll:ct().bool,screenTreeData:ct().object,screenVisibleList:ct().array,onCheck:ct().func};class Kn extends i.PureComponent{constructor(l){super(l),(0,on.A)(this,"handleCheck",d=>{d.stopPropagation();const{isDisplayScreenAll:u}=this.props;if(u)return;const{treeNode:v,onCheck:_}=this.props;_(v)}),(0,on.A)(this,"handleExpand",d=>{const{isDisplayScreenAll:u}=this.props;u||(d.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:l,treeNode:d,root:u,depth:v,screenVisibleList:_,onCheck:m,theme:M}=this.props,{children:C,data:W}=d,K=C.length!==0,{expand:Q}=this.state,L=_&&_.includes(d.cid);return(0,n.jsxs)("li",{className:S()("content-item"),"data-cid":d.cid,children:[(0,n.jsxs)("div",{className:S()("sm-box",{"is-display":L,"is-disabled":l}),children:[(0,n.jsx)(Vn,{isDisabled:l,className:"sm-check",isChecked:L,onChange:this.handleCheck}),(0,n.jsx)(Ts,{isDisabled:l,theme:M,root:u,depth:v,showExpander:K,data:W,expand:Q,onClick:this.handleCheck,onExpand:this.handleExpand})]}),C.length>0&&Q&&(0,n.jsx)("ol",{className:"sm-child",children:C.map(le=>(0,n.jsx)(Kn,{theme:M,treeNode:le,depth:v+1,screenVisibleList:_,isDisplayScreenAll:l,onCheck:m},le.cid))})]})}}(0,on.A)(Kn,"propTypes",{theme:ct().string,isDisplayScreenAll:ct().bool,treeNode:ct().object,screenVisibleList:ct().array,depth:ct().number,root:ct().bool,onCheck:ct().func});class Ts extends i.PureComponent{render(){const{depth:l,showExpander:d,data:u,expand:v,onExpand:_,onClick:m,theme:M,isDisabled:C}=this.props,W=19*(l+1);return(0,n.jsxs)("div",{className:S()("sm-item"),style:{paddingLeft:W},onClick:m,children:[d&&(0,n.jsx)("a",{className:"expander",onClick:_,children:(0,n.jsx)(B.C,{className:S()("arrow-icon",{"is-expand":v}),name:"common/expand"})}),(0,n.jsx)(Is.k,{icon:u.icon,theme:M,disabled:C,isExpand:v}),(0,n.jsx)("span",{className:"screen-name",children:u.name})]})}}(0,on.A)(Ts,"propTypes",{theme:ct().string,isDisabled:ct().bool,showExpander:ct().bool,data:ct().object,depth:ct().number,expand:ct().bool,onExpand:ct().func,onClick:ct().func});function so(e){const l=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:d,updateSharing:u}=e,[v,_]=(0,i.useState)(d.screen_visible_switch?2:1),m=(0,c.d4)(a.query.getTheme),M=(0,c.d4)(a.query.getScreenMetaList),C=K=>{u({screen_visible_list:K})},W=K=>{let{value:Q}=K;u({screen_visible_switch:Q==="2",screen_visible_list:[]}),_(Q)};return(0,n.jsxs)(Js,{children:[(0,n.jsx)("div",{className:"line-item visible-check",children:(0,n.jsx)(Ut.A,{name:"access",optionList:l,value:v,onChange:W})}),M&&(0,n.jsx)(ks,{theme:m,screenMetaList:M,screenVisibleList:d.screen_visible_list,isDisplayScreenAll:!d.screen_visible_switch,onUpdateScreenVisibleList:C})]})}var oo=s(19722);const io=e=>{let{handleConfirm:l,handleCancel:d}=e;const u=(0,c.d4)(a.query.getCurrentSharing),v=(0,c.d4)(a.query.getTheme),_=(0,c.d4)(a.query.getScreenMetaList),m=u.type==="default"?!1:u.screen_visible_switch&&(0,A.Mb)(_,u).selectedSize===0,M=()=>{m||l()};return(0,n.jsxs)(ro,{className:"confirm-bar",children:[(0,n.jsx)(bt.jn,{className:S()("confirm",{dark:v==="dark"}),disabled:m,onClick:M,children:I18N.SettingPanel.confirm}),(0,n.jsx)(bt.tA,{className:"cancel",onClick:d,children:I18N.imockSharing.cancel})]})},ro=g.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-fh6wtb-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:20px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),As=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function Os(){const e=(0,c.d4)(a.query.getProject),l=(0,c.d4)(a.query.getSettingPageType),d=(0,c.d4)(a.query.getSubSettingPageType),u=(0,c.d4)(a.query.getCurrentSharing),v=(0,c.d4)(a.query.getAdvancedSharingList),m=(0,hn.jB)()?"recommend":"old",M=(0,c.wA)(),[C,W]=(0,i.useState)(d==="basic"?0:1),[K,Q]=(0,i.useState)(u.link_name),[L,le]=(0,i.useState)(!1),ce=We=>{W(We)},k=(0,i.useCallback)(async(We,Qe)=>{const{isCustom:tt}=Qe||{};M({type:a.entryKey["sharing:settingPage:advanced:confirm"],payload:{updatedKV:We,...tt!==void 0&&{isCustom:tt}}})},[M]),oe=(0,i.useCallback)(()=>{M({type:a.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),l==="edit"&&L&&M({type:"sharing:advance:click:track"})},[M,l,L]),ie=(0,i.useCallback)((We,Qe)=>{M({type:a.entryKey["sharing:currentSharing:update"],payload:{updatedKV:We}}),l==="edit"&&(le(!0),k(We,Qe))},[M,l,k,le]),pe=()=>{const We=Se.current.value;We===""?(M({type:a.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),Ne(K)):(0,A.it)({value:We,currentSharing:u,sharingList:v})?(Ne(K),M({type:a.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(Q(We),ie({link_name:We}))},{isRenaming:de,setIsRenaming:me,handleKeyDown:H,handleBlur:ge,handleFocus:ye,inputRef:Se,handleInput:Le,inputName:Te,setInputName:Ne}=kn({name:u.link_name,fBlur:pe}),Ze=()=>{me(!0)};return(0,n.jsxs)(ws,{children:[l==="create"?(0,n.jsx)("div",{className:"header",children:(0,n.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,n.jsx)(Wn,{title:I18N.imockSharing.sharing_setting_title,handleClick:oe}),(0,n.jsxs)("div",{className:"share-link-title",children:[(0,n.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,n.jsx)("div",{className:S()("name-input",{"is-renaming":de}),children:de?(0,n.jsx)("form",{children:(0,n.jsx)("input",{value:Te,onFocus:ye,onChange:Le,ref:Se,onBlur:ge,onKeyPress:H})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{onClick:Ze,children:K}),(0,n.jsx)(oo.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Ze})]})})]}),(0,n.jsx)(Pn,{sharingData:u,updateSharing:ie}),(0,n.jsxs)("div",{className:"tabs",children:[(0,n.jsx)(rs.A,{className:"sharing-nav",activeIndex:C,onTabChange:ce,layoutV9:m,children:As().map(We=>{let{key:Qe,name:tt,...st}=We;return(0,n.jsx)(rs.n,{...st,active:C===Qe,className:S()({visible:tt==="visible",basic:tt==="basic"})},Qe)})}),(0,n.jsx)("div",{})]}),C===0?(0,n.jsx)(qs,{isOrgProject:e.is_org_project,sharingData:u,updateSharing:ie,settingPageType:l}):(0,n.jsx)(so,{sharingData:u,updateSharing:ie}),l==="create"&&(0,n.jsx)(io,{handleConfirm:k,handleCancel:oe})]})}function cs(){return(0,c.d4)(a.query.getCurrentSharing).type==="default"?(0,n.jsx)(Nn,{}):(0,n.jsx)(Os,{})}const ds=g.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-1konos2-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),ao=(0,i.memo)(function(){const l=(0,c.d4)(a.query.getSharingToast),d=(0,c.wA)();return(0,i.useEffect)(()=>{setTimeout(()=>{d({type:a.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[d]),l?(0,n.jsxs)(ds,{children:[(0,n.jsx)(B.C,{name:"sharing/toast_waring",isColorPure:!0}),l]}):null}),lo=g.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-qtrrh-0"})(["margin-top:70px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],R.gE,e=>e.theme.color_text_L3);var co=s(80582);const uo=g.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-ft5f1y-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:130px;height:130px;filter:",";border:1px solid ",";.qrcode{width:110px;height:110px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function po(e){const{isQRcodePanel:l,text:d,project:u}=e,v=u.icon||null;return l?(0,n.jsxs)(uo,{className:"qrcode-and-icon",children:[(0,n.jsx)(co.A,{className:"qrcode",text:d,width:110,height:110}),v&&(0,n.jsx)("div",{className:"p-icon-box",children:(0,n.jsx)("img",{src:v})})]}):null}const ho=()=>{const e=(0,c.wA)(),l=(0,c.d4)(a.query.getCurrentSelectSharing),d=(0,c.d4)(a.query.getProject),u=(0,c.d4)(a.query.getHostCurrentScreen),v=u==null?void 0:u.cid,_=(0,i.useMemo)(()=>(0,A.O8)(d,l,v),[l,d,v]),m=(0,i.useCallback)(()=>{e({type:a.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(Wn,{title:I18N.imockSharing.qr_code,handleClick:m}),(0,n.jsxs)(lo,{children:[(0,n.jsx)(po,{isQRcodePanel:!0,project:d,text:_}),(0,n.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},mo=(0,i.memo)(ho),Ps=()=>{var e;const l=(0,c.wA)(),d=(0,c.d4)(a.query.getHostSharingData),u=(0,c.d4)(a.query.getProject),v=u==null?void 0:u.is_org_project,{link_name:_,view_access:m}=d,M=(0,c.d4)(a.query.getUser),C=(0,c.d4)(a.query.getHostType),W=(0,c.d4)(a.query.getIsEditMode),K=C==="iframe"||W,Q=(0,c.d4)(a.query.getCanEditByUser),L=(0,c.d4)(a.query.getHostCurrentScreen),le=L==null?void 0:L.cid,{isURLCopied:ce,handleCopyURL:k}=Tn({project:u,sharing:d,user:M}),oe=K&&Q,ie=(0,i.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Mt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Mt.embed,tempDisabled:!1,isBorder:!0}],[]),pe=(0,i.useCallback)(()=>{const me=(0,A.O8)(u,d,le);(0,pn.$)(me),k(),l({type:a.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:d.device_model,isDefault:!1}})},[l,d,k,le,u]),de=(0,i.useCallback)((me,H)=>{if(!(me!=null&&me.currentTarget))return;const ge=d,{device_model:ye}=d;switch(H){case Mt.QRcode:me.stopPropagation(),l({type:a.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:ge}}),l({type:a.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:ye,isDefault:!1}});break;case Mt.embed:l({type:a.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:ge}}),l({type:a.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:ye,isDefault:!1}});break;default:break}},[l,d]);return(0,n.jsxs)(zn,{children:[(0,n.jsxs)("div",{className:"default-top",children:[(0,n.jsx)("div",{className:"switch-content",children:_}),(0,n.jsxs)(jt,{className:S()("item-center","default-link",!oe&&"userNoEdit"),children:[(0,n.jsx)("div",{className:S()("left","sharingV2-click-visible",{"normal-hover":!0},!v&&"can-not-edit"),children:(0,n.jsxs)("div",{className:"view-access-select",children:[(0,n.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,n.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[R.nQ[m]])!=null?e:"missing data"}),v&&(0,n.jsx)(B.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,n.jsxs)(Wt,{type:"button",className:S()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(ce)),onClick:pe,children:[(0,n.jsx)("span",{className:"state state-0",children:d.password&&d.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,n.jsx)("span",{className:"state state-1",children:(0,n.jsx)(B.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,n.jsx)("div",{className:"default-bottom",children:(0,n.jsxs)("div",{className:"bottom-left",children:[(0,n.jsx)("div",{children:I18N.imockSharing.share_mode}),ie.map((me,H)=>(0,n.jsx)(Ht,{className:S()("share-icon",me.className),name:me.name,type:me.className,toolTipName:me.toolTipName,onClick:de,tempDisabled:me.tempDisabled,isColorPure:me.isColorPure,isBorder:me.isBorder,size:24},H))]})})]})},go=(0,i.memo)(Ps),Ds=()=>{const e=(0,c.d4)(a.query.getTopPageIndex),l=(0,c.d4)(a.query.getTabIndex),d=(0,c.d4)(a.query.getSharingToast),u=(0,c.d4)(a.query.getHostSharingData),v=!u||u.type==="default",_=(0,c.d4)(a.query.getProject),m=(0,c.d4)(a.query.getIsEditMode),C=(0,c.d4)(a.query.getHostType)==="iframe"||m,[W,K]=(0,i.useState)(u);return(0,i.useEffect)(()=>{const{sharing:Q}=(0,G.Y5)(_);K(Q)},[u,_]),(0,n.jsxs)(ss,{children:[e==="edit"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ct,{}),l===0?!C&&!v?(0,n.jsx)(go,{}):W?(0,n.jsx)(An,{defaultShare:W}):(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(_s,{})]}),e==="embed"&&(0,n.jsx)(is,{}),e==="setting"&&(0,n.jsx)(cs,{}),e==="qrCode"&&(0,n.jsx)(mo,{}),d&&(0,n.jsx)(ao,{})]})},Rs=(0,i.memo)(Ds),us=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,fo=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var Kt=s(46795);const Bs=async(e,l)=>{try{let u=null;return e?u=await(0,Kt.DE)("/api/dashboard/v4/users/search?email="+e):l&&(u=await(0,Kt.DE)("/api/dashboard/v4/users/search?mobile="+l)),u}catch(u){var d;return u!=null&&(d=u.message)!=null&&d.includes("failed with 404")?{}:null}};var ps=s(29584);const Zn=(0,g.Ay)(ps.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1wqmy1b-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),yo=(0,g.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:',';margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:',";margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}"],e=>e.isOnlyMemberManager?"66px":"88px",e=>e.isOnlyMemberManager?"68px":"90px");let In=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const xo=e=>{const{tipType:l,position:d="center",className:u,isOnlyMemberManager:v=!1}=e,[_,m]=(0,i.useState)({}),M=(0,c.d4)(ve.il);(0,i.useEffect)(()=>{const W=document.querySelector(".sharingBoxV2 ");if(W){const{left:K,top:Q}=W.getBoundingClientRect();m({left:Number(K)+13,top:Number(Q)+29})}},[]);const C=()=>{switch(l){case In.Project:return(0,n.jsxs)("section",{className:"multi-line",children:[(0,n.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,n.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case In.SubFolder:return(0,n.jsxs)("section",{className:"multi-line",children:[(0,n.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,n.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,n.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case In.RootFolder:return(0,n.jsxs)("section",{className:"multi-line",children:[(0,n.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case In.OrgSpace:return(0,n.jsxs)("section",{className:"multi-line",children:[(0,n.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case In.OrgSpaceLimiter:return(0,n.jsx)("section",{className:"single-line",children:(0,n.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,n.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Zn,{opener:(0,n.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:d,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:S()("permission-tip",u&&u),menu:C(),menuBaseStyle:_}),(0,n.jsx)(yo,{isOnlyMemberManager:v})]})};var Fs=s(99739);const bo=g.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-se9dlz-0"})(["width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),zs=(0,g.Ay)(Fs.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-se9dlz-1"})(["width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),xn=(0,g.DU)([".permission-select.CheckSelectMenu{padding:8px 0;background-color:#333;border-radius:4px;box-shadow:none;&:lang(en){min-width:120px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:#fff;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:#444;color:#fff;}&:hover{color:#fff;}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:#fff;}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"]),$n=(0,g.DU)([".permission-select.CheckSelectMenu{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";&:lang(en){min-width:136px;}&:not(.is-empty){padding:8px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:",";border-radius:4px;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:",";color:",";}&:hover{color:",";}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:",";}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L0,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_text_L0,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0,e=>e.theme.color_text_L0);var Dn=s(23485);const vo=e=>{let l=[],d={};switch(e){case E.W.OrgSpace:l=fe,d=$e.FU;break;case E.W.Folder:l=Me,d=$e.lY;break;case E.W.Project:l=Ae,d=$e.au;break;default:break}return l.map(u=>({...u,permission:(0,X.pf)(u.value,d)}))},Us=(e,l)=>{let d={};switch(e){case E.W.OrgSpace:return l;case E.W.Folder:d=Ue;break;case E.W.Project:d=Re;break;default:return l}return d[l]||l},_o=e=>{switch(e){case E.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case E.W.Folder:return I18N.imockSharing.permission_no_right_folder;case E.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},So=e=>{const{value:l,optionList:d,handleChange:u}=e,v=(0,i.useRef)(null),[_,m]=(0,i.useState)(!0),M=d.filter(W=>W.value===l),C=(0,i.useCallback)(()=>{v.current&&v.current.close()},[]);return(0,i.useEffect)(()=>(document.body.addEventListener("wheel",C),()=>{document.body.removeEventListener("wheel",C)}),[C]),(0,i.useEffect)(()=>{const W=setTimeout(()=>{m(!1)},1e3);return()=>{clearTimeout(W)}},[]),_?(0,n.jsx)(zs,{unstyled:!0,ref:v,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:l,menuX:"right",onChange:u,optionList:M,menuClassName:"permission-select"}):(0,n.jsx)(zs,{unstyled:!0,ref:v,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:l,menuX:"right",onChange:u,optionList:d,menuClassName:"permission-select"})},hs=(0,i.memo)(So),ms=(e,l)=>{const{isSelf:d,userCurrentSpacePermission:u,userCurrentScopePermisson:v,memberCurrentScopePermisson:_,memberTopScopePermisson:m,memberOrgPermisson:M,memberIsSpaceManager:C}=l;return e.map(K=>{let{value:Q,label:L,permission:le}=K,ce=!1,k=le.roleName.includes("ban_viewer");return u.isManager&&d?ce=k:v.isMember?v.level<_.level||v.level<le.level?ce=!0:(!m.isMember&&m.isViewer&&!M.isMember&&le.isMember&&(ce=!0),k&&(ce=!v.isManager||d||C)):ce=!0,Object.assign({},{value:Q,label:I18N.imockSharing[L]||L},{isDisabled:ce})})},wo=e=>{const{readOnlyTooltip:l,isReset:d=!1,member:u,isOnlyOneManager:v,permissionScope:_,onPermissionChange:m}=e;let{readOnly:M}=e,C=M,W=l;const K=vo(_),{permissionMap:Q}=u,{memberCurrentScopePermisson:L,userCurrentScopePermisson:le,userCurrentSpacePermission:ce,currentScopeRoleName:k,isSelf:oe,userIsSpaceLimiter:ie,memberIsSpaceLimiter:pe}=Q;let de=ms(K,Q);_===E.W.OrgSpace&&!pe&&(de=de.filter(ge=>ge.value!=="space_limiter")),(_===E.W.OrgSpace||pe)&&!L.isUnknown&&!L.isInherited&&!d&&(oe&&!L.isUnknown||le.isManager&&de.push({value:ne,label:I18N.imockSharing.remove,isDisabled:!1})),!C&&_===E.W.OrgSpace&&ie&&!d&&(M=!0,C=!0),!C&&([E.W.Project,E.W.Folder].includes(_)||L.isViewer)&&!d&&(le.isMember?le.level<L.level?(C=!0,W="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):L.isManager&&v?(C=!0,W=_o(_)):(_===E.W.OrgSpace&&!le.isManager||[E.W.Project,E.W.Folder].includes(_)&&!le.isManager&&L.isBanned)&&(C=!0):ce!=null&&ce.isManager&&oe||(C=!0));let me=Us(_,k);d&&(me="");const H=ge=>{C||m(u,ge)};if(C||M){const ge=de.find(ye=>ye.value===me);return ge?(0,n.jsx)(bo,{className:S()("read-only-option",!M&&C&&"disabled"),children:(0,n.jsx)(Dn.A,{content:W,position:"bottom",children:(0,n.jsx)("span",{className:"label",children:ge.label})})}):null}return(0,n.jsx)(hs,{value:me,handleChange:H,optionList:de})},Co=(0,i.memo)(wo),gs=(0,g.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),fs=g.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-12wxg8o-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.invite-item{display:flex;align-items:center;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;color:",";cursor:pointer;position:absolute;right:20px;z-index:1;&:hover{color:",";}&:active{color:",";}.svg-icon{width:32px;color:inherit;& > *{fill:currentColor;}}}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:60px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_link_hover,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var Ws=s(18824);function Yn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ys=s(7043),xs=Number.isNaN||function(l){return typeof l=="number"&&l!==l};function Mo(e,l){return!!(e===l||xs(e)&&xs(l))}function No(e,l){if(e.length!==l.length)return!1;for(var d=0;d<e.length;d++)if(!Mo(e[d],l[d]))return!1;return!0}function Io(e,l){l===void 0&&(l=No);var d,u=[],v,_=!1;function m(){for(var M=[],C=0;C<arguments.length;C++)M[C]=arguments[C];return _&&d===this&&l(M,u)||(v=e.apply(this,M),_=!0,d=this,u=M),v}return m}const jn=Io;var jo=typeof performance=="object"&&typeof performance.now=="function",Gn=jo?function(){return performance.now()}:function(){return Date.now()};function bn(e){cancelAnimationFrame(e.id)}function Hs(e,l){var d=Gn();function u(){Gn()-d>=l?e.call(null):v.id=requestAnimationFrame(u)}var v={id:requestAnimationFrame(u)};return v}var r=-1;function t(e){if(e===void 0&&(e=!1),r===-1||e){var l=document.createElement("div"),d=l.style;d.width="50px",d.height="50px",d.overflow="scroll",document.body.appendChild(l),r=l.offsetWidth-l.clientWidth,document.body.removeChild(l)}return r}var o=null;function h(e){if(e===void 0&&(e=!1),o===null||e){var l=document.createElement("div"),d=l.style;d.width="50px",d.height="50px",d.overflow="scroll",d.direction="rtl";var u=document.createElement("div"),v=u.style;return v.width="100px",v.height="100px",l.appendChild(u),document.body.appendChild(l),l.scrollLeft>0?o="positive-descending":(l.scrollLeft=1,l.scrollLeft===0?o="negative":o="positive-ascending"),document.body.removeChild(l),o}return o}var T=150,ae=function(l){var d=l.columnIndex,u=l.data,v=l.rowIndex;return v+":"+d},Ie=null,je=null,Pe=null;function Fe(e){var l,d=e.getColumnOffset,u=e.getColumnStartIndexForOffset,v=e.getColumnStopIndexForStartIndex,_=e.getColumnWidth,m=e.getEstimatedTotalHeight,M=e.getEstimatedTotalWidth,C=e.getOffsetForColumnAndAlignment,W=e.getOffsetForRowAndAlignment,K=e.getRowHeight,Q=e.getRowOffset,L=e.getRowStartIndexForOffset,le=e.getRowStopIndexForStartIndex,ce=e.initInstanceProps,k=e.shouldResetStyleCacheOnItemSizeChange,oe=e.validateProps;return l=function(ie){(0,ys.A)(pe,ie);function pe(me){var H;return H=ie.call(this,me)||this,H._instanceProps=ce(H.props,Yn(H)),H._resetIsScrollingTimeoutId=null,H._outerRef=void 0,H.state={instance:Yn(H),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof H.props.initialScrollLeft=="number"?H.props.initialScrollLeft:0,scrollTop:typeof H.props.initialScrollTop=="number"?H.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},H._callOnItemsRendered=void 0,H._callOnItemsRendered=jn(function(ge,ye,Se,Le,Te,Ne,Ze,We){return H.props.onItemsRendered({overscanColumnStartIndex:ge,overscanColumnStopIndex:ye,overscanRowStartIndex:Se,overscanRowStopIndex:Le,visibleColumnStartIndex:Te,visibleColumnStopIndex:Ne,visibleRowStartIndex:Ze,visibleRowStopIndex:We})}),H._callOnScroll=void 0,H._callOnScroll=jn(function(ge,ye,Se,Le,Te){return H.props.onScroll({horizontalScrollDirection:Se,scrollLeft:ge,scrollTop:ye,verticalScrollDirection:Le,scrollUpdateWasRequested:Te})}),H._getItemStyle=void 0,H._getItemStyle=function(ge,ye){var Se=H.props,Le=Se.columnWidth,Te=Se.direction,Ne=Se.rowHeight,Ze=H._getItemStyleCache(k&&Le,k&&Te,k&&Ne),We=ge+":"+ye,Qe;if(Ze.hasOwnProperty(We))Qe=Ze[We];else{var tt=d(H.props,ye,H._instanceProps),st=Te==="rtl";Ze[We]=Qe={position:"absolute",left:st?void 0:tt,right:st?tt:void 0,top:Q(H.props,ge,H._instanceProps),height:K(H.props,ge,H._instanceProps),width:_(H.props,ye,H._instanceProps)}}return Qe},H._getItemStyleCache=void 0,H._getItemStyleCache=jn(function(ge,ye,Se){return{}}),H._onScroll=function(ge){var ye=ge.currentTarget,Se=ye.clientHeight,Le=ye.clientWidth,Te=ye.scrollLeft,Ne=ye.scrollTop,Ze=ye.scrollHeight,We=ye.scrollWidth;H.setState(function(Qe){if(Qe.scrollLeft===Te&&Qe.scrollTop===Ne)return null;var tt=H.props.direction,st=Te;if(tt==="rtl")switch(h()){case"negative":st=-Te;break;case"positive-descending":st=We-Le-Te;break}st=Math.max(0,Math.min(st,We-Le));var yt=Math.max(0,Math.min(Ne,Ze-Se));return{isScrolling:!0,horizontalScrollDirection:Qe.scrollLeft<Te?"forward":"backward",scrollLeft:st,scrollTop:yt,verticalScrollDirection:Qe.scrollTop<Ne?"forward":"backward",scrollUpdateWasRequested:!1}},H._resetIsScrollingDebounced)},H._outerRefSetter=function(ge){var ye=H.props.outerRef;H._outerRef=ge,typeof ye=="function"?ye(ge):ye!=null&&typeof ye=="object"&&ye.hasOwnProperty("current")&&(ye.current=ge)},H._resetIsScrollingDebounced=function(){H._resetIsScrollingTimeoutId!==null&&bn(H._resetIsScrollingTimeoutId),H._resetIsScrollingTimeoutId=Hs(H._resetIsScrolling,T)},H._resetIsScrolling=function(){H._resetIsScrollingTimeoutId=null,H.setState({isScrolling:!1},function(){H._getItemStyleCache(-1)})},H}pe.getDerivedStateFromProps=function(H,ge){return Oe(H,ge),oe(H),null};var de=pe.prototype;return de.scrollTo=function(H){var ge=H.scrollLeft,ye=H.scrollTop;ge!==void 0&&(ge=Math.max(0,ge)),ye!==void 0&&(ye=Math.max(0,ye)),this.setState(function(Se){return ge===void 0&&(ge=Se.scrollLeft),ye===void 0&&(ye=Se.scrollTop),Se.scrollLeft===ge&&Se.scrollTop===ye?null:{horizontalScrollDirection:Se.scrollLeft<ge?"forward":"backward",scrollLeft:ge,scrollTop:ye,scrollUpdateWasRequested:!0,verticalScrollDirection:Se.scrollTop<ye?"forward":"backward"}},this._resetIsScrollingDebounced)},de.scrollToItem=function(H){var ge=H.align,ye=ge===void 0?"auto":ge,Se=H.columnIndex,Le=H.rowIndex,Te=this.props,Ne=Te.columnCount,Ze=Te.height,We=Te.rowCount,Qe=Te.width,tt=this.state,st=tt.scrollLeft,yt=tt.scrollTop,St=t();Se!==void 0&&(Se=Math.max(0,Math.min(Se,Ne-1))),Le!==void 0&&(Le=Math.max(0,Math.min(Le,We-1)));var It=m(this.props,this._instanceProps),Lt=M(this.props,this._instanceProps),$t=Lt>Qe?St:0,Ft=It>Ze?St:0;this.scrollTo({scrollLeft:Se!==void 0?C(this.props,Se,ye,st,this._instanceProps,Ft):st,scrollTop:Le!==void 0?W(this.props,Le,ye,yt,this._instanceProps,$t):yt})},de.componentDidMount=function(){var H=this.props,ge=H.initialScrollLeft,ye=H.initialScrollTop;if(this._outerRef!=null){var Se=this._outerRef;typeof ge=="number"&&(Se.scrollLeft=ge),typeof ye=="number"&&(Se.scrollTop=ye)}this._callPropsCallbacks()},de.componentDidUpdate=function(){var H=this.props.direction,ge=this.state,ye=ge.scrollLeft,Se=ge.scrollTop,Le=ge.scrollUpdateWasRequested;if(Le&&this._outerRef!=null){var Te=this._outerRef;if(H==="rtl")switch(h()){case"negative":Te.scrollLeft=-ye;break;case"positive-ascending":Te.scrollLeft=ye;break;default:var Ne=Te.clientWidth,Ze=Te.scrollWidth;Te.scrollLeft=Ze-Ne-ye;break}else Te.scrollLeft=Math.max(0,ye);Te.scrollTop=Math.max(0,Se)}this._callPropsCallbacks()},de.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&bn(this._resetIsScrollingTimeoutId)},de.render=function(){var H=this.props,ge=H.children,ye=H.className,Se=H.columnCount,Le=H.direction,Te=H.height,Ne=H.innerRef,Ze=H.innerElementType,We=H.innerTagName,Qe=H.itemData,tt=H.itemKey,st=tt===void 0?ae:tt,yt=H.outerElementType,St=H.outerTagName,It=H.rowCount,Lt=H.style,$t=H.useIsScrolling,Ft=H.width,dt=this.state.isScrolling,xt=this._getHorizontalRangeToRender(),At=xt[0],nt=xt[1],mt=this._getVerticalRangeToRender(),fn=mt[0],En=mt[1],Qn=[];if(Se>0&&It)for(var _n=fn;_n<=En;_n++)for(var rn=At;rn<=nt;rn++)Qn.push((0,i.createElement)(ge,{columnIndex:rn,data:Qe,isScrolling:$t?dt:void 0,key:st({columnIndex:rn,data:Qe,rowIndex:_n}),rowIndex:_n,style:this._getItemStyle(_n,rn)}));var Yt=m(this.props,this._instanceProps),Oo=M(this.props,this._instanceProps);return(0,i.createElement)(yt||St||"div",{className:ye,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Ws.A)({position:"relative",height:Te,width:Ft,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Le},Lt)},(0,i.createElement)(Ze||We||"div",{children:Qn,ref:Ne,style:{height:Yt,pointerEvents:dt?"none":void 0,width:Oo}}))},de._callPropsCallbacks=function(){var H=this.props,ge=H.columnCount,ye=H.onItemsRendered,Se=H.onScroll,Le=H.rowCount;if(typeof ye=="function"&&ge>0&&Le>0){var Te=this._getHorizontalRangeToRender(),Ne=Te[0],Ze=Te[1],We=Te[2],Qe=Te[3],tt=this._getVerticalRangeToRender(),st=tt[0],yt=tt[1],St=tt[2],It=tt[3];this._callOnItemsRendered(Ne,Ze,st,yt,We,Qe,St,It)}if(typeof Se=="function"){var Lt=this.state,$t=Lt.horizontalScrollDirection,Ft=Lt.scrollLeft,dt=Lt.scrollTop,xt=Lt.scrollUpdateWasRequested,At=Lt.verticalScrollDirection;this._callOnScroll(Ft,dt,$t,At,xt)}},de._getHorizontalRangeToRender=function(){var H=this.props,ge=H.columnCount,ye=H.overscanColumnCount,Se=H.overscanColumnsCount,Le=H.overscanCount,Te=H.rowCount,Ne=this.state,Ze=Ne.horizontalScrollDirection,We=Ne.isScrolling,Qe=Ne.scrollLeft,tt=ye||Se||Le||1;if(ge===0||Te===0)return[0,0,0,0];var st=u(this.props,Qe,this._instanceProps),yt=v(this.props,st,Qe,this._instanceProps),St=!We||Ze==="backward"?Math.max(1,tt):1,It=!We||Ze==="forward"?Math.max(1,tt):1;return[Math.max(0,st-St),Math.max(0,Math.min(ge-1,yt+It)),st,yt]},de._getVerticalRangeToRender=function(){var H=this.props,ge=H.columnCount,ye=H.overscanCount,Se=H.overscanRowCount,Le=H.overscanRowsCount,Te=H.rowCount,Ne=this.state,Ze=Ne.isScrolling,We=Ne.verticalScrollDirection,Qe=Ne.scrollTop,tt=Se||Le||ye||1;if(ge===0||Te===0)return[0,0,0,0];var st=L(this.props,Qe,this._instanceProps),yt=le(this.props,st,Qe,this._instanceProps),St=!Ze||We==="backward"?Math.max(1,tt):1,It=!Ze||We==="forward"?Math.max(1,tt):1;return[Math.max(0,st-St),Math.max(0,Math.min(Te-1,yt+It)),st,yt]},pe}(i.PureComponent),l.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},l}var Oe=function(l,d){var u=l.children,v=l.direction,_=l.height,m=l.innerTagName,M=l.outerTagName,C=l.overscanColumnsCount,W=l.overscanCount,K=l.overscanRowsCount,Q=l.width,L=d.instance},Ke=50,xe=function(l,d){var u=l.rowCount,v=d.rowMetadataMap,_=d.estimatedRowHeight,m=d.lastMeasuredRowIndex,M=0;if(m>=u&&(m=u-1),m>=0){var C=v[m];M=C.offset+C.size}var W=u-m-1,K=W*_;return M+K},be=function(l,d){var u=l.columnCount,v=d.columnMetadataMap,_=d.estimatedColumnWidth,m=d.lastMeasuredColumnIndex,M=0;if(m>=u&&(m=u-1),m>=0){var C=v[m];M=C.offset+C.size}var W=u-m-1,K=W*_;return M+K},Ee=function(l,d,u,v){var _,m,M;if(l==="column"?(_=v.columnMetadataMap,m=d.columnWidth,M=v.lastMeasuredColumnIndex):(_=v.rowMetadataMap,m=d.rowHeight,M=v.lastMeasuredRowIndex),u>M){var C=0;if(M>=0){var W=_[M];C=W.offset+W.size}for(var K=M+1;K<=u;K++){var Q=m(K);_[K]={offset:C,size:Q},C+=Q}l==="column"?v.lastMeasuredColumnIndex=u:v.lastMeasuredRowIndex=u}return _[u]},Ve=function(l,d,u,v){var _,m;l==="column"?(_=u.columnMetadataMap,m=u.lastMeasuredColumnIndex):(_=u.rowMetadataMap,m=u.lastMeasuredRowIndex);var M=m>0?_[m].offset:0;return M>=v?it(l,d,u,m,0,v):wt(l,d,u,Math.max(0,m),v)},it=function(l,d,u,v,_,m){for(;_<=v;){var M=_+Math.floor((v-_)/2),C=Ee(l,d,M,u).offset;if(C===m)return M;C<m?_=M+1:C>m&&(v=M-1)}return _>0?_-1:0},wt=function(l,d,u,v,_){for(var m=l==="column"?d.columnCount:d.rowCount,M=1;v<m&&Ee(l,d,v,u).offset<_;)v+=M,M*=2;return it(l,d,u,Math.min(v,m-1),Math.floor(v/2),_)},gt=function(l,d,u,v,_,m,M){var C=l==="column"?d.width:d.height,W=Ee(l,d,u,m),K=l==="column"?be(d,m):xe(d,m),Q=Math.max(0,Math.min(K-C,W.offset)),L=Math.max(0,W.offset-C+M+W.size);switch(v==="smart"&&(_>=L-C&&_<=Q+C?v="auto":v="center"),v){case"start":return Q;case"end":return L;case"center":return Math.round(L+(Q-L)/2);case"auto":default:return _>=L&&_<=Q?_:L>Q||_<L?L:Q}},Zt=Fe({getColumnOffset:function(l,d,u){return Ee("column",l,d,u).offset},getColumnStartIndexForOffset:function(l,d,u){return Ve("column",l,u,d)},getColumnStopIndexForStartIndex:function(l,d,u,v){for(var _=l.columnCount,m=l.width,M=Ee("column",l,d,v),C=u+m,W=M.offset+M.size,K=d;K<_-1&&W<C;)K++,W+=Ee("column",l,K,v).size;return K},getColumnWidth:function(l,d,u){return u.columnMetadataMap[d].size},getEstimatedTotalHeight:xe,getEstimatedTotalWidth:be,getOffsetForColumnAndAlignment:function(l,d,u,v,_,m){return gt("column",l,d,u,v,_,m)},getOffsetForRowAndAlignment:function(l,d,u,v,_,m){return gt("row",l,d,u,v,_,m)},getRowOffset:function(l,d,u){return Ee("row",l,d,u).offset},getRowHeight:function(l,d,u){return u.rowMetadataMap[d].size},getRowStartIndexForOffset:function(l,d,u){return Ve("row",l,u,d)},getRowStopIndexForStartIndex:function(l,d,u,v){for(var _=l.rowCount,m=l.height,M=Ee("row",l,d,v),C=u+m,W=M.offset+M.size,K=d;K<_-1&&W<C;)K++,W+=Ee("row",l,K,v).size;return K},initInstanceProps:function(l,d){var u=l,v=u.estimatedColumnWidth,_=u.estimatedRowHeight,m={columnMetadataMap:{},estimatedColumnWidth:v||Ke,estimatedRowHeight:_||Ke,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return d.resetAfterColumnIndex=function(M,C){C===void 0&&(C=!0),d.resetAfterIndices({columnIndex:M,shouldForceUpdate:C})},d.resetAfterRowIndex=function(M,C){C===void 0&&(C=!0),d.resetAfterIndices({rowIndex:M,shouldForceUpdate:C})},d.resetAfterIndices=function(M){var C=M.columnIndex,W=M.rowIndex,K=M.shouldForceUpdate,Q=K===void 0?!0:K;typeof C=="number"&&(m.lastMeasuredColumnIndex=Math.min(m.lastMeasuredColumnIndex,C-1)),typeof W=="number"&&(m.lastMeasuredRowIndex=Math.min(m.lastMeasuredRowIndex,W-1)),d._getItemStyleCache(-1),Q&&d.forceUpdate()},m},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(l){var d=l.columnWidth,u=l.rowHeight}}),Dt=150,Qt=function(l,d){return l},ot=null,ze=null;function Je(e){var l,d=e.getItemOffset,u=e.getEstimatedTotalSize,v=e.getItemSize,_=e.getOffsetForIndexAndAlignment,m=e.getStartIndexForOffset,M=e.getStopIndexForStartIndex,C=e.initInstanceProps,W=e.shouldResetStyleCacheOnItemSizeChange,K=e.validateProps;return l=function(Q){(0,ys.A)(L,Q);function L(ce){var k;return k=Q.call(this,ce)||this,k._instanceProps=C(k.props,Yn(k)),k._outerRef=void 0,k._resetIsScrollingTimeoutId=null,k.state={instance:Yn(k),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof k.props.initialScrollOffset=="number"?k.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},k._callOnItemsRendered=void 0,k._callOnItemsRendered=jn(function(oe,ie,pe,de){return k.props.onItemsRendered({overscanStartIndex:oe,overscanStopIndex:ie,visibleStartIndex:pe,visibleStopIndex:de})}),k._callOnScroll=void 0,k._callOnScroll=jn(function(oe,ie,pe){return k.props.onScroll({scrollDirection:oe,scrollOffset:ie,scrollUpdateWasRequested:pe})}),k._getItemStyle=void 0,k._getItemStyle=function(oe){var ie=k.props,pe=ie.direction,de=ie.itemSize,me=ie.layout,H=k._getItemStyleCache(W&&de,W&&me,W&&pe),ge;if(H.hasOwnProperty(oe))ge=H[oe];else{var ye=d(k.props,oe,k._instanceProps),Se=v(k.props,oe,k._instanceProps),Le=pe==="horizontal"||me==="horizontal",Te=pe==="rtl",Ne=Le?ye:0;H[oe]=ge={position:"absolute",left:Te?void 0:Ne,right:Te?Ne:void 0,top:Le?0:ye,height:Le?"100%":Se,width:Le?Se:"100%"}}return ge},k._getItemStyleCache=void 0,k._getItemStyleCache=jn(function(oe,ie,pe){return{}}),k._onScrollHorizontal=function(oe){var ie=oe.currentTarget,pe=ie.clientWidth,de=ie.scrollLeft,me=ie.scrollWidth;k.setState(function(H){if(H.scrollOffset===de)return null;var ge=k.props.direction,ye=de;if(ge==="rtl")switch(h()){case"negative":ye=-de;break;case"positive-descending":ye=me-pe-de;break}return ye=Math.max(0,Math.min(ye,me-pe)),{isScrolling:!0,scrollDirection:H.scrollOffset<ye?"forward":"backward",scrollOffset:ye,scrollUpdateWasRequested:!1}},k._resetIsScrollingDebounced)},k._onScrollVertical=function(oe){var ie=oe.currentTarget,pe=ie.clientHeight,de=ie.scrollHeight,me=ie.scrollTop;k.setState(function(H){if(H.scrollOffset===me)return null;var ge=Math.max(0,Math.min(me,de-pe));return{isScrolling:!0,scrollDirection:H.scrollOffset<ge?"forward":"backward",scrollOffset:ge,scrollUpdateWasRequested:!1}},k._resetIsScrollingDebounced)},k._outerRefSetter=function(oe){var ie=k.props.outerRef;k._outerRef=oe,typeof ie=="function"?ie(oe):ie!=null&&typeof ie=="object"&&ie.hasOwnProperty("current")&&(ie.current=oe)},k._resetIsScrollingDebounced=function(){k._resetIsScrollingTimeoutId!==null&&bn(k._resetIsScrollingTimeoutId),k._resetIsScrollingTimeoutId=Hs(k._resetIsScrolling,Dt)},k._resetIsScrolling=function(){k._resetIsScrollingTimeoutId=null,k.setState({isScrolling:!1},function(){k._getItemStyleCache(-1,null)})},k}L.getDerivedStateFromProps=function(k,oe){return Ge(k,oe),K(k),null};var le=L.prototype;return le.scrollTo=function(k){k=Math.max(0,k),this.setState(function(oe){return oe.scrollOffset===k?null:{scrollDirection:oe.scrollOffset<k?"forward":"backward",scrollOffset:k,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},le.scrollToItem=function(k,oe){oe===void 0&&(oe="auto");var ie=this.props,pe=ie.itemCount,de=ie.layout,me=this.state.scrollOffset;k=Math.max(0,Math.min(k,pe-1));var H=0;if(this._outerRef){var ge=this._outerRef;de==="vertical"?H=ge.scrollWidth>ge.clientWidth?t():0:H=ge.scrollHeight>ge.clientHeight?t():0}this.scrollTo(_(this.props,k,oe,me,this._instanceProps,H))},le.componentDidMount=function(){var k=this.props,oe=k.direction,ie=k.initialScrollOffset,pe=k.layout;if(typeof ie=="number"&&this._outerRef!=null){var de=this._outerRef;oe==="horizontal"||pe==="horizontal"?de.scrollLeft=ie:de.scrollTop=ie}this._callPropsCallbacks()},le.componentDidUpdate=function(){var k=this.props,oe=k.direction,ie=k.layout,pe=this.state,de=pe.scrollOffset,me=pe.scrollUpdateWasRequested;if(me&&this._outerRef!=null){var H=this._outerRef;if(oe==="horizontal"||ie==="horizontal")if(oe==="rtl")switch(h()){case"negative":H.scrollLeft=-de;break;case"positive-ascending":H.scrollLeft=de;break;default:var ge=H.clientWidth,ye=H.scrollWidth;H.scrollLeft=ye-ge-de;break}else H.scrollLeft=de;else H.scrollTop=de}this._callPropsCallbacks()},le.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&bn(this._resetIsScrollingTimeoutId)},le.render=function(){var k=this.props,oe=k.children,ie=k.className,pe=k.direction,de=k.height,me=k.innerRef,H=k.innerElementType,ge=k.innerTagName,ye=k.itemCount,Se=k.itemData,Le=k.itemKey,Te=Le===void 0?Qt:Le,Ne=k.layout,Ze=k.outerElementType,We=k.outerTagName,Qe=k.style,tt=k.useIsScrolling,st=k.width,yt=this.state.isScrolling,St=pe==="horizontal"||Ne==="horizontal",It=St?this._onScrollHorizontal:this._onScrollVertical,Lt=this._getRangeToRender(),$t=Lt[0],Ft=Lt[1],dt=[];if(ye>0)for(var xt=$t;xt<=Ft;xt++)dt.push((0,i.createElement)(oe,{data:Se,key:Te(xt,Se),index:xt,isScrolling:tt?yt:void 0,style:this._getItemStyle(xt)}));var At=u(this.props,this._instanceProps);return(0,i.createElement)(Ze||We||"div",{className:ie,onScroll:It,ref:this._outerRefSetter,style:(0,Ws.A)({position:"relative",height:de,width:st,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:pe},Qe)},(0,i.createElement)(H||ge||"div",{children:dt,ref:me,style:{height:St?"100%":At,pointerEvents:yt?"none":void 0,width:St?At:"100%"}}))},le._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var k=this.props.itemCount;if(k>0){var oe=this._getRangeToRender(),ie=oe[0],pe=oe[1],de=oe[2],me=oe[3];this._callOnItemsRendered(ie,pe,de,me)}}if(typeof this.props.onScroll=="function"){var H=this.state,ge=H.scrollDirection,ye=H.scrollOffset,Se=H.scrollUpdateWasRequested;this._callOnScroll(ge,ye,Se)}},le._getRangeToRender=function(){var k=this.props,oe=k.itemCount,ie=k.overscanCount,pe=this.state,de=pe.isScrolling,me=pe.scrollDirection,H=pe.scrollOffset;if(oe===0)return[0,0,0,0];var ge=m(this.props,H,this._instanceProps),ye=M(this.props,ge,H,this._instanceProps),Se=!de||me==="backward"?Math.max(1,ie):1,Le=!de||me==="forward"?Math.max(1,ie):1;return[Math.max(0,ge-Se),Math.max(0,Math.min(oe-1,ye+Le)),ge,ye]},L}(i.PureComponent),l.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},l}var Ge=function(l,d){var u=l.children,v=l.direction,_=l.height,m=l.layout,M=l.innerTagName,C=l.outerTagName,W=l.width,K=d.instance;if(0)var Q},at=50,et=function(l,d,u){var v=l,_=v.itemSize,m=u.itemMetadataMap,M=u.lastMeasuredIndex;if(d>M){var C=0;if(M>=0){var W=m[M];C=W.offset+W.size}for(var K=M+1;K<=d;K++){var Q=_(K);m[K]={offset:C,size:Q},C+=Q}u.lastMeasuredIndex=d}return m[d]},Rt=function(l,d,u){var v=d.itemMetadataMap,_=d.lastMeasuredIndex,m=_>0?v[_].offset:0;return m>=u?Bt(l,d,_,0,u):kt(l,d,Math.max(0,_),u)},Bt=function(l,d,u,v,_){for(;v<=u;){var m=v+Math.floor((u-v)/2),M=et(l,m,d).offset;if(M===_)return m;M<_?v=m+1:M>_&&(u=m-1)}return v>0?v-1:0},kt=function(l,d,u,v){for(var _=l.itemCount,m=1;u<_&&et(l,u,d).offset<v;)u+=m,m*=2;return Bt(l,d,Math.min(u,_-1),Math.floor(u/2),v)},ke=function(l,d){var u=l.itemCount,v=d.itemMetadataMap,_=d.estimatedItemSize,m=d.lastMeasuredIndex,M=0;if(m>=u&&(m=u-1),m>=0){var C=v[m];M=C.offset+C.size}var W=u-m-1,K=W*_;return M+K},rt=Je({getItemOffset:function(l,d,u){return et(l,d,u).offset},getItemSize:function(l,d,u){return u.itemMetadataMap[d].size},getEstimatedTotalSize:ke,getOffsetForIndexAndAlignment:function(l,d,u,v,_,m){var M=l.direction,C=l.height,W=l.layout,K=l.width,Q=M==="horizontal"||W==="horizontal",L=Q?K:C,le=et(l,d,_),ce=ke(l,_),k=Math.max(0,Math.min(ce-L,le.offset)),oe=Math.max(0,le.offset-L+le.size+m);switch(u==="smart"&&(v>=oe-L&&v<=k+L?u="auto":u="center"),u){case"start":return k;case"end":return oe;case"center":return Math.round(oe+(k-oe)/2);case"auto":default:return v>=oe&&v<=k?v:v<oe?oe:k}},getStartIndexForOffset:function(l,d,u){return Rt(l,u,d)},getStopIndexForStartIndex:function(l,d,u,v){for(var _=l.direction,m=l.height,M=l.itemCount,C=l.layout,W=l.width,K=_==="horizontal"||C==="horizontal",Q=K?W:m,L=et(l,d,v),le=u+Q,ce=L.offset+L.size,k=d;k<M-1&&ce<le;)k++,ce+=et(l,k,v).size;return k},initInstanceProps:function(l,d){var u=l,v=u.estimatedItemSize,_={itemMetadataMap:{},estimatedItemSize:v||at,lastMeasuredIndex:-1};return d.resetAfterIndex=function(m,M){M===void 0&&(M=!0),_.lastMeasuredIndex=Math.min(_.lastMeasuredIndex,m-1),d._getItemStyleCache(-1),M&&d.forceUpdate()},_},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(l){var d=l.itemSize}}),Jt=Fe({getColumnOffset:function(l,d){var u=l.columnWidth;return d*u},getColumnWidth:function(l,d){var u=l.columnWidth;return u},getRowOffset:function(l,d){var u=l.rowHeight;return d*u},getRowHeight:function(l,d){var u=l.rowHeight;return u},getEstimatedTotalHeight:function(l){var d=l.rowCount,u=l.rowHeight;return u*d},getEstimatedTotalWidth:function(l){var d=l.columnCount,u=l.columnWidth;return u*d},getOffsetForColumnAndAlignment:function(l,d,u,v,_,m){var M=l.columnCount,C=l.columnWidth,W=l.width,K=Math.max(0,M*C-W),Q=Math.min(K,d*C),L=Math.max(0,d*C-W+m+C);switch(u==="smart"&&(v>=L-W&&v<=Q+W?u="auto":u="center"),u){case"start":return Q;case"end":return L;case"center":var le=Math.round(L+(Q-L)/2);return le<Math.ceil(W/2)?0:le>K+Math.floor(W/2)?K:le;case"auto":default:return v>=L&&v<=Q?v:L>Q||v<L?L:Q}},getOffsetForRowAndAlignment:function(l,d,u,v,_,m){var M=l.rowHeight,C=l.height,W=l.rowCount,K=Math.max(0,W*M-C),Q=Math.min(K,d*M),L=Math.max(0,d*M-C+m+M);switch(u==="smart"&&(v>=L-C&&v<=Q+C?u="auto":u="center"),u){case"start":return Q;case"end":return L;case"center":var le=Math.round(L+(Q-L)/2);return le<Math.ceil(C/2)?0:le>K+Math.floor(C/2)?K:le;case"auto":default:return v>=L&&v<=Q?v:L>Q||v<L?L:Q}},getColumnStartIndexForOffset:function(l,d){var u=l.columnWidth,v=l.columnCount;return Math.max(0,Math.min(v-1,Math.floor(d/u)))},getColumnStopIndexForStartIndex:function(l,d,u){var v=l.columnWidth,_=l.columnCount,m=l.width,M=d*v,C=Math.ceil((m+u-M)/v);return Math.max(0,Math.min(_-1,d+C-1))},getRowStartIndexForOffset:function(l,d){var u=l.rowHeight,v=l.rowCount;return Math.max(0,Math.min(v-1,Math.floor(d/u)))},getRowStopIndexForStartIndex:function(l,d,u){var v=l.rowHeight,_=l.rowCount,m=l.height,M=d*v,C=Math.ceil((m+u-M)/v);return Math.max(0,Math.min(_-1,d+C-1))},initInstanceProps:function(l){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(l){var d=l.columnWidth,u=l.rowHeight}}),Xt=Je({getItemOffset:function(l,d){var u=l.itemSize;return d*u},getItemSize:function(l,d){var u=l.itemSize;return u},getEstimatedTotalSize:function(l){var d=l.itemCount,u=l.itemSize;return u*d},getOffsetForIndexAndAlignment:function(l,d,u,v,_,m){var M=l.direction,C=l.height,W=l.itemCount,K=l.itemSize,Q=l.layout,L=l.width,le=M==="horizontal"||Q==="horizontal",ce=le?L:C,k=Math.max(0,W*K-ce),oe=Math.min(k,d*K),ie=Math.max(0,d*K-ce+K+m);switch(u==="smart"&&(v>=ie-ce&&v<=oe+ce?u="auto":u="center"),u){case"start":return oe;case"end":return ie;case"center":{var pe=Math.round(ie+(oe-ie)/2);return pe<Math.ceil(ce/2)?0:pe>k+Math.floor(ce/2)?k:pe}case"auto":default:return v>=ie&&v<=oe?v:v<ie?ie:oe}},getStartIndexForOffset:function(l,d){var u=l.itemCount,v=l.itemSize;return Math.max(0,Math.min(u-1,Math.floor(d/v)))},getStopIndexForStartIndex:function(l,d,u){var v=l.direction,_=l.height,m=l.itemCount,M=l.itemSize,C=l.layout,W=l.width,K=v==="horizontal"||C==="horizontal",Q=d*M,L=K?W:_,le=Math.ceil((L+u-Q)/M);return Math.max(0,Math.min(m-1,d+le-1))},initInstanceProps:function(l){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(l){var d=l.itemSize}});function gn(e,l){for(var d in e)if(!(d in l))return!0;for(var u in l)if(e[u]!==l[u])return!0;return!1}var vn=null,cn=null;function Rn(e,l){var d=e.style,u=_objectWithoutPropertiesLoose(e,vn),v=l.style,_=_objectWithoutPropertiesLoose(l,cn);return!gn(d,v)&&!gn(u,_)}function Ci(e,l){return!Rn(this.props,e)||gn(this.state,l)}let dn;typeof window<"u"?dn=window:typeof self<"u"?dn=self:dn=s.g;let Eo=null,ko=null;const Bo=20,Lo=dn.clearTimeout,Fo=dn.setTimeout,To=dn.cancelAnimationFrame||dn.mozCancelAnimationFrame||dn.webkitCancelAnimationFrame,zo=dn.requestAnimationFrame||dn.mozRequestAnimationFrame||dn.webkitRequestAnimationFrame;To==null||zo==null?(Eo=Lo,ko=function(l){return Fo(l,Bo)}):(Eo=function(l){let[d,u]=l;To(d),Lo(u)},ko=function(l){const d=zo(function(){Lo(u),l()}),u=Fo(function(){To(d),l()},Bo);return[d,u]});function Yo(e){let l,d,u,v,_,m,M;const C=typeof document<"u"&&document.attachEvent;if(!C){m=function(ie){const pe=ie.__resizeTriggers__,de=pe.firstElementChild,me=pe.lastElementChild,H=de.firstElementChild;me.scrollLeft=me.scrollWidth,me.scrollTop=me.scrollHeight,H.style.width=de.offsetWidth+1+"px",H.style.height=de.offsetHeight+1+"px",de.scrollLeft=de.scrollWidth,de.scrollTop=de.scrollHeight},_=function(ie){return ie.offsetWidth!==ie.__resizeLast__.width||ie.offsetHeight!==ie.__resizeLast__.height},M=function(ie){if(ie.target.className&&typeof ie.target.className.indexOf=="function"&&ie.target.className.indexOf("contract-trigger")<0&&ie.target.className.indexOf("expand-trigger")<0)return;const pe=this;m(this),this.__resizeRAF__&&Eo(this.__resizeRAF__),this.__resizeRAF__=ko(function(){_(pe)&&(pe.__resizeLast__.width=pe.offsetWidth,pe.__resizeLast__.height=pe.offsetHeight,pe.__resizeListeners__.forEach(function(H){H.call(pe,ie)}))})};let L=!1,le="";u="animationstart";const ce="Webkit Moz O ms".split(" ");let k="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),oe="";{const ie=document.createElement("fakeelement");if(ie.style.animationName!==void 0&&(L=!0),L===!1){for(let pe=0;pe<ce.length;pe++)if(ie.style[ce[pe]+"AnimationName"]!==void 0){oe=ce[pe],le="-"+oe.toLowerCase()+"-",u=k[pe],L=!0;break}}}d="resizeanim",l="@"+le+"keyframes "+d+" { from { opacity: 0; } to { opacity: 0; } } ",v=le+"animation: 1ms "+d+"; "}const W=function(L){if(!L.getElementById("detectElementResize")){const le=(l||"")+".resize-triggers { "+(v||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',ce=L.head||L.getElementsByTagName("head")[0],k=L.createElement("style");k.id="detectElementResize",k.type="text/css",e!=null&&k.setAttribute("nonce",e),k.styleSheet?k.styleSheet.cssText=le:k.appendChild(L.createTextNode(le)),ce.appendChild(k)}};return{addResizeListener:function(L,le){if(C)L.attachEvent("onresize",le);else{if(!L.__resizeTriggers__){const ce=L.ownerDocument,k=dn.getComputedStyle(L);k&&k.position==="static"&&(L.style.position="relative"),W(ce),L.__resizeLast__={},L.__resizeListeners__=[],(L.__resizeTriggers__=ce.createElement("div")).className="resize-triggers";const oe=ce.createElement("div");oe.className="expand-trigger",oe.appendChild(ce.createElement("div"));const ie=ce.createElement("div");ie.className="contract-trigger",L.__resizeTriggers__.appendChild(oe),L.__resizeTriggers__.appendChild(ie),L.appendChild(L.__resizeTriggers__),m(L),L.addEventListener("scroll",M,!0),u&&(L.__resizeTriggers__.__animationListener__=function(de){de.animationName===d&&m(L)},L.__resizeTriggers__.addEventListener(u,L.__resizeTriggers__.__animationListener__))}L.__resizeListeners__.push(le)}},removeResizeListener:function(L,le){if(C)L.detachEvent("onresize",le);else if(L.__resizeListeners__.splice(L.__resizeListeners__.indexOf(le),1),!L.__resizeListeners__.length){L.removeEventListener("scroll",M,!0),L.__resizeTriggers__.__animationListener__&&(L.__resizeTriggers__.removeEventListener(u,L.__resizeTriggers__.__animationListener__),L.__resizeTriggers__.__animationListener__=null);try{L.__resizeTriggers__=!L.removeChild(L.__resizeTriggers__)}catch(ce){}}}}}class Go extends i.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:l,disableWidth:d,onResize:u}=this.props;if(this._parentNode){const v=window.getComputedStyle(this._parentNode)||{},_=parseFloat(v.paddingLeft||"0"),m=parseFloat(v.paddingRight||"0"),M=parseFloat(v.paddingTop||"0"),C=parseFloat(v.paddingBottom||"0"),W=this._parentNode.getBoundingClientRect(),K=W.height-M-C,Q=W.width-_-m,L=this._parentNode.offsetHeight-M-C,le=this._parentNode.offsetWidth-_-m;(!l&&(this.state.height!==L||this.state.scaledHeight!==K)||!d&&(this.state.width!==le||this.state.scaledWidth!==Q))&&(this.setState({height:L,width:le,scaledHeight:K,scaledWidth:Q}),typeof u=="function"&&u({height:L,scaledHeight:K,scaledWidth:Q,width:le}))}},this._setRef=l=>{this._autoSizer=l}}componentDidMount(){const{nonce:l}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=Yo(l),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:l,defaultHeight:d,defaultWidth:u,disableHeight:v=!1,disableWidth:_=!1,nonce:m,onResize:M,style:C={},tagName:W="div",...K}=this.props,{height:Q,scaledHeight:L,scaledWidth:le,width:ce}=this.state,k={overflow:"visible"},oe={};let ie=!1;return v||(Q===0&&(ie=!0),k.height=0,oe.height=Q,oe.scaledHeight=L),_||(ce===0&&(ie=!0),k.width=0,oe.width=ce,oe.scaledWidth=le),(0,i.createElement)(W,{ref:this._setRef,style:{...k,...C},...K},!ie&&l(oe))}}function Mi(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function Ni(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function Ii(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const Qo=(0,i.memo)(e=>{let{className:l,itemCount:d,itemSize:u,itemData:v,renderItem:_,onItemCountChange:m,onListRef:M}=e;const C=i.createRef();return(0,i.useEffect)(()=>{C.current&&m&&m(C)},[d,C,m]),(0,i.useEffect)(()=>{C.current&&M&&M(C)},[C,M]),(0,n.jsx)(Go,{children:W=>{let{width:K,height:Q=0}=W;return(0,n.jsx)(Xt,{ref:C,className:l,itemCount:d,itemSize:u,itemData:v,height:Q,width:K,children:_})}})}),Jo=e=>{const{theme:l,caption:d,captionExtra:u,className:v,permissionScope:_,memberList:m,isOnlyOneManager:M,readOnly:C,readOnlyTooltip:W,expandable:K,defaultExpanded:Q=!0,isResetPermission:L=!1,children:le,onPermissionChange:ce,onChangeHeight:k,isMemberList:oe,onlyTitle:ie,isUseVirtualizedRender:pe=!1,onClickInviteButton:de,isShowInviteButton:me=!1}=e,[H,ge]=(0,i.useState)(Q),ye=(0,i.useCallback)(()=>{ge(Ne=>!Ne),k&&k()},[k]),Se=(0,i.useCallback)(Ne=>{var Ze;const{avatar:We,name:Qe}=Ne;return We&&!We.includes("/images/avatar.png")?(0,n.jsx)("img",{className:"avatar",src:Ne.avatar,alt:Ne.name}):(0,n.jsx)("div",{className:"avatar avater-name",children:Qe==null||(Ze=Qe.slice(0,1))==null?void 0:Ze.toUpperCase()})},[]),Le=(Ne,Ze)=>(0,n.jsxs)("div",{className:"item",style:Ze,children:[(0,n.jsxs)("span",{className:"title",children:[Se(Ne),(0,n.jsx)("span",{className:"name",children:Ne.name})]}),(0,n.jsx)("span",{className:"account",children:Ne.email||Ne.mobile}),(0,n.jsx)(Co,{readOnly:C,readOnlyTooltip:W,member:Ne,isReset:L,isOnlyOneManager:M,permissionScope:_,onPermissionChange:ce})]},Ne.user_cid),Te=Ne=>{let{data:Ze,index:We,style:Qe}=Ne;const{memberList:tt}=Ze;return Le(tt[We],Qe)};return(0,n.jsxs)(fs,{className:S()("member-list",l,v&&v,pe&&"use-virtualized-list"),"data-expanded":H,children:[K&&(0,n.jsxs)("h5",{className:"caption",children:[(0,n.jsx)("span",{children:d}),me&&!(!ie&&K&&!oe)&&(0,n.jsxs)("div",{className:"invite-item",onClick:de,children:[(0,n.jsx)(B.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]}),!ie&&K&&!oe&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:m.length>0&&"\xB7"+m.length}),(0,n.jsx)("span",{className:S()("btn-toggle-expand"),onClick:ye,children:H?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),u]}),le,!!m.length&&(0,n.jsx)("div",{className:"members",children:pe?(0,n.jsx)(Qo,{className:"virtualized-list",itemSize:48,itemCount:m.length,itemData:{memberList:m},renderItem:Te}):m.map(Ne=>Le(Ne))})]})},Ao=(0,i.memo)(Jo),Xo=g.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-xh4s6x-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02),qo=e=>{const{value:l,onChange:d,onKeyPress:u}=e,v=m=>{d(m.currentTarget.value)},_=m=>{m.key==="Enter"&&u(m.currentTarget.value)};return(0,n.jsx)(Xo,{className:"search-box",children:(0,n.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:l,onChange:v,onKeyPress:_})})},ei=(0,i.memo)(qo);var Uo=s(90503);function ti(e){const{theme:l,caption:d,outerMembers:u,canInvite:v,isSharing:_,handleClickInviteMember:m}=e,M=()=>{const K="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(u[0].mobile||u[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+d+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,pn.$)(K)},C=!u||u.length<1;return _?(0,n.jsxs)(fs,{className:"member-list sharing "+l,children:[(0,n.jsxs)("div",{className:"members invite",children:[!C&&u.map(W=>(0,n.jsxs)("div",{className:"item",children:[(0,n.jsxs)("span",{className:"title",children:[(0,n.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name}),(0,n.jsxs)("span",{className:"name",children:[W.name,(0,n.jsx)("span",{className:"register",children:W.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,n.jsx)("span",{className:"account",children:W.email||W.mobile}),!s.g.ENV.IS_ON_PREMISES&&(v?(0,n.jsx)("span",{className:"inviteJoin",onClick:m,children:I18N.imockSharing.invite_h}):(0,n.jsxs)("div",{className:"addOuter",children:[(0,n.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,n.jsx)(ps.A,{opener:(0,n.jsx)(Uo.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,n.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,n.jsx)("a",{className:"copy-text",onClick:M,children:I18N.imockSharing.copy})]})})]}))]},W.cid)),C&&(0,n.jsx)("div",{className:"enterTip",children:(0,n.jsx)("span",{children:s.g.ENV.IS_ON_PREMISES?(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,n.jsx)(gs,{})]}):(n.Fragment,(0,n.jsxs)(fs,{className:"member-list "+l,children:[(0,n.jsxs)("div",{className:"members invite",children:[!C&&u.map(W=>(0,n.jsxs)("div",{className:"item",children:[(0,n.jsxs)("span",{className:"title",children:[(0,n.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name}),(0,n.jsxs)("span",{className:"name",children:[W.name,(0,n.jsx)("span",{className:"register",children:W.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,n.jsx)("span",{className:"account",children:W.email||W.mobile}),!s.g.ENV.IS_ON_PREMISES&&(v?(0,n.jsx)("span",{className:"inviteJoin",onClick:m,children:I18N.imockSharing.invite_h}):(0,n.jsxs)("div",{className:"addOuter",children:[(0,n.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,n.jsx)(ps.A,{opener:(0,n.jsx)(Uo.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,n.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,n.jsx)("a",{className:"copy-text",onClick:M,children:I18N.imockSharing.copy})]})})]}))]},W.cid)),C&&(0,n.jsx)("div",{className:"enterTip",children:(0,n.jsx)("span",{children:s.g.ENV.IS_ON_PREMISES?(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,n.jsx)(gs,{})]}))}const ni=(0,i.memo)(ti),Wo=()=>!!Number(sessionStorage.getItem("inClowdz"));function si(e){let l="file_editarea-proto-v8-add",d="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return l=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",d=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:l,trackSource:d}}function oi(e,l){l===void 0&&(l=!1);let d="file_editarea-proto-v8-invite",u="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return l?(d="file_editarea-proto-v8-input-inviteTA",u="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(d=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",u=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:d,trackSource:u}}function Ho(e){if(!e)return"";let l="";return e==="org_owner"?l="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?l="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?l="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?l="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(l="\u5BA1\u9605\u6210\u5458"),l}const Vo=(e,l,d)=>{try{const{source_id:u,source:v,step:_,option:m=null}=d;if(!l||!e||ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return;if((!m||(m==null?void 0:m.results)!==!1)&&u)try{(0,Kt.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:l,source:u,step:_}})}catch(M){console.log(M.message)}if(_===0)(0,Fn.kH)("invite_members_entrance",{source:v});else if(_===2&&m){const M=Ho(m==null?void 0:m.invitor_role),C=Ho(m==null?void 0:m.invitee_role);(0,Fn.kH)("invite_members_via_add",{source:v,join_space_num:1,has_department:!1,invitor_role:M,invitee_role:C,results:(m==null?void 0:m.results)||!0,error_type:(m==null?void 0:m.error_type)||""})}}catch(u){console.log(u.message)}},Vs=function(e,l,d,u,v){v===void 0&&(v=null);const{trackSourceId:_,trackSource:m}=si(d);Vo(e,l,{source_id:_,source:m,step:u,option:v})},ii=function(e,l,d,u){u===void 0&&(u=!1);const{trackSourceId:v,trackSource:_}=oi(d,u),m={trackSourceId:v,trackSource:_},M="/workspace/"+l+"/member?openInviteByLinkModal=true&invite_track="+(0,ft._)(m);if(Vo(e,l,{source_id:v,source:_,step:0}),Wo()){location.pathname=M;return}(0,lt.JW)(M)},ri=(e,l,d)=>{const[u]=(0,i.useState)(d),v=(0,i.useRef)(0);return(0,i.useEffect)(()=>{u&&v.current>=1||v.current>=2||(Vs(e,l,d,0),v.current+=1)},[!!d]),u||d},ai=g.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-5a6cx0-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],R.gE,R.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1),li=e=>{const{theme:l,keyword:d,source:u,caption:v,permissionScope:_,assignedMembers:m,unassignedMembers:M,outerMember:C,onPermissionChange:W,hostType:K,handleClose:Q}=e,L=(0,c.d4)(ve.wA),le=(0,c.d4)(ve.cb),ce=(0,c.d4)(ve.WR),{settings:k,seats_taken:oe,total_seats:ie,cid:pe}=L,de=ri(ce,pe,d);let me=!1;(k.invite_permission&&k.invite_permission[0]==="all"||le.isManager)&&(me=!0);const H=()=>{const Ne={mode:"org",orgCid:L.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(K==="proto")MB.global.popupHelper.chargeAsync(Ne),Q&&Q();else{const Ze="/workspace/"+L.cid+"?payment_param="+(0,ft._)(Ne);if(Wo()){location.pathname=Ze;return}(0,lt.JW)(Ze)}},ge=(0,i.useMemo)(()=>M.filter(Ne=>Ne.name&&Ne.name.includes(d)||Ne.mobile&&Ne.mobile.includes(d)||Ne.email&&Ne.email.includes(d)),[d,M]),ye=()=>{me&&ii(ce,pe,de,!0)},Se=(Ne,Ze)=>{W(Ne,Ze),Vs(ce,pe,de,1),C&&Vs(ce,pe,de,2,{invitor_role:le==null?void 0:le.roleName,invitee_role:Ze}),Vs(ce,pe,de,3)},Le=!ge||ge.length<1,Te=C?[C]:[];return(0,n.jsxs)(ai,{className:"overlay-adding-member sharing",children:[(0,n.jsxs)("div",{className:S()("overlay-content",!C&&Le&&"no-members"),children:[!Le&&(0,n.jsx)(Ao,{theme:l,caption:d?null:I18N.imockSharing.unjoined,expandable:!1,className:S()(d&&"invite"),permissionScope:_,memberList:ge,isResetPermission:!0,onPermissionChange:Se,isUseVirtualizedRender:!0},"filtered-unassigned-members"),Le&&(0,n.jsx)(ni,{theme:l,caption:v,outerMembers:Te,canInvite:me,isSharing:!0,handleClickInviteMember:ye})]}),(0,n.jsxs)("footer",{className:"overlay-footer",children:[(0,n.jsxs)("span",{className:"seats",children:[I18N.imockSharing.members_account,I18N.imockSharing.common_colon,oe,"/",ie]}),!s.g.ENV.IS_ON_PREMISES&&(0,n.jsx)(bt.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:H,children:I18N.imockSharing.add_team_seat})]})]})},ci=(0,i.memo)(li),di=g.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-dbcmx0-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}.member-manager{cursor:default;margin-left:10px;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.title-close{margin-right:20px;cursor:pointer;.svg-icon{color:",";&:hover{color:",";}&:active{color:",";}}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,R.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,R.gE),ui=e=>{const{theme:l,from:d,caption:u,targetCid:v,permissionScope:_,captionTipType:m,isFolder:M=!1,isAllowSetCollaborators:C,isShowInheritedCollaborators:W=!1,handleBackSharingHandel:K,onChangeMembersAccess:Q,handleClose:L,hostType:le,isOnlyMemberManager:ce=!1}=e,[k,oe]=(0,i.useState)(""),[ie,pe]=(0,i.useState)(null),[de,me]=(0,i.useState)(!1),H=(0,hn.jB)(),{currentMembers:ge,inheritedMembers:ye,joinedMembers:Se,unjoinedMembers:Le,assignedMembers:Te,unassignedMembers:Ne,userCurrentScopePermisson:Ze,isOnlyOneManager:We}=we(_,v),Qe=_e(_,v,d),tt=async(mt,fn)=>{await Qe(mt,fn),Q&&Q(mt,fn)};let st=ge,yt=Te,St=Ne;const It=Ze.isMember,Lt=C&&It,$t=!de&&It;C&&!W&&(st=Se,yt=Se,St=Le);const Ft=(0,i.useCallback)(()=>{me(!1),oe(""),pe(null)},[]),dt=(0,i.useCallback)(mt=>{oe(mt),pe(null),mt&&me(!0)},[]),xt=(0,i.useCallback)(async mt=>{if(!s.g.ENV.IS_ON_PREMISES&&(oe(mt),mt)){const fn=St.find(Yt=>Yt.email===mt.trim()||Yt.mobile===mt.trim()),En=yt.find(Yt=>Yt.email===mt.trim()||Yt.mobile===mt.trim());if(fn||En)return;const Qn=us.test(mt.trim()),_n=fo.test(mt.trim());let rn=null;if(Qn?rn=await Bs(mt.trim()):_n&&(rn=await Bs(null,mt.trim())),rn){let Yt=null;rn.user?(Yt=rn.user,Yt.name=I18N.imockSharing.to_be_invited,Yt.cid="outer"):Yt={avatar:"/images/avatar.png",cid:mt,email:mt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},pe(Yt)}}},[]),At=(0,i.useCallback)(()=>{if(!(ce&&!de)){if(oe(""),pe(null),de){me(!1);return}K()}},[de,me,K]),nt=(0,i.useCallback)(()=>{me(!0)},[me]);return(0,n.jsxs)(di,{className:S()("ProjectCollaborators sharing",""+l,{isInviteOverlayOpen:!0}),children:[(0,n.jsxs)("div",{className:"nav-header",children:[(0,n.jsxs)("div",{className:"title-left",children:[(0,n.jsxs)("div",{className:S()("title-left-back",{"member-manager":ce&&!de}),onClick:At,children:[ce?de&&(0,n.jsx)(B.C,{name:"sharing/nav_back",size:32}):(0,n.jsx)(B.C,{name:"sharing/nav_back",size:32}),(0,n.jsx)("div",{className:"nav-title",children:de?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!de&&(0,n.jsx)(xo,{tipType:m,position:"left",isOnlyMemberManager:ce})]}),ce&&(0,n.jsx)("div",{className:"title-close",onClick:L,children:(0,n.jsx)(B.C,{size:24,name:"sharing/close"})})]}),Lt&&(0,n.jsx)("div",{className:S()("search"),children:(0,n.jsx)(ei,{value:k,onChange:dt,onKeyPress:xt})}),(0,n.jsx)("div",{className:S()("modal-content",Lt&&"modal-content-show-search"),children:de?(0,n.jsx)(ci,{theme:l,permissionScope:_,unassignedMembers:St,assignedMembers:yt,outerMember:ie,keyword:k,caption:u,onClose:Ft,onPermissionChange:tt,handleClose:L,hostType:le}):(0,n.jsxs)("div",{className:S()("collaborators",de&&"in-invite-overlay"),children:[C&&(0,n.jsx)(Ao,{theme:l,caption:I18N.imockSharing.project_collaborators,permissionScope:_,memberList:st,isOnlyOneManager:We,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:tt,onClickInviteButton:nt,isShowInviteButton:$t},"current-collaborators"),W&&(0,n.jsx)(Ao,{theme:l,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:M,readOnly:!0,permissionScope:_,memberList:ye,onPermissionChange:tt,className:"inherited-members",onClickInviteButton:nt,isShowInviteButton:$t},"inherited-collaborators")]})}),H?(0,n.jsx)($n,{}):(0,n.jsx)(xn,{})]})},pi=(0,i.memo)(ui);function hi(e){const{theme:l,targetCid:d,isSharing:u,handleBackSharingHandel:v,onChangeMembersAccess:_,handleClose:m,hostType:M,isOnlyMemberManager:C}=e,K=(0,c.d4)(ve._B).get(d),Q=$(K==null?void 0:K.team_cid);return!K||Q<0?null:(0,n.jsx)(pi,{theme:l,targetCid:d,caption:K.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:Q>=1,captionTipType:E.p.Project,permissionScope:E.W.Project,isSharing:u,handleBackSharingHandel:v,onChangeMembersAccess:_,handleClose:m,hostType:M,isOnlyMemberManager:C})}const mi=(0,i.memo)(hi);var gi=s(63686);const fi=e=>{const{user:l,initData:d,currentProject:u,members:v,dispatch:_}=e,m=u==null?void 0:u.cid;return(0,i.useEffect)(()=>{(async C=>{_({type:"entry:projectAccess:initProjectData",payload:{initData:d,members:v}})})(m)},[_,d,v,m,l]),l!=null&&l.id?(0,n.jsx)(mi,{targetCid:m,isSharing:!0,...e}):null},yi=(0,gi.Mz)([],()=>({})),xi=(0,c.Ng)(e=>yi(e))(fi);var bi=s(11645),Ko=s(87537),vi=s(33520);function _i(e){const{getIframeContentHeight:l,handleChangeMembersAccess:d,handleClose:u}=e,v=(0,c.wA)(),_=(0,c.d4)(a.query.getProject),m=(0,c.d4)(a.query.getMembers),M=(0,c.d4)(a.query.getTheme),C=(0,c.d4)(a.query.getTopPageIndex),W=(0,c.d4)(a.query.getHostType),K=(0,c.d4)(a.query.getTabIndex),Q=(0,c.d4)(a.query.getMainPage),L=(0,c.d4)(a.query.getLoading),le=(0,c.d4)(a.query.getInitData),ce=(0,c.d4)(a.query.getUser),k=(0,c.d4)(a.query.getIsEditMode),oe=(0,c.d4)(a.query.getIsOnlyMemberManager),[ie,pe]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const ye=(0,hn.fV)();if(ye){const{mdWMMktList:Se,mtWMMktList:Le,noWMMktList:Te}=ye,Ne=[...Se,...Le,...Te];Ne.length&&(0,nn.q)(Ne).then(Ze=>{if(Ze.mdWMMktList.length>0||Ze.mtWMMktList.length>0){if(!(0,mn._5)())return;pe(!0)}})}},[]);const[de,me]=(0,i.useState)(282);(0,i.useEffect)(()=>{let ye=619;Q!=="access"&&(K===0&&C==="edit"?ye=212:(C==="embed"||C==="qrCode"||K===0&&C==="setting")&&(ye=380)),ie&&(ye+=37),me(ye),W!=="proto"&&l(ye)},[W,K,C,Q,l,k,ie]);const H=(0,i.useCallback)(()=>{v({type:a.entryKey["sharing:init"],payload:{mainPage:"share"}})},[v]);(0,i.useEffect)(()=>{v({type:a.entryKey["sharing:projectAccess:init"]})},[Q,v]);const ge=(0,i.useCallback)(async(ye,Se)=>{d&&d(ye,Se)},[d]);return L?(0,n.jsx)(Ko.A,{className:S()("sharingBoxV2",""+M,"loading"),children:(0,n.jsx)(bi.A,{})}):(0,n.jsxs)(Ko.A,{className:S()("sharingBoxV2",""+M,W==="iframe"&&"in-iframe"),style:{height:de+"px"},id:"v8-share-page",children:[Q==="share"?(0,n.jsx)(Rs,{}):(0,n.jsx)(xi,{theme:M,user:ce,currentProject:_,members:m,initData:le,handleBackSharingHandel:H,onChangeMembersAccess:ge,hostType:W,handleClose:u,isOnlyMemberManager:oe}),(0,n.jsx)(vi.r,{})]})}var Si=s(40778);const wi=e=>{let{theme:l,org:d=null,user:u,project:v,flatKey:_,members:m=[],hostType:M="proto",screenMetaList:C,hostSharingData:W,projShareToEdit:K="",handleClose:Q,isOnlyMemberManager:L=!1,hostCurrentScreen:le}=e;const ce=x();let k=!0;M!=="iframe"&&(k=(0,Si.OB)());try{v&&M!=="iframe"&&(0,V.E9)({project:v,isEditMode:k,shareSource:"\u9876\u90E8\u5206\u4EAB\u6309\u94AE"})}catch(de){console.error(de)}const oe=K?1:0;ce.dispatch({type:a.entryKey["sharing:init"],payload:{project:v,theme:l,user:u,org:d,flatKey:_,hostType:M,members:m,screenMetaList:C,hostSharingData:W,isEditMode:k,tabIndex:oe,projShareToEdit:K,hostCurrentScreen:le}});const ie=(0,i.useCallback)(de=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:de}}),"*")},[]),pe=(0,i.useCallback)((de,me)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:de,value:me}}),"*")},[]);return M==="iframe"&&L&&(ce.dispatch({type:a.entryKey["sharing:init"],payload:{mainPage:"access",isOnlyMemberManager:!0}}),ie(585)),(0,i.useEffect)(()=>{if(M==="iframe"&&!L&&ie(212),!v)return;const{cid:de}=v;(async()=>{if(!v)return;const{result:{result:H},statusOk:ge}=await(0,G.QC)(de);ge&&ce.dispatch({type:a.entryKey["sharing:init"],payload:{canEditByUser:H}})})()},[M,ie,v,ce]),(0,n.jsx)(c.Kq,{store:ce,children:(0,n.jsx)(g.NP,{theme:I.A[l],children:(0,n.jsx)(f.$,{children:(0,n.jsx)(_i,{getIframeContentHeight:ie,handleChangeMembersAccess:pe,handleClose:Q})})})})}},87537:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>y});var i=s(21676);const y=i.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-l3ttef-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],N=>N.theme.color_bg_white,N=>N.theme.color_text_L2)},60482:(Ce,ue,s)=>{"use strict";s.d(ue,{CV:()=>q,EL:()=>V,Mb:()=>b,Mj:()=>a,O8:()=>I,R0:()=>P,RF:()=>U,R_:()=>te,Sy:()=>w,Uh:()=>J,a2:()=>G,eH:()=>g,it:()=>f,jc:()=>D,kv:()=>A,vt:()=>x,zM:()=>c});var i=s(51691),y=s(88223),N=s(76713),p=s.n(N),j=s(41449),re=s(72907),Z=s(44864),z=s(36521);const P=S=>S?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],q=S=>{let{accessToken:R,targetKey:O,pageKey:ee,view_mode:E,selection:B,page_begin:X,canvas_begin:ne}=S;const se=(Me,Ae)=>Ae?"&"+Me+"="+Ae:"";let fe=""+location.origin+j.o$+"/"+R+"/sharing?view_mode="+(E||"read_only");return E==="read_only"?fe=""+fe+se("screen",ee)+se("canvasId",O)+se("selection",B):E==="device"?fe=""+fe+se("screen",X!=null?X:ee)+se("canvasId",ne!=null?ne:O)+se("selection",B):fe=""+fe+se("screen",ee)+se("selection",B),fe},J=S=>S&&S.length>0?S[0]:"",te=(S,R,O,ee)=>{const E=ee?"  \u5BC6\u7801\uFF1A"+ee:"";return S+" #"+(0,y.qk)(R)+"-"+(0,y.qk)(O||"\u5206\u4EAB")+E},G=S=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+j.o$+"/"+S,F=S=>{const R=new RegExp(I18N.imockSharing.share+" \\d+","g");let O=0;return S.filter(ee=>{var E;return(E=ee.link_name)==null?void 0:E.match(R)}).forEach(ee=>{const E=ee.link_name,X=E.match(R)[0].length,ne=E.indexOf(I18N.imockSharing.share);if(ne+X===E.length){const fe=parseInt(E.trim().slice(ne+I18N.imockSharing.share.length));fe>O&&(O=fe)}}),O},A=S=>{const{project:R,action:O,linkName:ee,isFromScreenList:E}=S;i.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:E?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,i.IQ)(),project_name:R.name,project_cid:R.cid,share_link_action:O,share_link_name:ee})},V=S=>{if(!S)return!1;const{created_at:R}=S;return p()(R).isBetween(p()().subtract(3,"days"),p()())},U=S=>Object.entries(S).filter(O=>{let[ee,E]=O;return!E.hotAttr.asFolder&&ee!==Z.$k}).map(O=>O[0]),a=(S,R,O)=>{if(S)return O.length;let ee=0;return R==null||R.forEach(E=>{O.find(X=>X===E)&&(ee+=1)}),ee},w=(S,R)=>{if(R.screen_visible_switch){const{selectedSize:O,pageSize:ee}=b(S,R);return O+"/"+ee}else return I18N.imockSharing.all},b=(S,R)=>{const O=U(S.pageAttrMap),ee=a(!R.screen_visible_switch,R.screen_visible_list,O);return{pageSize:O.length,selectedSize:ee}},x=S=>{const R={},O=[],ee=new Map;for(const[X,ne,se]of S)if(se.type==="rResBunch"){X!==Z.$k&&O.push(X),R[X]={hotAttr:se},ee.get(X)||ee.set(X,[]);const fe=ee.get(ne);Array.isArray(fe)&&ee.set(ne,[...fe,X])}const E=X=>{let ne=[];for(const fe of ee.get(X))ne.push(E(fe));ne=ne.sort((fe,Me)=>fe.data.zIndex-Me.data.zIndex);const{hotAttr:se}=R[X];return{cid:X,data:{cid:X,...se},children:ne}},B=E("B@main");return{pageAttrMap:R,pageKeyList:O,treeData:B}};function c(S,R,O){let ee=I18N.imockSharing.share;return R&&(ee=ee+" "+(R.length+1)),{project_cid:S,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...O,link_name:ee,type:"advanced"}}const g=async S=>{let{updateType:R,org:O,updateFn:ee,updatedKV:E,isCustom:B}=S;const X=()=>{const se=(O==null?void 0:O.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:se}),window.top&&window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:se}}),"*")},ne=()=>{if(!B&&R==="update"){const se={sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}};try{E!=null&&E.expire_type?MB.notice({text:I18N.imockSharing.sharing_hasRest,type:"success"}):MB.notice({text:I18N.imockSharing.setting_valid})}catch(fe){window.top&&window.top.postMessage(JSON.stringify(se),"*")}}};try{const se=await ee();if(se)return ne(),se}catch(se){await(0,re.m0)(se,X)}},f=S=>{let{value:R,currentSharing:O,sharingList:ee}=S,E=!1;for(const B of ee)if(B.cid!==O.cid&&R===B.link_name){E=!0;break}return E},I=(S,R,O)=>{let ee;if(R.type==="default"){const B=new URLSearchParams(location.search),X=B.get("view_mode")||(0,z.Yt)(S.cid+"_default_sharing_view_mode","read_only",z.qW.String),ne=B.get("selection"),se=B.get("screen"),fe=B.get("canvasId");ee=q({accessToken:R.access_token,view_mode:X,page_begin:R.is_first_canvas_open?"":se,canvas_begin:R.is_first_canvas_open?"":fe,selection:ne,pageKey:R.is_first_canvas_open?"":O})}else R.screen_visible_switch?O&&R.screen_visible_list.includes(O)?ee=q({accessToken:R.access_token,view_mode:R.device_model,pageKey:R.is_first_canvas_open?"":O}):ee=q({accessToken:R.access_token,view_mode:R.device_model}):ee=q({accessToken:R.access_token,view_mode:R.device_model,pageKey:R.is_first_canvas_open?"":O});return te(ee,S==null?void 0:S.name,R.link_name||"",R.password)},D=(S,R)=>{var O,ee;return(R==null||(O=R.limitation)==null?void 0:O.max_project_share_count)||(S==null||(ee=S.limitation)==null?void 0:ee.max_project_share_count)}},72907:(Ce,ue,s)=>{"use strict";s.d(ue,{$r:()=>P,AG:()=>j,FY:()=>p,K7:()=>z,ai:()=>re,m0:()=>Z});var i=s(46795),y=s(33386),N=s(39719);const p=async(q,J)=>{if((0,y.p)("[alertAsyncBlocked]",q,{url:q.url,status:q.status}),q.status===403||/403/.test(q.message)){var te;(te=MB)==null||(te=te.messageBucket)==null||te.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>J?J():MB.global.onBackButtonClick())}else if(q.status===401||/401/.test(q.message))z(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>J?J():j());else{var G;const F=String(q.status||q.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(G=MB)==null||(G=G.messageBucket)==null||G.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,F)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,F),isHTML:!0})}},j=async()=>{try{await(0,i.DE)("/api/web/v3/initial"),location.reload()}catch(q){const J=location.origin+"/signin?next="+location.pathname;location.href=J}},re=q=>{q.status===404&&q.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},Z=async(q,J)=>{q.status===403||/403/.test(q.message)?J():(q.status===401||/401/.test(q.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>j())},z=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")},P=function(q){let{onClick:J}=q===void 0?{}:q;J&&!ENV.IS_WONDER_SHARE?MB.notice({text:window.I18N.dModule.network_api_error_1,CustomChildComponent:(0,N.DV)({onClick:J}),type:"error",duration:5e3}):MB.notice({text:window.I18N.dModule.network_api_error,type:"error"})}},42226:(Ce,ue,s)=>{"use strict";s.d(ue,{JQ:()=>te,kZ:()=>A,tg:()=>V,zW:()=>G});var i=s(76713),y=s.n(i),N=s(35736),p=s.n(N),j=s(54466),re=s.n(j);if(s.j!=15)var Z=s(29601);function z(U){return U<10?"0"+U:U}function P(U,a,w){const b=new Date(U),x=b.getFullYear(),c=z(b.getMonth()+1),g=z(b.getDate()),f=z(b.getHours()),I=z(b.getMinutes());return a==="time"?f+":"+I:a==="datetime"?""+c+w+g+" "+f+":"+I:""+x+w+c+w+g+" "+f+":"+I}const q=s.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function J(U,a){const w=new Date(U),b=w.getFullYear(),x=q[w.getMonth()],c=z(w.getDate()),g=z(w.getHours()),f=z(w.getMinutes());return a==="time"?g+":"+f:a==="datetime"?x+" "+c+" "+g+":"+f:x+" "+c+", "+b+" "+g+":"+f}function te(U,a,w){if(a===void 0&&(a="datetime"),w===void 0&&(w="."),!U)return"";let b=U;typeof U!="number"&&(b=parseInt(U,10)),b.length===10&&(b=b*1e3);let x="";const c=(0,Z.w)();return c==="zh-CN"?x=P(b,a,w):(c==="en-US"||c==="en")&&(x=J(b,a,w)),x}function G(U){const w=F()-U;let b="";if(w<=3*1e3)b=I18N.Common.just_now||"\u521A\u521A";else if(w>3*1e3&&w<60*1e3)b=Math.floor(w/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(w>=60*1e3&&w<60*60*1e3)b=Math.floor(w/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{b=te(U,"full");const x=new Date(new Date().setHours(0,0,0,0)).getTime(),c=new Date(new Date().getFullYear(),0,1).getTime();U>c&&(b=te(U,"datetime")),U>x&&(b=te(U,"time"))}return b}function F(){return new Date().getTime()}const A=U=>{y().locale(U==="zh-CN"?"zh-cn":U),y().extend(p()),y().extend(re())},V=()=>y()().isBefore("2024-10-06")},79619:(Ce,ue,s)=>{"use strict";s.d(ue,{Z:()=>i,n:()=>y});const i=function(N){let{flags:p}=N===void 0?MB.user:N;return!!(p&1<<21)},y=N=>{let{user:p,org:j}=N;const re=(j==null?void 0:j.otype)==="personal"?null:j;return{currentUser:p,currentOrg:re}}},15039:(Ce,ue,s)=>{"use strict";s.d(ue,{E9:()=>G,Xc:()=>J,nr:()=>te});var i=s(40778),y=s(51691),N=s(36820),p=s(59318);let j=function(F){return F.acces="access",F.viewAccess="viewAccess",F.copy="copy",F.qrCode="qrCode",F.embed="Embed",F.setting="Setting",F.pwdProtection="PwdProtection",F.password="password",F.sticky="sticky",F.comment="comment",F.mobile="mobile",F}({});var re=function(F){return F.Edit="\u53EF\u7F16\u8F91",F.onlyView="\u4EC5\u67E5\u770B",F}(re||{}),Z=function(F){return F.NoLogin="\u672A\u767B\u5F55\u7528\u6237",F.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",F.ProjectMember="\u534F\u4F5C\u6210\u5458",F.TeamMember="\u56E2\u961F\u6210\u5458",F}(Z||{}),z=function(F){return F.EditMode="\u7F16\u8F91\u6A21\u5F0F",F.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",F.DeviceMode="\u771F\u673A\u6A21\u5F0F",F}(z||{});const P=F=>{let{userId:A,orgPermissions:V,spacePermissions:U,projectPermissions:a}=F;if(!A)return Z.NoLogin;const w=(0,p.ox)(A,V),b=(0,p.ox)(A,U),x=(0,p.ox)(A,a);if(!w)return Z.LoginButNotOrgMember;if(b||x)return Z.ProjectMember;if(w)return Z.TeamMember},q=F=>{let{userCanEdit:A,userId:V,orgPermissions:U,spacePermissions:a,projectPermissions:w,isEditMode:b,view_mode:x,isIframe:c}=F;const g=A?re.Edit:re.onlyView,f=P({userId:V,orgPermissions:U,spacePermissions:a,projectPermissions:w}),I=c?"\u5DE5\u4F5C\u53F0":b?z.EditMode:x==="read_only"?z.ReadOnlyMode:z.DeviceMode;return{user_rights:g,user_type:f,operation_from:I}},J=F=>{let{optionType:A,userCanEdit:V,userId:U,orgPermissions:a,spacePermissions:w,projectPermissions:b,isEditMode:x,view_mode:c,share_type:g,isIframe:f,project_name:I,project_cid:D}=F;const{user_rights:S,user_type:R,operation_from:O}=q({userCanEdit:V,userId:U,orgPermissions:a,spacePermissions:w,projectPermissions:b,isEditMode:x,view_mode:c,isIframe:f});(0,N.kH)("share_function_click_V8",{operation_type:A,user_rights:S,user_type:R,operation_from:O,project_name:I,project_cid:D,share_type:g})},te=F=>{(0,N.kH)("advanced_sharing_click",F)},G=F=>{let{project:A,isEditMode:V,shareSource:U}=F;const a=(0,i.gh)(),{cid:w,name:b}=A;(0,N.kH)("share_project",{project_type:"\u539F\u578B V8",source:V?"\u7F16\u8F91\u533A":a?"\u53EA\u8BFB\u6A21\u5F0F":"\u771F\u673A\u6F14\u793A",project_name:b,project_cid:w,share_source:U}),y.Y4.editProjectNew("\u5206\u4EAB\u9879\u76EE")}},47755:(Ce,ue,s)=>{"use strict";s.d(ue,{_:()=>i});const i=N=>encodeURIComponent(JSON.stringify(N)),y=N=>JSON.parse(decodeURIComponent(N))},67234:(Ce,ue,s)=>{"use strict";s.d(ue,{p:()=>J,A:()=>F});var i=s(74059),y=s(51044),N=s(66748),p=s.n(N),j=s(98236),re=s.n(j),Z=s(23423),z=s(86634),P=s.n(z),q=s(21676);const J="checkbox-has-box",te=q.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-mbtxfd-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],A=>A.theme.color_text_L2,A=>A.theme.color_text_disabled01,A=>A.theme.color_bg_white,A=>A.theme.color_text_L2,A=>A.theme.color_proto,A=>A.theme.color_proto,A=>A.theme.color_btn_secondary_active,A=>A.theme.color_btn_secondary_active,A=>A.theme.color_text_disabled01,J);var G=s(57464);class F extends y.PureComponent{constructor(){super(...arguments),(0,i.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,i.A)(this,"onToggle",V=>{const{name:U,value:a,label:w,onChange:b,onToggle:x,isDisabled:c,readOnly:g,attr:f}=this.props,{isChecked:I}=this.state,D=!c&&!g,S=D?I==="mixed"?!0:!I:I;this.setState({isChecked:S}),x(S,U,a||w,V),b(S,f,V)})}static getDerivedStateFromProps(V,U){let{prevProps:a}=U;return re()(a,V)?null:{prevProps:V,isChecked:V.isChecked}}render(){const{className:V,label:U,name:a,isDisabled:w,readOnly:b}=this.props,{isChecked:x}=this.state,c=P()(V,{"is-checked":!!x,"is-disabled":w,readonly:b});return(0,G.jsxs)(te,{className:c,children:[(0,G.jsx)("input",{type:"checkbox",defaultChecked:!!x,disabled:w,name:a,onChange:this.onToggle}),(0,G.jsx)("span",{className:"Check-state",children:(0,G.jsx)(Z.C,{name:x==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),U&&(0,G.jsx)("span",{className:"Check-label",children:U})]})}}(0,i.A)(F,"propTypes",{isChecked:p().bool||"mixed",isDisabled:p().bool,readOnly:p().bool,onChange:p().func.isRequired,onToggle:p().func.isRequired,label:p().any,name:p().string,attr:p().string,value:p().any,className:p().string}),(0,i.A)(F,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},80582:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>z});var i=s(74059),y=s(51044),N=s(21183),p=s(66748),j=s.n(p),re=s(57464);class Z extends y.PureComponent{constructor(q){super(q),(0,i.A)(this,"freshCanvas",()=>{const J=this.canvasWrapperRef.current,{height:te,width:G,text:F,foreground:A,background:V}=this.props,U=(0,N.j)({height:te,width:G,text:F,foreground:A,background:V});J.hasChildNodes()?J.replaceChild(U,J.firstChild):J.appendChild(U)}),this.canvasWrapperRef=(0,y.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:q}=this.props;return(0,re.jsx)("div",{className:q,ref:this.canvasWrapperRef})}}Z.propTypes={width:j().number,height:j().number,text:j().string.isRequired,foreground:j().string,background:j().string,className:j().string},Z.defaultProps={width:150,height:150};const z=Z},29739:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>p});var i=s(46479),y=s(21676);const p=(0,y.Ay)(i.ft).withConfig({displayName:"ThemeLoading",componentId:"sc-lkl0kj-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],j=>j.theme.color_btn_secondary_active,j=>j.theme.color_text_disabled01)},11645:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>Z});var i=s(51044),y=s(29739),N=s(21676);const p=N.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-5dzh9i-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var j=s(57464);const Z=(0,i.memo)(()=>(0,j.jsx)(p,{className:"sharing-loading",children:(0,j.jsx)(y.A,{className:"loading"})}))},13005:()=>{"use strict";const Ce={},ue={},s={},i={}},33520:(Ce,ue,s)=>{"use strict";s.d(ue,{l:()=>N,r:()=>y});var i=s(21676);const y=(0,i.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],p=>p.theme.color_bg_border_02,p=>p.theme.color_background_split_hover,p=>p.theme.color_background_split_hover),N=(0,i.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},57716:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>A});var i=s(35524),y=s(54909);const N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",j=Object.entries(y.f).reduce((V,U)=>{const a=U[0];return{...V,[a]:[y.f[a].value_light,y.f[a].value_dark||y.f[a].value_light]}},{}),re=Object.entries(y.$).reduce((V,U)=>{const a=U[0];return{...V,[a]:[y.$[a].value_light,y.$[a].value_dark||y.$[a].value_light]}},{}),Z=Object.entries(i.af).reduce((V,U)=>{var a;const w=U[0];return{...V,[w]:[i.af[w].value,((a=i.qY[w])==null?void 0:a.value)||i.af[w].value]}},{}),z=V=>{let U;const[a,w,b]=V,x=b!=null?b:a;return w==="light"?U=i.af[x].value:U=i.qY[x].value,{[a]:[U,U]}},q=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((U,a)=>{const w=z(a);return{...U,...w}},{}),G={...Z,...q,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],bg_base64:[N,p],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...j,...re},F=(V,U)=>{const a={};return Object.entries(V).forEach(w=>{let[b,x]=w;Array.isArray(x)?a[b]=x[U]:typeof x=="object"?a[b]=F(x,U):a[b]=x}),a},A={light:F(G,0),dark:F(G,1)}},44057:(Ce,ue,s)=>{"use strict";s.d(ue,{m:()=>Ae,cG:()=>$e,Dr:()=>Re,aM:()=>Ue,Ay:()=>Me});var i=s(66748),y=s.n(i),N=s(51044),p=s(60185),j=s(21676),re=s(86634),Z=s.n(re),z=s(90503);class P{constructor(Y,$){Y===void 0&&(Y=0),$===void 0&&($=0),this.x=Y,this.y=$}inside(Y){const{left:$,right:he,top:_e,bottom:we}=Y;return this.x>=$&&this.x<=he&&this.y>=_e&&this.y<=we}}const q=(0,N.createContext)(""),J=ve=>{if(!ve)return;const Y=ve.getBoundingClientRect(),$=ve.classList.contains("sub-menu"),he=1/.8,_e=1/(.8*.9);if($){const Be=document.getElementById("root-menu").getBoundingClientRect();Be.top+(Y.top-Be.top)*he+Y.height*_e>window.innerHeight-28&&ve.classList.add("top"),Be.left+(Y.left-Be.left)*he+Y.width*_e>window.innerWidth&&ve.classList.add("left");return}if(Y.left+Y.width*he>window.innerWidth-28&&ve.classList.add("left"),Y.height>window.innerHeight){ve.style.height=window.innerHeight+"px",ve.style.overflow="auto",ve.style.overflowX="hidden",ve.style.marginTop=-Y.top+"px";return}Y.top+Y.height<window.innerHeight||(ve.style.marginTop=window.innerHeight-(Y.top+Y.height)+"px")},te=function(ve,Y,$,he,_e,we){let{subMenuLeftOffset:Be,subMenuTopOffset:n}=_e;if(we===void 0&&(we=!1),!ve||!Y)return;const De=Y.getBoundingClientRect(),Ye=Y.getBoundingClientRect(),qe=1/.9,{left:ut,top:pt}=$;De.top+De.height*qe>window.innerHeight-28?De.top-De.height*qe>0?(ve.style.bottom="-4px",ve.style.top="unset"):ve.style.marginTop=window.innerHeight-28-(De.top+De.height*qe)+"px":ve.style.top=De.top-pt-11+"px",De.left+De.width*qe>window.innerWidth?(ve.style.right=De.left+"px",ve.style.left="unset"):ve.style.left=De.right-ut-1+12*we+"px",he==="left"&&(ve.style.left=-2*De.width-12-22*we+"px"),Be&&(ve.style.left=parseInt(ve.style.left)+Be+4*we+"px"),n&&(ve.style.top=parseInt(ve.style.top)+n+"px"),ve.style.maxHeight=window.innerHeight-Ye.top+"px"},G=function(ve,Y,$,he,_e,we,Be){let{subMenuLeftOffset:n,subMenuTopOffset:De}=_e;if(we===void 0&&(we=!1),!ve||!Y)return;const Ye=Be.getBoundingClientRect(),qe=Y.getBoundingClientRect(),ut=Y.getBoundingClientRect(),{left:pt,top:lt}=$,{top:ft}=Ye;ve.style.top=qe.top-ft-11+"px",ve.style.left=qe.right-pt-1+12*we+"px",he==="left"&&(ve.style.left=-2*qe.width-12-22*we+"px"),n&&(ve.style.left=parseInt(ve.style.left)+n+4*we+"px"),ve.style.maxHeight=window.innerHeight-ut.top+"px"},F=(ve,Y)=>{let{x:$,y:he}=ve,_e=!1;for(let we=0,Be=Y.length-1;we<Y.length;Be=we++){let{x:n,y:De}=Y[we],{x:Ye,y:qe}=Y[Be];De>he!=qe>he&&$<(Ye-n)*(he-De)/(qe-De)+n&&(_e=!_e)}return _e};var A=s(54909);const V=(0,j.AH)(["background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;color:#fff;border:1px solid #454647;"]),U=j.Ay.div.withConfig({displayName:"styles__StyledMask",componentId:"sc-h83js-0"})(["position:fixed;top:0;left:0;right:0;width:100vw;height:100vh;z-index:199;"]),a=j.Ay.div.withConfig({displayName:"styles__StyledContextMenu",componentId:"sc-h83js-1"})(["position:fixed;z-index:200;&.size-small > ul{min-width:120px;}ul{list-style:none;}& > ul{position:absolute;top:0;left:0;padding:8px 0;min-width:200px;margin:0;",";&.top{top:initial !important;bottom:-8px;}&.left{left:initial;right:100%;}&.top.left{}&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}}"],V),w=j.Ay.ul.withConfig({displayName:"styles__StyledSubMenu",componentId:"sc-h83js-2"})(["position:absolute;min-width:200px;max-height:500px;padding:4px 0;",";opacity:0;pointer-events:none;overflow-x:hidden;margin:0;&:lang(ja){min-width:260px;}&.is-show{opacity:1;pointer-events:auto;}&.inner-sub{overflow-x:unset;}&.is-normal{li.MenuItem{& > a{padding-left:32px;}&.hasIcon{> a{padding-left:15px;}}}}&.is-airy{li.MenuItem{& > a{padding-left:29px;}&.hasIcon{> a{padding-left:12px;}}}}"],V),b=j.Ay.li.withConfig({displayName:"styles__StyledMenuItem",componentId:"sc-h83js-3"})(["position:relative;a{height:24px;padding-left:16px;display:flex;align-items:center;color:#fff;padding-right:10px;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}}& > span{white-space:nowrap;margin-right:16px;.invisible{width:20px;height:20px;display:inline-block;color:",";margin-top:-3px;}}.selected-icon{width:8px;margin-right:9px;}.right-arrow{margin-left:auto;margin-right:-4px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}.shortcut{display:flex;align-items:center;color:#999;.mac{font-size:16px;margin-right:2px;}}.shortfont{display:flex;margin-left:auto;kbd{display:inline-block;text-align:center;min-width:12px;color:rgba(255,255,255,0.7);font-family:Inter;&.key-cmd{width:13px;text-align:right;}&:first-child{margin-left:0;}&:last-child{margin-right:0;}}}}&.hasDivider{a{margin-bottom:4px;}}&:not(.disabled).active{a{background:#666;}}&.disabled{*{cursor:not-allowed;}a{color:rgba(255,255,255,0.22);.right-arrow svg > path{fill:rgba(255,255,255,0.22);}.shortfont kbd{color:rgba(255,255,255,0.22);}}}"],A.f.color_text_L2.value_dark),x=j.Ay.li.withConfig({displayName:"styles__StyledMenuItemFont",componentId:"sc-h83js-4"})(["position:relative;a{height:28px;display:flex;align-items:center;color:#fff;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;&.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}&.is-svg{height:14px;}}& > span{white-space:nowrap;margin-left:20px;}.selected-icon{width:16px;position:absolute;}.right-arrow{margin-right:8px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}}&:not(.disabled).active{a{background:#666;}}"]);var c=s(57464);function g(ve,Y,$){return(Y=f(Y))in ve?Object.defineProperty(ve,Y,{value:$,enumerable:!0,configurable:!0,writable:!0}):ve[Y]=$,ve}function f(ve){var Y=I(ve,"string");return typeof Y=="symbol"?Y:Y+""}function I(ve,Y){if(typeof ve!="object"||!ve)return ve;var $=ve[Symbol.toPrimitive];if($!==void 0){var he=$.call(ve,Y||"default");if(typeof he!="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(ve)}const D=(0,c.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M5.5 5.04031L5.5 10.9597C5.5 11.3789 5.98497 11.612 6.31235 11.3501L10.012 8.39043C10.2622 8.19027 10.2622 7.80973 10.012 7.60957L6.31235 4.64988C5.98497 4.38797 5.5 4.62106 5.5 5.04031Z",fill:"white",fillOpacity:"0.9"})}),S="M1016 416L1016 -1856L328 -1856L328 416ZM512 -320L832 -320L832 -64L512 -64ZM512 -704L576 -704L576 -512L768 -512L768 -640L704 -640L704 -576L640 -576L640 -704L832 -704L832 -448L512 -448ZM512 192L728 64L512 64L512 0L832 0L832 65L617 192L832 192L832 256L512 256ZM512 -1408L704 -1408L704 -1248L832 -1248L832 -1184L512 -1184ZM512 -1536L624 -1536L624 -1632L512 -1632L512 -1696L832 -1696L832 -1632L688 -1632L688 -1536L832 -1536L832 -1472L512 -1472ZM512 -960L640 -960L640 -1056L512 -1056L512 -1120L832 -1120L832 -1056L704 -1056L704 -896L512 -896ZM512 -832L768 -832L768 -992L832 -992L832 -768L512 -768ZM768 -128L768 -256L576 -256L576 -128ZM640 -1248L640 -1344L576 -1344L576 -1248Z",R="M800 -800L800 -1240L1240 -1240L1240 -800Z",O="M860 416L172 416L548 -1856L1236 -1856ZM478 -320L436 -64L756 -64L798 -320ZM542 -704L499 -448L819 -448L862 -704L670 -704L648 -576L712 -576L723 -640L787 -640L766 -512L574 -512L606 -704ZM393 192L383 256L703 256L713 192L498 192L734 65L745 0L425 0L414 64L630 64ZM658 -1408L621 -1184L941 -1184L952 -1248L824 -1248L850 -1408ZM679 -1536L669 -1472L989 -1472L999 -1536L855 -1536L871 -1632L1015 -1632L1026 -1696L706 -1696L695 -1632L807 -1632L791 -1536ZM584 -960L573 -896L765 -896L792 -1056L920 -1056L930 -1120L610 -1120L600 -1056L728 -1056L712 -960ZM563 -832L552 -768L872 -768L909 -992L845 -992L819 -832ZM702 -128L510 -128L531 -256L723 -256ZM760 -1248L696 -1248L711 -1344L775 -1344Z",ee="M1016 416L328 416L328 -1856L1016 -1856ZM512 -320L512 -64L832 -64L832 -320ZM512 -704L512 -448L832 -448L832 -704L640 -704L640 -576L704 -576L704 -640L768 -640L768 -512L576 -512L576 -704ZM512 192L512 256L832 256L832 192L617 192L832 65L832 0L512 0L512 64L728 64ZM512 -1408L512 -1184L832 -1184L832 -1248L704 -1248L704 -1408ZM512 -1536L512 -1472L832 -1472L832 -1536L688 -1536L688 -1632L832 -1632L832 -1696L512 -1696L512 -1632L624 -1632L624 -1536ZM512 -960L512 -896L704 -896L704 -1056L832 -1056L832 -1120L512 -1120L512 -1056L640 -1056L640 -960ZM512 -832L512 -768L832 -768L832 -992L768 -992L768 -832ZM768 -128L576 -128L576 -256L768 -256ZM640 -1248L576 -1248L576 -1344L640 -1344Z",E=3;let B=[],X=!1;const ne=new Map,se=ve=>{B.push(ve),B.length>E&&B.shift()},fe=ve=>{ve.ctrlKey===!0&&ve.preventDefault()};class Me extends N.PureComponent{constructor(Y){super(Y),g(this,"setMenuRef",$=>this.$menu=$),g(this,"createContextMenuRef",$=>this.$mountRoot=$),g(this,"mousewheelHandle",$=>{const he=$.deltaX||$.wheelDeltaX;if(!he||!this.$elem)return;const _e=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&he>0,we=this.$elem.scrollLeft===0&&he<0;(_e||we)&&$.preventDefault()}),g(this,"handleClose",$=>{const{onClose:he}=this.props;he&&he($)}),g(this,"handleCloseMouse",$=>{$.button===2&&this.handleClose($)}),g(this,"handleClickMenu",$=>{const{alwaysOpen:he}=this.props;he||this.handleClose($)}),g(this,"handleUpdateState",$=>this.setState({...$})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),!this.props.style&&J(this.$menu),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle),this.$elem&&this.$elem.addEventListener("wheel",fe)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),this.$elem&&this.$elem.removeEventListener("wheel",fe,{capture:!0}),document.body.removeChild(this.$elem),B=[],X=!1}preventDefault(Y){Y.preventDefault()}render(){const{position:Y,children:$,className:he,style:_e={}}=this.props,{top:we,left:Be}=Y,{activePath:n,showSubMenu:De}=this.state;return(0,p.createPortal)((0,c.jsx)(U,{className:"context-menu-mask",onMouseDown:this.handleClose,onClick:this.handleClickMenu,children:(0,c.jsx)(a,{ref:this.createContextMenuRef,style:{top:we+2,left:Be+2,..._e},className:he,onContextMenu:this.preventDefault,children:(0,c.jsx)("ul",{ref:this.setMenuRef,children:(0,c.jsx)(q.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:Y,activePath:n,showSubMenu:De,onUpdateState:this.handleUpdateState},children:$})})})}),this.$elem)}}g(Me,"propTypes",{className:y().string,position:y().object,children:y().oneOfType([y().element,y().array]),style:y().object,onClose:y().func,alwaysOpen:y().bool});class Ae extends N.PureComponent{constructor(Y){super(Y),g(this,"setMenuRef",$=>this.$menu=$),g(this,"createContextMenuRef",$=>this.$mountRoot=$),g(this,"mousewheelHandle",$=>{const he=$.deltaX||$.wheelDeltaX;if(!he||!this.$elem)return;const _e=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&he>0,we=this.$elem.scrollLeft===0&&he<0;(_e||we)&&$.preventDefault()}),g(this,"handleClose",$=>{const{onClose:he}=this.props;he&&he($)}),g(this,"handleCloseMouse",$=>{$.button===2&&this.handleClose($)}),g(this,"handleClickMenu",$=>{const{alwaysOpen:he}=this.props;he||this.handleClose($)}),g(this,"handleUpdateState",$=>this.setState({...$})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),document.body.removeChild(this.$elem),B=[],X=!1}preventDefault(Y){Y.preventDefault()}render(){const{position:Y,children:$,className:he,style:_e={}}=this.props,{top:we,left:Be}=Y,{activePath:n,showSubMenu:De}=this.state;return(0,c.jsx)(a,{ref:this.createContextMenuRef,style:{top:we+2,left:Be+2,..._e},className:he,onContextMenu:this.preventDefault,children:(0,c.jsx)("ul",{ref:this.setMenuRef,children:(0,c.jsx)(q.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:Y,activePath:n,showSubMenu:De,onUpdateState:this.handleUpdateState,containerRef:this.$elem,isEmbed:!0},children:$})})})}}g(Ae,"propTypes",{className:y().string,position:y().object,children:y().oneOfType([y().element,y().array]),style:y().object,onClose:y().func,alwaysOpen:y().bool});class Re extends N.PureComponent{constructor(){super(...arguments),g(this,"createMenuItemRef",Y=>this.$menuItemRef=Y),g(this,"createSubMenuRef",Y=>this.$subMenuRef=Y),g(this,"handleActiveItem",(Y,$)=>{const{children:he}=this.props;$({activePath:Y,showSubMenu:!!he})}),g(this,"handleMouseEnter",(Y,$,he)=>{const{onMouseEnter:_e}=this.props;_e&&_e(Y),X?setTimeout(()=>{if(this.$menuItemRef&&B.length>0){const we=this.$menuItemRef.getBoundingClientRect();B.slice(-1)[0].inside(we)&&this.handleActiveItem($,he)}},200):this.handleActiveItem($,he)}),g(this,"handleMouseLeave",async(Y,$,he,_e)=>{const{onMouseLeave:we}=this.props;if(we&&we(Y),he&&this.$subMenuRef){const Be=this.$subMenuRef.getBoundingClientRect();if(Be&&B.length>0){const{left:n,top:De,bottom:Ye}=Be,qe=new P(n,De),ut=new P(n,Ye),pt=[B[0],qe,ut],lt=new P(Y.clientX,Y.clientY);if(F(lt,pt)){X=!0;return}}}if($){_e({activePath:$.dataset.index.split(","),showSubMenu:!0}),X=!1;return}_e({activePath:[],showSubMenu:!1}),X=!1}),g(this,"handleMouseMove",Y=>{const $=new P(Y.clientX,Y.clientY);se($)}),g(this,"handleMouseDown",Y=>Y.stopPropagation()),g(this,"handleGetCanActiveSubMenu",(Y,$,he)=>{let _e=!1;return $&&(Y&&$.join("")===he.join("")||$.slice(0,he.length).join("")===he.join(""))&&(_e=!0),_e}),g(this,"handleGetPath",Y=>{const{dataIndex:$,text:he}=this.props,_e=$!==void 0?$:he;return Y?Y.dataset.index.split(",").concat(_e):[_e]}),g(this,"handleClick",Y=>{const{disabled:$,onClick:he,canClick:_e,children:we}=this.props;(_e||!$)&&he&&he(Y),(we||$)&&Y.stopPropagation()})}render(){const{icon:Y,text:$,children:he,disabled:_e,hotKeyText:we,className:Be,dataType:n,subMenuClassName:De,subMenuDirection:Ye,subMenuLeftOffset:qe,subMenuTopOffset:ut,isVisible:pt,isAiry:lt=!1}=this.props;return(0,c.jsx)(q.Consumer,{children:ft=>{const{contextMenuPosition:Tt,mountRoot:Ct,activePath:Ot,showSubMenu:Pt,parentRef:bt,onUpdateState:zt,isEmbed:en=!1}=ft,jt=this.handleGetPath(bt),Gt=this.handleGetCanActiveSubMenu(Pt,Ot,jt);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(b,{ref:this.createMenuItemRef,className:Z()("MenuItem",{disabled:_e,hasIcon:Y},Be,{active:Gt}),"data-type":n,"data-index":jt,onMouseEnter:Wt=>this.handleMouseEnter(Wt,jt,zt),onMouseLeave:Wt=>this.handleMouseLeave(Wt,bt,Pt,zt),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:(0,c.jsxs)("a",{children:[Y,(0,c.jsxs)("span",{children:[(0,c.jsx)("span",{className:"text",children:$}),pt?(0,c.jsx)(z.A,{className:"invisible",name:"eyeinvisible"}):null]}),he&&(0,c.jsx)("div",{className:"right-arrow",children:D}),we&&we.length>0&&(0,c.jsx)("div",{className:"shortfont",children:we.map((Wt,sn)=>(0,c.jsx)("kbd",{children:Wt},sn))})]})}),he&&Gt&&!_e&&(0,p.createPortal)((0,c.jsx)(He,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:Tt,subMenuDirection:Ye,subMenuLeftOffset:qe,subMenuTopOffset:ut,className:De,mountRoot:Ct,isEmbed:en,isAiry:lt,children:(0,c.jsx)(q.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:Ct,contextMenuPosition:Tt,activePath:Ot,showSubMenu:Pt,onUpdateState:zt},children:he})}),Ct)]})}})}}g(Re,"propTypes",{icon:y().object,text:y().string.isRequired,className:y().string,disabled:y().bool,canClick:y().bool,children:y().oneOfType([y().element,y().array]),hotKeyText:y().array,onClick:y().func,onMouseEnter:y().func,onMouseLeave:y().func,dataType:y().number,dataIndex:y().oneOfType([y().number,y().string]),subMenuClassName:y().string,subMenuDirection:y().string,subMenuLeftOffset:y().number,subMenuTopOffset:y().number,isVisible:y().bool,isAiry:y().bool}),g(Re,"defaultProps",{subMenuClassName:""});class Ue extends N.PureComponent{constructor(Y){super(Y),g(this,"createMenuItemRef",n=>this.$menuItemRef=n),g(this,"createSubMenuRef",n=>this.$subMenuRef=n),g(this,"spanRef",n=>this.$spanRef=n),g(this,"handleActiveItem",(n,De)=>{const{children:Ye}=this.props;De({activePath:n,showSubMenu:!!Ye})}),g(this,"handleMouseEnter",(n,De,Ye)=>{const{onMouseEnter:qe}=this.props;qe&&qe(n),X?setTimeout(()=>{if(this.$menuItemRef&&B.length>0){const ut=this.$menuItemRef.getBoundingClientRect();B.slice(-1)[0].inside(ut)&&this.handleActiveItem(De,Ye)}},200):this.handleActiveItem(De,Ye)}),g(this,"handleMouseLeave",async(n,De,Ye,qe)=>{const{onMouseLeave:ut}=this.props;if(ut&&ut(n),Ye&&this.$subMenuRef){const pt=this.$subMenuRef.getBoundingClientRect();if(pt&&B.length>0){const{left:lt,top:ft,bottom:Tt}=pt,Ct=new P(lt,ft),Ot=new P(lt,Tt),Pt=[B[0],Ct,Ot],bt=new P(n.clientX,n.clientY);if(F(bt,Pt)){X=!0;return}}}if(De){qe({activePath:De.dataset.index.split(","),showSubMenu:!0}),X=!1;return}qe({activePath:[],showSubMenu:!1}),X=!1}),g(this,"handleMouseMove",n=>{const De=new P(n.clientX,n.clientY);se(De)}),g(this,"handleMouseDown",n=>n.stopPropagation()),g(this,"handleGetCanActiveSubMenu",(n,De,Ye)=>{let qe=!1;return De&&(n&&De.join("")===Ye.join("")||De.slice(0,Ye.length).join("")===Ye.join(""))&&(qe=!0),qe}),g(this,"handleGetPath",n=>{const{dataIndex:De,text:Ye}=this.props,qe=De!==void 0?De:Ye;return n?n.dataset.index.split(",").concat(qe):[qe]}),g(this,"handleClick",n=>{const{disabled:De,onClick:Ye,canClick:qe,children:ut}=this.props;(qe||!De)&&Ye&&Ye(n),(ut||De)&&n.stopPropagation()});const{text:$,fontUrl:he,usePlainText:_e}=this.props,we="U="+he+"&T="+$,Be=ne.get(we);_e?this.state={renderContent:Y.text,contentType:"text"}:this.state={renderContent:(Be==null?void 0:Be.content)||Y.text,contentType:(Be==null?void 0:Be.type)||"text"}}async componentDidMount(){const{text:Y,fontUrl:$,usePlainText:he}=this.props;if(he)return;const _e="U="+$+"&T="+Y;if(!ne.get(_e)){if(!$){ne.set(_e,{type:"text",content:Y});return}try{const we=await(await fetch("/flatkiq/fontsvg/sync.svg?"+_e)).text();if(we!==""){const Be=[...new DOMParser().parseFromString(we,"text/html").querySelectorAll("path")].map(n=>n.getAttribute("d"));if(Be.find(n=>n===S||n===R||n===O||n===ee)){ne.set(_e,{type:"text",content:Y});return}Be.filter(Boolean).length!==Y.split("").filter(n=>n!==" ").length?ne.set(_e,{type:"text",content:Y}):(ne.set(_e,{type:"svg",content:we}),this.setState({renderContent:we,contentType:"svg"}))}else ne.set(_e,{type:"text",content:Y})}catch(we){console.error(we),ne.set(_e,{type:"text",content:Y})}}}render(){const{icon:Y,children:$,disabled:he,className:_e,dataType:we,subMenuClassName:Be,subMenuDirection:n,subMenuLeftOffset:De,subMenuTopOffset:Ye,tooltipComponent:qe=null,tooltipWrapper:ut=null}=this.props,{renderContent:pt,contentType:lt}=this.state;return(0,c.jsx)(q.Consumer,{children:ft=>{const{contextMenuPosition:Tt,mountRoot:Ct,activePath:Ot,showSubMenu:Pt,parentRef:bt,onUpdateState:zt,isEmbed:en=!1}=ft,jt=this.handleGetPath(bt),Gt=this.handleGetCanActiveSubMenu(Pt,Ot,jt),Wt=(0,c.jsxs)("a",{children:[Y,(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:pt},className:Z()("text",{"is-svg":lt==="svg"})}),qe,$&&(0,c.jsx)("div",{className:"right-arrow",children:D})]});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(x,{ref:this.createMenuItemRef,className:Z()("MenuItem",{disabled:he,hasIcon:Y},_e,{active:Gt}),"data-type":we,"data-index":jt,onMouseEnter:sn=>this.handleMouseEnter(sn,jt,zt),onMouseLeave:sn=>this.handleMouseLeave(sn,bt,Pt,zt),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:ut?ut(Wt):Wt}),$&&Gt&&!he&&(0,p.createPortal)((0,c.jsx)(He,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:Tt,subMenuDirection:n,subMenuLeftOffset:De,subMenuTopOffset:Ye,className:Be,mountRoot:Ct,isEmbed:en,isNoraml:!1,isAiry:!1,children:(0,c.jsx)(q.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:Ct,contextMenuPosition:Tt,activePath:Ot,showSubMenu:Pt,onUpdateState:zt},children:$})}),Ct)]})}})}}g(Ue,"defaultProps",{subMenuClassName:""});class He extends N.PureComponent{constructor(Y){super(Y),g(this,"createRef",$=>{const{setRef:he}=this.props;he($),this.subMenu=$}),this.state={isTransform:!1}}componentDidMount(){this.setState({isTransform:!0});const{parentRef:Y,contextMenuPosition:$,subMenuDirection:he,subMenuLeftOffset:_e,subMenuTopOffset:we,isAiry:Be,isEmbed:n,mountRoot:De}=this.props;n?G(this.subMenu,Y,$,he,{subMenuLeftOffset:_e,subMenuTopOffset:we},Be,De):te(this.subMenu,Y,$,he,{subMenuLeftOffset:_e,subMenuTopOffset:we},Be)}render(){const{children:Y,isAiry:$,className:he,isNoraml:_e=!0}=this.props,{isTransform:we}=this.state;return(0,c.jsx)(w,{className:Z()("SubMenu",{"is-show":we},{"is-airy":$},{"is-normal":_e},he),ref:this.createRef,children:Y})}}g(He,"propTypes",{children:y().oneOfType([y().element,y().array]),className:y().string,parentRef:y().node,contextMenuPosition:y().object,setRef:y().func,subMenuDirection:y().string,subMenuLeftOffset:y().number,subMenuTopOffset:y().number,isAiry:y().bool});const $e=j.Ay.div.withConfig({displayName:"ContextMenu__Divider",componentId:"sc-1802crt-0"})(["margin:8px 0;border-top:1px solid #454546;"])},29815:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>g});var i=s(66748),y=s.n(i),N=s(51044),p=s(21676),j=s(54909);const re=p.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-8goufi-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{display:grid;grid-auto-flow:column;gap:20px;justify-content:center;.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],j.f.color_text_btn.value_light,j.f.color_btn_primary_normal.value_light,j.f.color_btn_primary_hover.value_light,j.f.color_btn_primary_clicked.value_light,j.f.color_text_L1.value_light,j.f.color_bg_white.value_light,j.f.color_bg_border_02.value_light,j.f.color_btn_secondary_hover.value_light,j.f.color_bg_border_02.value_light,j.f.color_btn_secondary_active.value_light,j.f.color_bg_border_02.value_light);var Z=s(57464);const z="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",P="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",q="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",J="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",te="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function G(f){const{className:I,source:D,rotate:S,width:R,height:O,onClick:ee}=f,E={msTransform:"rotate("+S+"deg)",transform:"rotate("+S+"deg)",width:R,height:O};return(0,Z.jsx)("img",{className:I,src:D,style:E,onClick:ee})}G.propTypes={className:y().string,source:y().string.isRequired,width:y().number,height:y().number,rotate:y().number,onClick:y().func};const F=G,A=403,V=404,U=[500,501,502,503,504,505],a="link_expired";var w=s(80396);function b(f,I,D){return(I=x(I))in f?Object.defineProperty(f,I,{value:D,enumerable:!0,configurable:!0,writable:!0}):f[I]=D,f}function x(f){var I=c(f,"string");return typeof I=="symbol"?I:I+""}function c(f,I){if(typeof f!="object"||!f)return f;var D=f[Symbol.toPrimitive];if(D!==void 0){var S=D.call(f,I||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(f)}class g extends N.PureComponent{constructor(){super(...arguments),b(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,Z.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("p",{className:"proposal",children:["Current account ",(0,Z.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,Z.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("p",{className:"proposal",children:["Current account ",(0,Z.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6587\u4EF6\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,Z.jsxs)("div",{className:"proposal text-left",children:[(0,Z.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,Z.jsxs)("ul",{className:"text-list",children:[(0,Z.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,Z.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,Z.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,Z.jsxs)("div",{className:"proposal text-left",children:[(0,Z.jsx)("p",{children:"Please try the following methods:"}),(0,Z.jsxs)("ul",{className:"text-list",children:[(0,Z.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,Z.jsx)("li",{children:"If not, please switch to another network."})]}),(0,Z.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},previewFile:{"zh-CN":"\u9884\u89C8\u6587\u4EF6",en:"Preview File",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),b(this,"clickGoHome",()=>{let I="",{locale:D}=this.props;D==="zh-CN"?I="/":D==="jp"?I="https://mockitt.wondershare.jp":I="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(I):location.replace(I)}),b(this,"clickReloadPage",()=>{window.location.reload()}),b(this,"clickContactUs",()=>{let I="",{locale:D}=this.props;if(D==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else D==="jp"?I="https://support.wondershare.jp":I="https://support.wondershare.com/product/mockitt.html";window.open(I)}),b(this,"getErrorConfig",()=>{const{errorType:I,primaryBtnText:D,primaryBtnClick:S,secondaryBtnText:R,secondaryBtnClick:O,locale:ee}=this.props,{typeText:E,clickGoHome:B,clickContactUs:X,clickReloadPage:ne}=this;let se,fe,Me="",Ae=null,Re;const Ue={text:E.goHome[ee],click:B},He={text:E.reloadPage[ee],click:ne},$e={text:E.contactUs[ee],click:X};switch(!0){case I===A:se=Ue.text,fe=Ue.click,Re=z;break;case I===V:se=Ue.text,fe=Ue.click,Re=P;break;case I===a:se=Ue.text,fe=Ue.click,Re=P;break;case U.includes(I):se=He.text,fe=He.click,Me=$e.text,Ae=$e.click,Re=q;break;default:se=He.text,fe=He.click,Me=$e.text,Ae=$e.click,Re=ee==="en"?te:J;break}return D&&(se=D),S&&(fe=S),R&&(Me=R),O&&(Ae=O),{svgBg:Re,primaryText:se,primaryClick:fe,secondaryText:Me,secondaryClick:Ae}}),b(this,"getErrorInfo",()=>{const{errorType:I,identity:D,locale:S,customTitle:R,customDes:O,account:ee}=this.props,{typeText:E}=this;let B,X;if(R)B=R;else{const ne=U.includes(I)?"title_5XX":"title_"+I;B=E[ne]?E[ne][S]:E.title_0[S]}if(O)X=O;else{let ne="des_"+I;I===A?ne=ee?"des_"+I+"_"+D:"des_"+I+"_2":U.includes(I)?ne="des_5xx":I===a&&(ne="des_link_expired"),X=E[ne]?E[ne][S]:E.des_link_expired[S]}return{title:B,desc:X}}),b(this,"handleClickLogo",()=>{let{isLogoClickable:I,logoUrl:D}=this.props;I&&(window.top!==window.self?window.top.location.href=D:window.location.href=D)})}render(){const{locale:I,isShowPrimaryBtn:D,isShowSecondaryBtn:S,isLogoClickable:R,previewFileBtnClick:O}=this.props,{typeText:ee}=this,{svgBg:E,primaryText:B,primaryClick:X,secondaryText:ne,secondaryClick:se}=this.getErrorConfig(),{title:fe,desc:Me}=this.getErrorInfo();return(0,Z.jsxs)(re,{children:[(0,Z.jsx)("div",{className:"logo",children:(0,Z.jsx)("span",{className:R?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,Z.jsx)(F,{source:E})})}),(0,Z.jsxs)("div",{className:"content",children:[(0,Z.jsx)("p",{className:"title",children:fe}),typeof Me=="string"?(0,Z.jsx)("p",{className:"proposal",children:Me}):Me]}),(0,Z.jsxs)("div",{className:"btn-list",children:[S&&se&&ne&&(0,Z.jsx)("a",{className:"btn regular",onClick:se,children:ne}),O&&(0,Z.jsx)("a",{className:"btn regular",onClick:O,children:ee.previewFile[I]}),D&&X&&B&&(0,Z.jsx)("a",{className:"btn primary",onClick:X,children:B}),ne===ee.contactUs[I]&&(0,Z.jsx)(w.A,{})]})]})}}b(g,"propTypes",{locale:y().oneOf(["zh-CN","en","jp"]),identity:y().oneOf([0,1]),customTitle:y().string,customDes:y().string,isShowPrimaryBtn:y().bool,primaryBtnText:y().string,primaryBtnClick:y().func,isShowSecondaryBtn:y().bool,secondaryBtnText:y().string,secondaryBtnClick:y().func,errorType:y().oneOf([0,403,404,500,501,502,503,504,505,a]).isRequired,account:y().string,isLogoClickable:y().bool,logoUrl:y().string}),b(g,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"})},80396:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>j});var i=s(51044),y=s(66748),N=s.n(y),p=s(57464);j.propTypes={className:N().string,children:N().oneOfType([N().array,N().string]),isWonderShare:N().bool,id:N().string,onClick:N().func,disabled:N().bool,canClick:N().bool};function j(re){let{className:Z,children:z,isWonderShare:P=!1,id:q="mdOnlineSupport",onClick:J,disabled:te,canClick:G}=re;const F="qd300907440129217b43492df1157945f52a80582eaf",A=P?"https://support.wondershare.com/":"";(0,i.useEffect)(()=>{if(!te)return!P&&V(),()=>{const a=document.getElementById(F);a&&a.remove()}},[]);const V=()=>{s.g?(s.g.wpaShowItemId=window.wpaShowItemId="123",s.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let a=document.createElement("script");a.id=F,a.src="https://wp.qiye.qq.com/qidian/3009074401/29217b43492df1157945f52a80582eaf",a.charset="utf-8",a.async=!0,a.defer=!0,document.body.appendChild(a)},U=a=>{if(te){G&&J&&J();return}if(J&&J(),P){window.open(A);return}if(q!=="mdOnlineSupport"){a.preventDefault();const w=document.getElementById("mdOnlineSupport");w&&w.click()}};return(0,p.jsx)("div",{style:{cursor:"pointer"},id:q,className:Z,onClick:U,children:z})}},29584:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>f,d:()=>te});var i=s(30108),y=s.n(i),N=s(98236),p=s.n(N),j=s(51044),re=s(60185),Z=s(66748),z=s.n(Z),P=s(480),q=s(28149);const J=9;function te(D){let{$opener:S,$menuBase:R,menuX:O="left",menuY:ee="bottom",menuBaseStyle:E={},inflexible:B=!1,shouldSetMaxHeight:X=!1}=D;if(!S||!R)return{};const ne=R.querySelector("*"),se={styleFor$menuBase:{},styleFor$menu:{}},fe=Ye=>Object.assign(se.styleFor$menuBase,Ye),Me=Ye=>Object.assign(se.styleFor$menu,Ye),{offsetHeight:Ae}=ne,Re=E.width||S.offsetWidth,Ue=E.height||S.offsetHeight,He=S.getBoundingClientRect(),{top:$e,bottom:ve,left:Y}=Object.assign({top:He.top,right:He.right,bottom:He.bottom,left:He.left},E);fe({top:$e+"px",left:Y+"px",width:Re+"px",height:Ue+"px"});const{innerHeight:$}=window,he=10,_e=$-10,we=ee==="top"?1/3:2/3,Be=$*we,n=$e+Ue/2,De=$e+Ue;return(B&&ee==="bottom"||!B&&Be>=n)&&De+Ae+J<$?(se.isDownward=!0,X&&ve+Ae>_e&&Me({maxHeight:_e-ve+"px"})):(se.isDownward=!1,X&&$e-Ae<he&&Me({maxHeight:$e-he+"px"})),Object.assign(R.style,se.styleFor$menuBase),Object.assign(ne.style,se.styleFor$menu),se}var G=s(21676);const F=G.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-665wv9-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),A=G.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-665wv9-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),V=G.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-665wv9-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var U=s(57464);function a(D,S,R){return(S=w(S))in D?Object.defineProperty(D,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):D[S]=R,D}function w(D){var S=b(D,"string");return typeof S=="symbol"?S:S+""}function b(D,S){if(typeof D!="object"||!D)return D;var R=D[Symbol.toPrimitive];if(R!==void 0){var O=R.call(D,S||"default");if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(D)}const x="IBOT_DROPDOWN_MENU_ROOT",c=document.getElementById(x)||Object.assign(document.createElement("div"),{id:x}),g=document.body;g.contains(c)||g.appendChild(c);class f extends j.PureComponent{constructor(){super(...arguments),a(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),a(this,"leaveTimeoutList",[]),a(this,"createMenuRef",S=>this.$menuRef=S),a(this,"toggle",S=>this.setState({isOpen:y()(S)?S:!this.state.isOpen})),a(this,"open",()=>this.toggle(!0)),a(this,"close",()=>this.toggle(!1)),a(this,"onMouseEnter",()=>{const{shouldOpenOnHover:S}=this.props;S&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),a(this,"onMouseLeave",()=>{const{shouldOpenOnHover:S}=this.props;S&&clearTimeout(this.hoverTimeout)}),a(this,"onMouseMove",S=>{var R;let{clientX:O,clientY:ee}=S;const{shouldOpenOnHover:E,hoverDelay:B,hoverCloseDelay:X}=this.props,{$opener:ne}=this.state;if(!E)return;clearTimeout(this.hoverTimeout);const se=document.elementFromPoint(O,ee),fe=!ne.contains(se),Me=!((R=this.$menuRef)!=null&&(R=R.menuBaseRef)!=null&&(R=R.current)!=null&&R.contains(se));Me?fe&&Me&&this.leaveTimeoutList.push(setTimeout(this.close,X!==void 0?X:Math.max(B,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),a(this,"set$opener",S=>this.setState({$opener:S})),a(this,"onSelect",S=>{let{currentTarget:R}=S;const{menuList:O,onSelect:ee,shouldCloseOnSelect:E}=this.props;if(typeof ee!="function")return;const B=R.dataset.idx,X=O[B],ne=typeof X=="string"?X:X&&X.value;ee(B,ne),this.setState({currentMenuListItemIdx:B}),E&&this.close()})}static getDerivedStateFromProps(S,R){let{prevProps:O,isOpen:ee}=R;return p()(S,O)?null:y()(S.isOpen)?{prevProps:S,isOpen:S.isOpen}:{prevProps:S}}componentDidUpdate(S,R){let{isOpen:O}=R;const{onOpen:ee,onClose:E,onToggle:B}=this.props,{isOpen:X}=this.state;O!==X&&(X?(ee(),B(!0)):(E(),B(!1)))}render(){const{className:S,opener:R,openerType:O,openerClassName:ee,shouldCloseOnClickOutside:E}=this.props,{isOpen:B,$opener:X,currentMenuListItemIdx:ne}=this.state,se=this.props.isDisabled||this.props.disabled,fe=(0,q.Hn)(["Dropdown",B&&"is-open",se&&"is-disabled",S]),Me={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseEnter,disabled:se,className:ee};return(0,U.jsxs)(F,{ref:this.set$opener,className:fe,children:[O!=="button"&&(0,j.isValidElement)(R)?(0,j.cloneElement)(R,Me):(0,U.jsx)("button",{type:"button",...Me,children:R}),(0,U.jsx)(I,{ref:this.createMenuRef,...this.props,isOpen:B,$opener:X,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:E,currentMenuListItemIdx:ne}),B&&(0,U.jsx)(P.A,{target:document,onMouseMove:this.onMouseMove})]})}}a(f,"positionMenu",te),a(f,"propTypes",{isOpen:z().bool,mode:z().oneOf(["light","dark"]),opener:z().node,openerType:z().oneOf(["button","custom"]),className:z().string,portalClassName:z().string,menuBaseClassName:z().string,openerClassName:z().string,menuClassName:z().string,menuBaseStyle:z().shape({top:z().number,right:z().number,bottom:z().number,width:z().number,height:z().number}),menu:z().node,menuList:z().arrayOf(z().oneOfType([z().node,z().shape({label:z().node,value:z().any,isDisabled:z().bool})])),currentMenuListItemIdx:z().oneOfType([z().number,z().string]),shouldPreventScrollingPropagation:z().bool,shouldOpenOnHover:z().bool,shouldCloseOnClickOutside:z().bool,hoverDelay:z().oneOfType([z().number,z().string]),hoverCloseDelay:z().oneOfType([z().number,z().string]),arrowed:z().bool,inflexible:z().bool,menuX:z().oneOf(["left","center","right"]),menuY:z().oneOf(["top","bottom"]),menuBasedX:z().bool,isDisabled:z().bool,disabled:z().bool,onSelect:z().func,shouldCloseOnSelect:z().bool,onOpen:z().func.isRequired,onClose:z().func.isRequired,onToggle:z().func.isRequired}),a(f,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class I extends j.PureComponent{constructor(){super(...arguments),a(this,"state",{isDownward:this.props.position==="bottom"}),a(this,"portal",(0,q.ep)(c,(0,q.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),a(this,"menuBaseRef",(0,j.createRef)()),a(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),a(this,"onClickOutside",S=>{let{target:R}=S;const{$opener:O,onClose:ee,shouldCloseOnClickOutside:E}=this.props;if(!E)return;const B=!c.contains(R),X=R.closest("label"),ne=X&&X.contains(O),se=!!(0,q.$)(".SelectMenu.is-open");B&&!ne&&!se&&ee()}),a(this,"position",()=>{const{$opener:S,menuX:R,menuY:O,menuBaseStyle:ee,inflexible:E}=this.props,{menuBaseRef:{current:B}}=this,{isDownward:X}=te({$menuBase:B,$opener:S,menuX:R,menuY:O,menuBaseStyle:ee,inflexible:E});this.setState({isDownward:X})})}componentDidMount(){const{isOpen:S,shouldPreventScrollingPropagation:R}=this.props,{menuBaseRef:{current:O}}=this;S&&setTimeout(this.position),R&&(0,q.sA)((0,q.$)(".content",O)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(S){let{isOpen:R}=S;const{isOpen:O}=this.props;!R&&O&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:S,menu:R}=this;return(0,re.createPortal)(R,S)}get menu(){const{isOpen:S,mode:R,menuBaseClassName:O,menuClassName:ee,menu:E,menuList:B,arrowed:X,menuX:ne,menuBasedX:se,currentMenuListItemIdx:fe,onSelect:Me}=this.props,{isDownward:Ae}=this.state,Re=(0,q.Hn)(["DropdownMenu",R,S&&"is-open",Ae?"is-downward":"is-upward","x-"+ne,X&&"arrowed "+(se?"x-menu-based":"x-arrow-based"),ee]);return(0,U.jsx)(V,{ref:this.menuBaseRef,className:(0,q.Hn)(["DropdownMenuBase",O]),children:(0,U.jsxs)(A,{className:Re,children:[X&&(0,U.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:q.t4.mr}}),(0,U.jsx)("div",{className:"content",children:B?(0,U.jsx)("ul",{className:"MenuList",children:B.map((Ue,He)=>(0,U.jsx)("li",{role:"option","data-idx":He,className:(0,q.Hn)([Ue.isDisabled&&"is-disabled",He===Number(fe)&&"is-active"]),onClick:Ue.isDisabled?void 0:Me,children:Ue.label||Ue},He))}):E}),S&&(0,U.jsx)(P.A,{target:document,onClick:(0,P.t)(this.onClickOutside,{capture:!0})}),S&&(0,U.jsx)(P.A,{target:document,onScroll:(0,P.t)(this.position,{capture:!0})})]})})}}a(I,"propTypes",{...f.propTypes,isOpen:z().bool,$opener:z().instanceOf(Element),onSelect:z().func,onClose:z().func})},22379:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>te});var i=s(51044),y=s(66748),N=s.n(y),p=s(23485),j=s(28149),re=s(21676);const Z=re.Ay.span.withConfig({displayName:"styled__StyledEllipsis",componentId:"sc-z4nkzm-0"})(["null"]);var z=s(57464);function P(G,F,A){return(F=q(F))in G?Object.defineProperty(G,F,{value:A,enumerable:!0,configurable:!0,writable:!0}):G[F]=A,G}function q(G){var F=J(G,"string");return typeof F=="symbol"?F:F+""}function J(G,F){if(typeof G!="object"||!G)return G;var A=G[Symbol.toPrimitive];if(A!==void 0){var V=A.call(G,F||"default");if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(G)}class te extends i.PureComponent{constructor(){var F;super(...arguments),F=this,P(this,"state",{isTruncated:!1,isDetected:!1}),P(this,"set$ellipsis",A=>Object.assign(this,{$ellipsis:A.current})),P(this,"detectTruncation",function(A){return A===void 0&&(A=F.$ellipsis),A.offsetWidth<A.scrollWidth})}componentDidMount(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}componentDidUpdate(F){let{children:A}=F;const{children:V}=this.props,{isDetected:U}=this.state;if(A!==V)return this.setState({isDetected:!1});if(!U)return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}render(){const{className:F,to:A,type:V,max:U,display:a,lang:w,theme:b,noTooltip:x,withTooltip:c,withQuote:g,withPeriod:f,withComma:I,withQuestionMark:D,children:S,...R}=this.props,{isTruncated:O,isDetected:ee}=this.state,E={children:S},B=ee&&(O?"is-truncated":"isnt-truncated"),X={type:A?"link":"inline",theme:b,className:(0,j.Hn)(["Ellipsis",B,F,(g||f||I||D)&&"Punctuation",g&&"with-quote",f&&"with-period",I&&"with-comma",D&&"with-question-mark"]),href:A,"data-type":V,"data-max":U,style:{display:a,maxWidth:isFinite(U)?U+"em":U},content:(c||O)&&!x&&(0,z.jsx)("div",{lang:w,className:"EllipsisTip",...E}),children:S,setRef:this.set$ellipsis,...R},ne=(0,z.jsx)(p.A,{...X});return g||f||I||D?(0,z.jsx)(Z,{className:(0,j.Hn)(["Punctuation",g&&"with-quote",f&&"with-period",I&&"with-comma",D&&"with-question-mark",B]),children:ne}):ne}}P(te,"propTypes",{className:N().string,theme:N().oneOf(["core","plain"]),type:N().oneOf(["user","id","email","org","team","app","widget"]),max:N().oneOfType([N().string,N().number]),display:N().oneOf(["inline-block","block"]),lang:N().string,to:N().string,children:N().node,noTooltip:N().bool,withTooltip:N().bool,withQuote:N().bool,withComma:N().bool,withPeriod:N().bool,withQuestionMark:N().bool}),P(te,"defaultProps",{lang:"en",theme:"core"})},99739:(Ce,ue,s)=>{"use strict";s.d(ue,{eB:()=>E,Ay:()=>ee});var i=s(51044),y=s(60185),N=s(66748),p=s.n(N),j=s(480),re=s(60260),Z=s.n(re),z=s(77017),P=s.n(z),q=s(98236),J=s.n(q),te=s(17956),G=s.n(te),F=s(90503),A=s(22379),V=s(28149),U=s(29584),a=s(21676);const w=a.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-grbgid-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),b=a.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-grbgid-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),x=a.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-grbgid-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var c=s(57464);function g(ne,se,fe){return(se=f(se))in ne?Object.defineProperty(ne,se,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ne[se]=fe,ne}function f(ne){var se=I(ne,"string");return typeof se=="symbol"?se:se+""}function I(ne,se){if(typeof ne!="object"||!ne)return ne;var fe=ne[Symbol.toPrimitive];if(fe!==void 0){var Me=fe.call(ne,se||"default");if(typeof Me!="object")return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return(se==="string"?String:Number)(ne)}const D="IBOT_SELECT_MENU_ROOT",S={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},R=document.getElementById(D)||Object.assign(document.createElement("div"),{id:D}),O=document.body;O.contains(R)||O.appendChild(R);class ee extends i.PureComponent{constructor(){super(...arguments),g(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),g(this,"set$select",se=>this.setState({$select:se})),g(this,"open",()=>this.setState({isOpen:!0})),g(this,"close",()=>this.setState({isOpen:!1})),g(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),g(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),g(this,"onChange",async se=>{const{onChange:fe,beforeOnChange:Me}=this.props,Ae=()=>{this.close(),fe(se)};if(!Me){this.setState({value:se},Ae);return}if(await Me(se)){this.setState({value:se},Ae);return}Ae()}),g(this,"onSelect",async se=>{let{currentTarget:fe}=se;const{value:Me}=this.props,{canSelect:Ae}=this;await this.onChange(Ae?fe.dataset.value:Me)})}static getDerivedStateFromProps(se,fe){let{prevProps:Me,value:Ae}=fe;return J()(Me,se)?null:{prevProps:se,value:se.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:se,disabled:fe}=this.props;return se||fe}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:se,readOnly:fe}=this;return!se&&!fe}get displayText(){const{optionList:se,placeholder:fe,optionLabelProp:Me}=this.props,{value:Ae}=this.state,Ue=(se.find(He=>P()(He)&&He.slice(0).some($e=>(0,V.o3)($e,Ae)))||se).find(He=>!P()(He)&&(0,V.o3)(He,Ae));return Ue?(0,V.Oi)(Ue,Me):fe||S[this.props.lang].select_placeholder}render(){const{size:se,theme:fe,unstyled:Me,className:Ae,menuX:Re}=this.props,{isOpen:Ue,$select:He,value:$e}=this.state,{isDisabled:ve,readOnly:Y,canSelect:$}=this,he=(0,V.Hn)([fe==="core"?"CoreSelect":"Select",se,Me&&"unstyled",Ae,Ue&&"is-open",ve&&"is-disabled",Y&&"readonly"]);return(0,c.jsxs)(w,{className:he,role:"listbox",ref:this.set$select,children:[(0,c.jsx)("button",{type:"button",onClick:this.toggle,disabled:ve,children:(0,c.jsx)(A.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,c.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,c.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,c.jsx)(E,{isOpen:Ue,...this.props,value:$e,$select:He,canSelect:$,onChange:this.onSelect,onClose:this.close,menuX:Re})]})}}g(ee,"propTypes",{size:p().oneOf(["regular","small"]),theme:p().oneOf(["core","plain"]),menuTheme:p().oneOf(["core","plain","check"]),unstyled:p().bool,className:p().string,menuClassName:p().string,lang:p().string,placeholder:p().string,optionList:p().arrayOf(p().oneOfType([p().node,p().shape({label:p().node,value:p().any,isDisabled:p().bool}),p().arrayOf(p().oneOfType([p().node,p().shape({label:p().node,value:p().any,isDisabled:p().bool})]))])).isRequired,value:p().oneOfType([p().number,p().string]),isDisabled:p().bool,disabled:p().bool,readOnly:p().bool,onChange:p().func,menuX:p().oneOf(["left","center","right"]),optionLabelProp:p().string,arrowSvg:p().oneOfType([p().string,p().node])}),g(ee,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:V.t4.rH});class E extends i.PureComponent{constructor(){super(...arguments),g(this,"state",{isDownward:!0}),g(this,"portal",(0,V.ep)(R,"SelectMenuPortal")),g(this,"menuBaseRef",(0,i.createRef)()),g(this,"position",se=>{const{$select:fe,menuX:Me}=this.props,{menuBaseRef:{current:Ae}}=this;if(se){const Ue=Z()(se,"target");if(Ue&&G()(Ue)&&Ue.matches(".SelectMenu"))return}const{isDownward:Re}=(0,U.d)({$menuBase:Ae,$opener:fe,menuX:Me,shouldSetMaxHeight:!0});this.setState({isDownward:Re})}),g(this,"onChange",se=>{const{onChange:fe}=this.props,{isDownward:Me}=this.state,Ae=se.currentTarget,Re=Ae.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Ae||!Re)return this.onlose();const{top:Ue,bottom:He}=Ae.getBoundingClientRect(),{top:$e,bottom:ve}=Re.getBoundingClientRect();return Me&&Ue>=$e||!Me&&He<=ve?Ae.classList.contains("title")?void 0:fe(se):this.onClose()}),g(this,"onClose",()=>{const{onClose:se}=this.props;se()}),g(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:se}}=this,fe=(0,V.$)("li[role=option].is-active",se);fe&&fe.scrollIntoView({block:"start"})}),g(this,"onClickOutside",se=>{let{target:fe}=se;const{$select:Me}=this.props,Ae=!R.contains(fe),Re=fe.closest("label"),Ue=Re&&Re.contains(Me);Ae&&!Ue&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:se}}=this;(0,V.sA)((0,V.$)(".SelectMenu",se))}componentDidUpdate(se){let{isOpen:fe}=se;const{isOpen:Me}=this.props;!fe&&Me&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,y.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:se,isDisabled:fe,menuTheme:Me,menuClassName:Ae,menuX:Re,optionList:Ue,lang:He,emptyMsg:$e,value:ve,canSelect:Y}=this.props,{isDownward:$}=this.state,he=Ue.length===0,_e=(0,V.Hn)([Me==="core"?"CoreSelectMenu":Me==="check"?"CheckSelectMenu":"SelectMenu",Ae,"x-"+Re,se&&"is-open",$?"is-downward":"is-upward",fe&&"is-disabled",he&&"is-empty",Y?"can-select":"cant-select"]);return(0,c.jsx)(b,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,c.jsxs)(x,{className:_e,onTransitionEnd:this.onTransitionEnd,children:[he?(0,c.jsx)("li",{className:"SelectOption empty-msg",children:$e||S[He].select_empty_msg}):Ue.map((we,Be)=>P()(we)?(0,c.jsx)(B,{menuTheme:Me,optionList:we,value:ve,onChange:this.onChange},Be):(0,c.jsx)(X,{menuTheme:Me,isActive:(0,V.o3)(we,ve),option:we,isDisabled:we.isDisabled,onChange:this.onChange},Be)),se&&(0,c.jsx)(j.A,{target:document,onClick:(0,j.t)(this.onClickOutside,{capture:!0})}),se&&(0,c.jsx)(j.A,{target:document,onScroll:(0,j.t)(this.position,{capture:!0})})]})})}}g(E,"propTypes",{...ee.propTypes,isOpen:p().bool,canSelect:p().bool,onChange:p().func,onClose:p().func,$select:p().instanceOf(Element)}),g(E,"defaultProps",{isOpen:!1});function B(ne){let{value:se,optionList:[fe,...Me],menuTheme:Ae,onChange:Re}=ne;return(0,c.jsxs)("li",{className:"SelectGroup",children:[(0,c.jsx)(A.A,{className:"title",onClick:Re,children:fe}),(0,c.jsx)("ul",{children:Me.map((Ue,He)=>(0,c.jsx)(X,{menuTheme:Ae,option:Ue,isActive:(0,V.o3)(Ue,se),isDisabled:Ue.isDisabled,onChange:Re},He))})]})}B.propTypes={optionList:p().array,onChange:p().func,menuTheme:p().string,value:p().string};function X(ne){let{option:se,isActive:fe,isDisabled:Me,menuTheme:Ae,onChange:Re}=ne;const Ue=(0,V.Hn)(["SelectOption",fe&&"is-active",Me&&"is-disabled"]),He=(0,V.Oi)(se),$e=(0,V.nE)(se);return(0,c.jsxs)("li",{role:"option","data-value":$e,className:Ue,onClick:Me?void 0:Re,children:[(0,c.jsx)(A.A,{children:He}),Ae==="check"&&fe&&(0,c.jsx)(F.A,{name:"check"})]})}X.propTypes={option:p().oneOfType([p().node,p().object]),isActive:p().bool,isDisabled:p().bool,menuTheme:p().string,onChange:p().func}},10481:(Ce,ue,s)=>{"use strict";s.d(ue,{eB:()=>He,Ay:()=>Ue});var i=s(51044),y=s(60185),N=s(66748),p=s.n(N),j=s(480),re=s(60260),Z=s.n(re),z=s(77017),P=s.n(z),q=s(98236),J=s.n(q),te=s(17956),G=s.n(te),F=s(22379),A=s(28149),V=s(67231),U=s.n(V),a=s(68431),w=s.n(a);const b=9;function x(Y){let{$opener:$,$menuBase:he,menuBaseStyle:_e={},inflexible:we=!1,shouldSetMaxHeight:Be=!1,$menuContainer:n,$fontTip:De}=Y;if(!$||!he)return;const Ye=he.querySelector("*"),ut=((0,A.$)("li[role=option].is-active",Ye)||(0,A.$)("li[role=option]",Ye)||(0,A.$)("li[role=empty-msg]",Ye)).getBoundingClientRect(),pt=Ye.getBoundingClientRect(),lt={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},ft=an=>Object.assign(lt.styleFor$menuBase,an),Tt=an=>Object.assign(lt.styleFor$menu,an),Ct=an=>Object.assign(lt.styleFor$menuContainer,an),Ot=an=>Object.assign(lt.styleFor$fontTip,an),{offsetHeight:Pt}=Ye,bt=_e.width||$.offsetWidth,zt=_e.height||$.offsetHeight,en=$.getBoundingClientRect(),{top:jt,bottom:Gt,left:Wt}=Object.assign({top:en.top,right:en.right,bottom:en.bottom,left:en.left},_e);ft({top:jt+"px",left:Wt+"px",width:bt+"px",height:zt+"px"});const{innerHeight:sn}=window,kn=10,Mt=sn-10,Xn=jt+zt;let Ht=0,Ln=0;const Sn=(ut.top-pt.top)/.8;R(pt,ut)?Ht=-Math.min(Sn,jt):(Ln=ut.bottom/.8-pt.bottom/.8,Ht=-Sn+Ln);let Bn=0;return De&&(Bn=De.getBoundingClientRect().height),Xn+Pt+b+Ht+Bn<sn?(lt.isDownward=!0,R(pt,ut)?(Ct({top:Ht+"px"}),De&&Ot({top:Ht+pt.height/.8+"px",width:pt.width/.8+"px"})):(Ct({top:Ht+"px"}),n.scrollTop=Ln,De&&Ot({top:Ht+pt.height/.8+"px",width:pt.width/.8+"px"})),Be&&Gt+Pt>Mt&&Tt({maxHeight:Mt-Gt+"px"})):(lt.isDownward=!1,Be&&jt-Pt<kn&&Tt({maxHeight:jt-kn+"px"})),Object.assign(he.style,lt.styleFor$menuBase),Object.assign(Ye.style,lt.styleFor$menu),Object.assign(n.style,lt.styleFor$menuContainer),De&&Object.assign(De.style,lt.styleFor$fontTip),lt}function c(Y){return w()(Y)||U()(Y)||(0,i.isValidElement)(Y)?Y:Y.label||Y.value?Y.label||Y.value:void 0}function g(Y){return w()(Y)||U()(Y)?String(Y):Y.value||Y.label?String(Y.value||Y.label):void 0}function f(Y){return w()(Y)||U()(Y)?String(Y):Y.ItemIcon?String(Y.ItemIcon):void 0}function I(Y){return w()(Y)||U()(Y)?String(Y):Y.shortcutKey?String(Y.shortcutKey):void 0}function D(Y,$){return!!$&&g(Y)===String($)}const S='<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>';function R(Y,$){return $.top/.8>=Y.top/.8&&$.bottom/.8<=Y.bottom/.8}var O=s(21676);const ee=O.Ay.label.withConfig({displayName:"styles__StyledSelect",componentId:"sc-tgxfzg-0"})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:#5b6b73;cursor:pointer;button{display:block;height:100%;color:#1F292E;text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:8px;line-height:26px;}.caret{padding:0 11px;color:#7D8694;height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:transparent;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border:1px solid transparent;.caret{padding:0 11px;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"]),E=O.Ay.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-tgxfzg-1"})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:8px 0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);color:#fff;border-radius:2px;background-color:#1f292e;pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;margin:0;&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;border-radius:4px;background-color:#333;width:160px;padding:8px 0px;}> .divider{border-bottom:1px solid rgba(255,255,255,.1);margin:5px;}.SelectOption{display:flex;align-items:center;height:24px;line-height:24px;cursor:pointer;font-size:12px;font-weight:400;& > .Ellipsis{padding:0 16px 0 32px;min-width:160px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#fff;mix-blend-mode:normal;position:relative;}.shortcutkey{color:#999;float:right;}.svg-icon3 svg{color:#f2f4f5;width:12px;height:12px;position:relative;top:2px;}&.is-active .svg-icon2 svg{width:8px;height:6px;position:absolute;left:12px;top:9px;}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:#666;color:#fff;}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:#7d8694;}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:rgba(255,255,255,0.7);span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:#fff;margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:rgba(255,255,255,1);}}"]);var B=s(90503),X=s(57464);function ne(Y,$,he){return($=se($))in Y?Object.defineProperty(Y,$,{value:he,enumerable:!0,configurable:!0,writable:!0}):Y[$]=he,Y}function se(Y){var $=fe(Y,"string");return typeof $=="symbol"?$:$+""}function fe(Y,$){if(typeof Y!="object"||!Y)return Y;var he=Y[Symbol.toPrimitive];if(he!==void 0){var _e=he.call(Y,$||"default");if(typeof _e!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(Y)}const Me="IBOT_SELECT_MENU_ROOT",Ae=document.getElementById(Me)||Object.assign(document.createElement("div"),{id:Me}),Re=document.body;Re.contains(Ae)||Re.appendChild(Ae);class Ue extends i.PureComponent{constructor(){super(...arguments),ne(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),ne(this,"set$select",$=>this.setState({$select:$})),ne(this,"open",()=>this.setState({isOpen:!0})),ne(this,"close",()=>this.setState({isOpen:!1})),ne(this,"toggle",()=>{const $=!this.state.isOpen;this.setState({isOpen:$}),$?this.props.onOpen():this.props.onClose()}),ne(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),ne(this,"onChange",$=>this.setState({value:$},()=>{this.close(),this.props.onChange($,this.props.attr)})),ne(this,"onSelect",$=>{let{currentTarget:he}=$;const{value:_e}=this.props,{canSelect:we}=this;return this.onChange(we?he.dataset.value:_e)})}static getDerivedStateFromProps($,he){let{prevProps:_e,value:we}=he;return J()(_e,$)?null:{prevProps:$,value:$.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:$,disabled:he}=this.props;return $||he}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:$,readOnly:he}=this;return!$&&!he}get displayText(){const{optionList:$,placeholder:he}=this.props,{value:_e}=this.state,Be=($.find(n=>P()(n)&&n.slice(0).some(De=>D(De,_e)))||$).find(n=>!P()(n)&&D(n,_e));return Be?c(Be):he}render(){const{size:$,unstyled:he,className:_e,onMouseEnter:we,onMouseLeave:Be,arrowSvg:n}=this.props,{isOpen:De,$select:Ye,value:qe}=this.state,{isDisabled:ut,readOnly:pt,canSelect:lt}=this,ft=(0,A.Hn)(["WorkspaceSelect",$,he&&"unstyled",_e,De&&"is-open",ut&&"is-disabled",pt&&"readonly"]);return(0,X.jsxs)(ee,{className:ft,role:"listbox",ref:this.set$select,children:[(0,X.jsx)("button",{onClick:this.toggle,disabled:ut,children:this.displayText}),typeof n=="string"?(0,X.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:n}}):(0,X.jsx)("span",{className:"caret",children:n}),De&&(0,X.jsx)(He,{isOpen:De,...this.props,value:qe,$select:Ye,canSelect:lt,onChange:this.onSelect,onMouseEnter:we,onMouseLeave:Be,onClose:this.close})]})}}ne(Ue,"propTypes",{size:p().oneOf(["regular","small"]),theme:p().oneOf(["core","plain"]),menuTheme:p().oneOf(["core","plain","check"]),unstyled:p().bool,className:p().string,menuClassName:p().string,placeholder:p().string,optionList:p().arrayOf(p().oneOfType([p().node,p().shape({label:p().node,shortcutKey:p().node,tooltipWrapper:p().func,ItemIcon:p().node,value:p().any,isDisabled:p().bool}),p().arrayOf(p().oneOfType([p().node,p().shape({label:p().node,ItemIcon:p().node,value:p().any,shortcutKey:p().node,tooltipWrapper:p().func,isDisabled:p().bool})]))])).isRequired,value:p().oneOfType([p().number,p().string]),isDisabled:p().bool,disabled:p().bool,readOnly:p().bool,onChange:p().func,onMouseEnter:p().func,onMouseLeave:p().func,onOpen:p().func,onClose:p().func,arrowSvg:p().oneOfType([p().string,p().node])}),ne(Ue,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one\u2026",emptyMsg:"Nothing to display\u2026",optionList:[],isDisabled:!1,arrowSvg:S,onChange:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onOpen:()=>null,onClose:()=>null});class He extends i.PureComponent{constructor(){super(...arguments),ne(this,"state",{isDownward:!0}),ne(this,"portal",(0,A.ep)(Ae,"SelectMenuPortal")),ne(this,"menuBaseRef",(0,i.createRef)()),ne(this,"menuContainerRef",(0,i.createRef)()),ne(this,"position",$=>{const{$select:he}=this.props,{menuBaseRef:{current:_e},menuContainerRef:{current:we}}=this;if($){const n=Z()($,"target");if(n&&G()(n)&&n.matches(".WorkspaceSelectMenu"))return}const{isDownward:Be}=x({$menuBase:_e,$opener:he,shouldSetMaxHeight:!1,$menuContainer:we});this.setState({isDownward:Be,isTransform:!0})}),ne(this,"onChange",$=>{const{onChange:he}=this.props,{isDownward:_e}=this.state,we=$.currentTarget,Be=we.closest(".WorkspaceSelectMenu");if(!we||!Be)return this.onlose();const{top:n,bottom:De}=we.getBoundingClientRect(),{top:Ye,bottom:qe}=Be.getBoundingClientRect();return _e&&n>=Ye||!_e&&De<=qe?we.classList.contains("title")?void 0:he($):this.onClose()}),ne(this,"onClose",()=>{const{onClose:$}=this.props;$()}),ne(this,"onClickOutside",$=>{let{target:he}=$;const{$select:_e}=this.props,we=!Ae.contains(he),Be=he.closest("label"),n=Be&&Be.contains(_e);we&&!n&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:$}}=this;(0,A.sA)((0,A.$)(".WorkspaceSelectMenu",$)),this.position()}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,y.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:$,isDisabled:he,menuTheme:_e,menuClassName:we,optionList:Be,emptyMsg:n,value:De,canSelect:Ye,onMouseEnter:qe,onMouseLeave:ut}=this.props,{isDownward:pt,isTransform:lt}=this.state,ft=Be.length===0,Tt=(0,A.Hn)(["WorkspaceSelectMenu",we,lt&&"is-open",pt?"is-downward":"is-upward",he&&"is-disabled",ft&&"is-empty",Ye?"can-select":"cant-select"]);return(0,X.jsxs)(E,{ref:this.menuBaseRef,children:[(0,X.jsx)("ul",{className:Tt,ref:this.menuContainerRef,children:ft?(0,X.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:n}):Be.map((Ct,Ot)=>P()(Ct)?(0,X.jsx)($e,{menuTheme:_e,optionList:Ct,value:De,onChange:this.onChange,onMouseEnter:qe,onMouseLeave:ut},Ot):(0,X.jsx)(ve,{menuTheme:_e,isActive:D(Ct,De),option:Ct,isDisabled:Ct.isDisabled,onChange:this.onChange,onMouseEnter:qe,onMouseLeave:ut},Ot))}),$&&(0,X.jsx)(j.A,{target:document,onClick:this.onClickOutside})]})}}ne(He,"propTypes",{...Ue.propTypes,isOpen:p().bool,canSelect:p().bool,onChange:p().func,onClose:p().func,$select:p().instanceOf(Element)}),ne(He,"defaultProps",{isOpen:!1,isTransform:!1});function $e(Y){let{value:$,optionList:[he,..._e],menuTheme:we,onChange:Be,onMouseEnter:n,onMouseLeave:De}=Y;return(0,X.jsxs)("li",{className:"SelectGroup",children:[he==="HIDDELINE"?null:he==="DIVIDER"?(0,X.jsx)("div",{className:"divider"}):(0,X.jsx)(F.A,{className:"title",onClick:Be,children:he}),(0,X.jsx)("ul",{children:_e.map((Ye,qe)=>(0,X.jsx)(ve,{menuTheme:we,option:Ye,isActive:D(Ye,$),isDisabled:Ye.isDisabled,onChange:Be,onMouseEnter:n,onMouseLeave:De},qe))})]})}$e.propTypes={value:p().oneOfType([p().string,p().number]),optionList:p().array,onChange:p().func,menuTheme:p().string,onMouseEnter:p().func,onMouseLeave:p().func};function ve(Y){let{option:$,isActive:he,isDisabled:_e,menuTheme:we,onChange:Be,onMouseEnter:n,onMouseLeave:De}=Y;const Ye=(0,A.Hn)(["SelectOption",he&&"is-active",_e&&"is-disabled"]),qe=c($),ut=g($),pt=f($),lt=I($),{tooltipWrapper:ft}=$;if($.type==="divider")return(0,X.jsx)("li",{className:"divider"});const Tt=(0,X.jsxs)("li",{role:"option","data-value":ut,className:Ye,onClick:_e?void 0:Be,onMouseEnter:n,onMouseLeave:De,children:[he&&(0,X.jsx)("span",{className:"svg-icon2",children:(0,X.jsx)(B.A,{name:"select_right"})}),(0,X.jsxs)(F.A,{children:[(0,X.jsxs)("span",{className:"svg-icon3",children:[(0,X.jsx)(B.A,{name:pt})," "]})," ",qe,"  ",(0,X.jsxs)("span",{className:"shortcutkey",children:[lt," "]})]})]});return ft?ft(Tt):Tt}ve.propTypes={isActive:p().bool,option:p().oneOfType([p().node,p().object]),isDisabled:p().bool,menuTheme:p().string,onChange:p().func,onMouseEnter:p().func,onMouseLeave:p().func}},11334:(Ce,ue,s)=>{"use strict";s.d(ue,{Ay:()=>A});var i=s(51044),y=s(66748),N=s.n(y),p=s(70235),j=s.n(p),re=s(90503),Z=s(28149),z=s(21676);const P=z.Ay.button.withConfig({displayName:"styled__StyledButton",componentId:"sc-1p06iev-0"})(["&.RegularButton,&.PrimaryButton,&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 0.5em;height:2.125rem;font-size:0.875rem;border:1px solid;border-radius:2px;cursor:pointer;transition:all 0.2s ease-out;&:not(button){display:inline-flex;justify-content:center;align-items:center;}&:disabled{cursor:not-allowed;opacity:0.6;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}.svg-icon.loading{margin-right:0.5em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}}&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 1em;height:2.375rem;&.small{height:2em;}&:disabled{background-color:#f6f7f8;border-color:#dedee4;color:#c8cdd1;opacity:1;}}&.PrimaryCoreButton{background-color:#eb5648;&,&:link,&:visited{border-color:transparent;color:#fff;}&:enabled:hover,a&:hover{background-color:#ef776c;color:#fff;}&:enabled:active,a&:active{background-color:#bc4439;color:#e4b4b0;}}&.RegularCoreButton,&.SecondaryCoreButton{background-color:#fff;&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{border-color:#ffa39e;color:#ef776c;}&:enabled:active,a&:active{border-color:#e84030;color:#bc4439;}}&.TertiaryCoreButton{background-color:#fff;border-color:#c8cdd1;&,&:link,&:visited{color:#415058;}&:enabled:hover,a&:hover{background-color:#8d9ea7;border-color:#7d8694;color:#fff;}&:enabled:active,a&:active{background-color:#5b6b73;border-color:#415058;}}&.RegularButton{&,&:link,&:visited{color:#8d9ea7;}&:enabled:hover,a&:hover{color:#5b6b73;}&:disabled{opacity:0.6;}}&.PrimaryButton{background-color:#8d9ea7;border-color:transparent;&,&:link,&:visited{color:#fff;}&:enabled:hover,a&:hover{background-color:#5b6b73;color:#fff;}&:enabled:active,a&:active{color:rgba(255,255,255,0.6);}}&.TextButton,&.TextCoreButton{transition:all 0.1s ease-out;&,&:link,&:visited{color:#298df8;}&:disabled{cursor:not-allowed;opacity:0.6;}&:enabled:hover,a&:hover{color:#0d7ef7;text-decoration:underline;}.svg-icon.loading{margin-right:0.25em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}}&.TextCoreButton{&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{color:#ef776c;text-decoration:none;}&:enabled:active,a&:active{color:#bc4439;}}"]);var q=s(57464);function J(w,b,x){return(b=te(b))in w?Object.defineProperty(w,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[b]=x,w}function te(w){var b=G(w,"string");return typeof b=="symbol"?b:b+""}function G(w,b){if(typeof w!="object"||!w)return w;var x=w[Symbol.toPrimitive];if(x!==void 0){var c=x.call(w,b||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(w)}const F={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"};class A extends i.PureComponent{get className(){const{type:b,theme:x,size:c,className:g}=this.props,{isDisabled:f,isLoading:I}=this;return(0,Z.Hn)(["Button",""+F[b]+(x==="core"?"CoreButton":"Button"),c!=="regular"&&c,I&&"is-loading",f&&"is-disabled",g])}get isDisabled(){const{isDisabled:b,disabled:x}=this.props;return b||x}get isLoading(){const{isLoading:b,loading:x}=this.props;return b||x}render(){const{className:b,isLoading:x,isDisabled:c}=this,{iconType:g,icon:f,children:I,...D}=this.props;return(0,q.jsx)(P,{className:b,disabled:c,onClick:S=>c&&S.preventDefault(),type:"button",...j()(D,["className","type","theme","isDisabled","disabled","isLoading","loading"]),children:(0,q.jsxs)(q.Fragment,{children:[x&&(0,q.jsx)(re.A,{name:"loading"}),f&&g==="svg"&&(0,q.jsx)(re.A,{name:f}),I]})})}}J(A,"propTypes",{type:N().oneOf(["primary","regular","secondary","tertiary","text"]),size:N().oneOf(["regular","small"]),theme:N().oneOf(["core","plain"]),iconType:N().oneOf(["svg","dora","mb","icon","fa","md"]),icon:N().string,className:N().string,isDisabled:N().bool,disabled:N().bool,isLoading:N().bool,loading:N().bool,children:N().any,html:N().string}),J(A,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1});function V(w){return _jsx(A,{...w,theme:"core"})}function U(w){return _jsx(V,{...w,type:"primary"})}function a(w){return _jsx(V,{...w,type:"tertiary"})}},35736:function(Ce){(function(ue,s){Ce.exports=s()})(this,function(){"use strict";return function(ue,s,i){s.prototype.isBetween=function(y,N,p,j){var re=i(y),Z=i(N),z=(j=j||"()")[0]==="(",P=j[1]===")";return(z?this.isAfter(re,p):!this.isBefore(re,p))&&(P?this.isBefore(Z,p):!this.isAfter(Z,p))||(z?this.isBefore(re,p):!this.isAfter(re,p))&&(P?this.isAfter(Z,p):!this.isBefore(Z,p))}}})},54466:function(Ce){(function(ue,s){Ce.exports=s()})(this,function(){"use strict";return function(ue,s){s.prototype.isSameOrBefore=function(i,y){return this.isSame(i,y)||this.isBefore(i,y)}}})},36410:Ce=>{function ue(s,i,y,N){var p=-1,j=s==null?0:s.length;for(N&&j&&(y=s[++p]);++p<j;)y=i(y,s[p],p,s);return y}Ce.exports=ue},38621:Ce=>{var ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function s(i){return i.match(ue)||[]}Ce.exports=s},52304:Ce=>{function ue(s){return function(i){return s==null?void 0:s[i]}}Ce.exports=ue},48843:(Ce,ue,s)=>{var i=s(36410),y=s(76628),N=s(83453),p="['\u2019]",j=RegExp(p,"g");function re(Z){return function(z){return i(N(y(z).replace(j,"")),Z,"")}}Ce.exports=re},84394:(Ce,ue,s)=>{var i=s(25627);function y(N){return i(N)?void 0:N}Ce.exports=y},32575:(Ce,ue,s)=>{var i=s(52304),y={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},N=i(y);Ce.exports=N},95416:(Ce,ue,s)=>{var i=s(66202),y=s(61965),N=s(29513);function p(j){return N(y(j,void 0,i),j+"")}Ce.exports=p},49298:Ce=>{var ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function s(i){return ue.test(i)}Ce.exports=s},32921:Ce=>{var ue="\\ud800-\\udfff",s="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",y="\\u20d0-\\u20ff",N=s+i+y,p="\\u2700-\\u27bf",j="a-z\\xdf-\\xf6\\xf8-\\xff",re="\\xac\\xb1\\xd7\\xf7",Z="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",z="\\u2000-\\u206f",P=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",q="A-Z\\xc0-\\xd6\\xd8-\\xde",J="\\ufe0e\\ufe0f",te=re+Z+z+P,G="['\u2019]",F="["+te+"]",A="["+N+"]",V="\\d+",U="["+p+"]",a="["+j+"]",w="[^"+ue+te+V+p+j+q+"]",b="\\ud83c[\\udffb-\\udfff]",x="(?:"+A+"|"+b+")",c="[^"+ue+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",I="["+q+"]",D="\\u200d",S="(?:"+a+"|"+w+")",R="(?:"+I+"|"+w+")",O="(?:"+G+"(?:d|ll|m|re|s|t|ve))?",ee="(?:"+G+"(?:D|LL|M|RE|S|T|VE))?",E=x+"?",B="["+J+"]?",X="(?:"+D+"(?:"+[c,g,f].join("|")+")"+B+E+")*",ne="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",se="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fe=B+E+X,Me="(?:"+[U,g,f].join("|")+")"+fe,Ae=RegExp([I+"?"+a+"+"+O+"(?="+[F,I,"$"].join("|")+")",R+"+"+ee+"(?="+[F,I+S,"$"].join("|")+")",I+"?"+S+"+"+O,I+"+"+ee,se,ne,V,Me].join("|"),"g");function Re(Ue){return Ue.match(Ae)||[]}Ce.exports=Re},76628:(Ce,ue,s)=>{var i=s(32575),y=s(67998),N=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,p="\\u0300-\\u036f",j="\\ufe20-\\ufe2f",re="\\u20d0-\\u20ff",Z=p+j+re,z="["+Z+"]",P=RegExp(z,"g");function q(J){return J=y(J),J&&J.replace(N,i).replace(P,"")}Ce.exports=q},66202:(Ce,ue,s)=>{var i=s(72840);function y(N){var p=N==null?0:N.length;return p?i(N,1):[]}Ce.exports=y},17956:(Ce,ue,s)=>{var i=s(23522),y=s(25627);function N(p){return i(p)&&p.nodeType===1&&!y(p)}Ce.exports=N},25627:(Ce,ue,s)=>{var i=s(22256),y=s(41703),N=s(23522),p="[object Object]",j=Function.prototype,re=Object.prototype,Z=j.toString,z=re.hasOwnProperty,P=Z.call(Object);function q(J){if(!N(J)||i(J)!=p)return!1;var te=y(J);if(te===null)return!0;var G=z.call(te,"constructor")&&te.constructor;return typeof G=="function"&&G instanceof G&&Z.call(G)==P}Ce.exports=q},70235:(Ce,ue,s)=>{var i=s(79228),y=s(99159),N=s(92547),p=s(86225),j=s(80167),re=s(84394),Z=s(95416),z=s(94397),P=1,q=2,J=4,te=Z(function(G,F){var A={};if(G==null)return A;var V=!1;F=i(F,function(a){return a=p(a,G),V||(V=a.length>1),a}),j(G,z(G),A),V&&(A=y(A,P|q|J,re));for(var U=F.length;U--;)N(A,F[U]);return A});Ce.exports=te},63924:(Ce,ue,s)=>{var i=s(48843),y=i(function(N,p,j){return N+(j?"_":"")+p.toLowerCase()});Ce.exports=y},83453:(Ce,ue,s)=>{var i=s(38621),y=s(49298),N=s(67998),p=s(32921);function j(re,Z,z){return re=N(re),Z=z?void 0:Z,Z===void 0?y(re)?p(re):i(re):re.match(Z)||[]}Ce.exports=j},43441:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>F});var i=s(18824),y=s(95211),N=s(7043);function p(A,V){return A.classList?!!V&&A.classList.contains(V):(" "+(A.className.baseVal||A.className)+" ").indexOf(" "+V+" ")!==-1}function j(A,V){A.classList?A.classList.add(V):p(A,V)||(typeof A.className=="string"?A.className=A.className+" "+V:A.setAttribute("class",(A.className&&A.className.baseVal||"")+" "+V))}function re(A,V){return A.replace(new RegExp("(^|\\s)"+V+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Z(A,V){A.classList?A.classList.remove(V):typeof A.className=="string"?A.className=re(A.className,V):A.setAttribute("class",re(A.className&&A.className.baseVal||"",V))}var z=s(51044),P=s(93218),q=s(41083),J=function(V,U){return V&&U&&U.split(" ").forEach(function(a){return j(V,a)})},te=function(V,U){return V&&U&&U.split(" ").forEach(function(a){return Z(V,a)})},G=function(A){(0,N.A)(V,A);function V(){for(var a,w=arguments.length,b=new Array(w),x=0;x<w;x++)b[x]=arguments[x];return a=A.call.apply(A,[this].concat(b))||this,a.appliedClasses={appear:{},enter:{},exit:{}},a.onEnter=function(c,g){var f=a.resolveArguments(c,g),I=f[0],D=f[1];a.removeClasses(I,"exit"),a.addClass(I,D?"appear":"enter","base"),a.props.onEnter&&a.props.onEnter(c,g)},a.onEntering=function(c,g){var f=a.resolveArguments(c,g),I=f[0],D=f[1],S=D?"appear":"enter";a.addClass(I,S,"active"),a.props.onEntering&&a.props.onEntering(c,g)},a.onEntered=function(c,g){var f=a.resolveArguments(c,g),I=f[0],D=f[1],S=D?"appear":"enter";a.removeClasses(I,S),a.addClass(I,S,"done"),a.props.onEntered&&a.props.onEntered(c,g)},a.onExit=function(c){var g=a.resolveArguments(c),f=g[0];a.removeClasses(f,"appear"),a.removeClasses(f,"enter"),a.addClass(f,"exit","base"),a.props.onExit&&a.props.onExit(c)},a.onExiting=function(c){var g=a.resolveArguments(c),f=g[0];a.addClass(f,"exit","active"),a.props.onExiting&&a.props.onExiting(c)},a.onExited=function(c){var g=a.resolveArguments(c),f=g[0];a.removeClasses(f,"exit"),a.addClass(f,"exit","done"),a.props.onExited&&a.props.onExited(c)},a.resolveArguments=function(c,g){return a.props.nodeRef?[a.props.nodeRef.current,c]:[c,g]},a.getClassNames=function(c){var g=a.props.classNames,f=typeof g=="string",I=f&&g?g+"-":"",D=f?""+I+c:g[c],S=f?D+"-active":g[c+"Active"],R=f?D+"-done":g[c+"Done"];return{baseClassName:D,activeClassName:S,doneClassName:R}},a}var U=V.prototype;return U.addClass=function(w,b,x){var c=this.getClassNames(b)[x+"ClassName"],g=this.getClassNames("enter"),f=g.doneClassName;b==="appear"&&x==="done"&&f&&(c+=" "+f),x==="active"&&w&&(0,q.F)(w),c&&(this.appliedClasses[b][x]=c,J(w,c))},U.removeClasses=function(w,b){var x=this.appliedClasses[b],c=x.base,g=x.active,f=x.done;this.appliedClasses[b]={},c&&te(w,c),g&&te(w,g),f&&te(w,f)},U.render=function(){var w=this.props,b=w.classNames,x=(0,y.A)(w,["classNames"]);return z.createElement(P.Ay,(0,i.A)({},x,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},V}(z.Component);G.defaultProps={classNames:""},G.propTypes={};const F=G},93218:(Ce,ue,s)=>{"use strict";s.d(ue,{Ay:()=>A});var i=s(95211),y=s(7043),N=s(51044),p=s(60185);const j={disabled:!1},re=N.createContext(null);var Z=s(41083),z="unmounted",P="exited",q="entering",J="entered",te="exiting",G=function(V){(0,y.A)(U,V);function U(w,b){var x;x=V.call(this,w,b)||this;var c=b,g=c&&!c.isMounting?w.enter:w.appear,f;return x.appearStatus=null,w.in?g?(f=P,x.appearStatus=q):f=J:w.unmountOnExit||w.mountOnEnter?f=z:f=P,x.state={status:f},x.nextCallback=null,x}U.getDerivedStateFromProps=function(b,x){var c=b.in;return c&&x.status===z?{status:P}:null};var a=U.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(b){var x=null;if(b!==this.props){var c=this.state.status;this.props.in?c!==q&&c!==J&&(x=q):(c===q||c===J)&&(x=te)}this.updateStatus(!1,x)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var b=this.props.timeout,x,c,g;return x=c=g=b,b!=null&&typeof b!="number"&&(x=b.exit,c=b.enter,g=b.appear!==void 0?b.appear:c),{exit:x,enter:c,appear:g}},a.updateStatus=function(b,x){if(b===void 0&&(b=!1),x!==null)if(this.cancelNextCallback(),x===q){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this);c&&(0,Z.F)(c)}this.performEnter(b)}else this.performExit();else this.props.unmountOnExit&&this.state.status===P&&this.setState({status:z})},a.performEnter=function(b){var x=this,c=this.props.enter,g=this.context?this.context.isMounting:b,f=this.props.nodeRef?[g]:[p.findDOMNode(this),g],I=f[0],D=f[1],S=this.getTimeouts(),R=g?S.appear:S.enter;if(!b&&!c||j.disabled){this.safeSetState({status:J},function(){x.props.onEntered(I)});return}this.props.onEnter(I,D),this.safeSetState({status:q},function(){x.props.onEntering(I,D),x.onTransitionEnd(R,function(){x.safeSetState({status:J},function(){x.props.onEntered(I,D)})})})},a.performExit=function(){var b=this,x=this.props.exit,c=this.getTimeouts(),g=this.props.nodeRef?void 0:p.findDOMNode(this);if(!x||j.disabled){this.safeSetState({status:P},function(){b.props.onExited(g)});return}this.props.onExit(g),this.safeSetState({status:te},function(){b.props.onExiting(g),b.onTransitionEnd(c.exit,function(){b.safeSetState({status:P},function(){b.props.onExited(g)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(b,x){x=this.setNextCallback(x),this.setState(b,x)},a.setNextCallback=function(b){var x=this,c=!0;return this.nextCallback=function(g){c&&(c=!1,x.nextCallback=null,b(g))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},a.onTransitionEnd=function(b,x){this.setNextCallback(x);var c=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this),g=b==null&&!this.props.addEndListener;if(!c||g){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],I=f[0],D=f[1];this.props.addEndListener(I,D)}b!=null&&setTimeout(this.nextCallback,b)},a.render=function(){var b=this.state.status;if(b===z)return null;var x=this.props,c=x.children,g=x.in,f=x.mountOnEnter,I=x.unmountOnExit,D=x.appear,S=x.enter,R=x.exit,O=x.timeout,ee=x.addEndListener,E=x.onEnter,B=x.onEntering,X=x.onEntered,ne=x.onExit,se=x.onExiting,fe=x.onExited,Me=x.nodeRef,Ae=(0,i.A)(x,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return N.createElement(re.Provider,{value:null},typeof c=="function"?c(b,Ae):N.cloneElement(N.Children.only(c),Ae))},U}(N.Component);G.contextType=re,G.propTypes={};function F(){}G.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:F,onEntering:F,onEntered:F,onExit:F,onExiting:F,onExited:F},G.UNMOUNTED=z,G.EXITED=P,G.ENTERING=q,G.ENTERED=J,G.EXITING=te;const A=G},41083:(Ce,ue,s)=>{"use strict";s.d(ue,{F:()=>i});var i=function(N){return N.scrollTop}},82928:(Ce,ue)=>{"use strict";var s;s={value:!0};var i=Object.assign||function(re){for(var Z=1;Z<arguments.length;Z++){var z=arguments[Z];for(var P in z)Object.prototype.hasOwnProperty.call(z,P)&&(re[P]=z[P])}return re},y=function(){var Z=null,z={},P=function(F){var A=z[F.type];return A&&A(Z,F)},q=function(F){if(typeof F.getState!="function"||typeof F.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(Z!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return Z=F,function(A){return function(V){return P(V)===!0||A(V)}}},J=function(F,A){if(typeof F!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+F);if(typeof A!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+F+", "+A);z[F]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+F),z[F]=A},te=function(F){return Object.keys(F).forEach(function(A){return J(A,F[A])})};return{middleware:q,setEntry:J,setEntryMap:te}},N=function(Z){if(Z===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return Z},setState:function(P){return Z=P},wrapEntry:function(P){return function(q,J){return P(Z,q,J)}}}},p=function(Z,z){var P=z.getState,q=z.setState;return function(J,te){var G=te.type,F=te.payload;return G===Z&&q(F),P()}},j=function(Z,z){var P=z.getState,q=z.setState;return function(J,te){var G=te.type,F=te.payload;return G===Z&&q(i({},P(),F)),P()}};ue.RZ=y,ue.J$=N,ue.Tf=p,s=j},28055:(Ce,ue,s)=>{"use strict";s.d(ue,{Tw:()=>g,HY:()=>w,Zz:()=>c,y$:()=>F,Yl:()=>A});var i=s(74059);function y(f,I){var D=Object.keys(f);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(f);I&&(S=S.filter(function(R){return Object.getOwnPropertyDescriptor(f,R).enumerable})),D.push.apply(D,S)}return D}function N(f){for(var I=1;I<arguments.length;I++){var D=arguments[I]!=null?arguments[I]:{};I%2?y(Object(D),!0).forEach(function(S){(0,i.A)(f,S,D[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(D)):y(Object(D)).forEach(function(S){Object.defineProperty(f,S,Object.getOwnPropertyDescriptor(D,S))})}return f}function p(f){return"Minified Redux error #"+f+"; visit https://redux.js.org/Errors?code="+f+" for the full message or use the non-minified dev environment for full errors. "}var j=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),re=function(){return Math.random().toString(36).substring(7).split("").join(".")},Z={INIT:"@@redux/INIT"+re(),REPLACE:"@@redux/REPLACE"+re(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+re()}};function z(f){if(typeof f!="object"||f===null)return!1;for(var I=f;Object.getPrototypeOf(I)!==null;)I=Object.getPrototypeOf(I);return Object.getPrototypeOf(f)===I}function P(f){if(f===void 0)return"undefined";if(f===null)return"null";var I=typeof f;switch(I){case"boolean":case"string":case"number":case"symbol":case"function":return I}if(Array.isArray(f))return"array";if(te(f))return"date";if(J(f))return"error";var D=q(f);switch(D){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return D}return I.slice(8,-1).toLowerCase().replace(/\s/g,"")}function q(f){return typeof f.constructor=="function"?f.constructor.name:null}function J(f){return f instanceof Error||typeof f.message=="string"&&f.constructor&&typeof f.constructor.stackTraceLimit=="number"}function te(f){return f instanceof Date?!0:typeof f.toDateString=="function"&&typeof f.getDate=="function"&&typeof f.setDate=="function"}function G(f){var I=typeof f;return I}function F(f,I,D){var S;if(typeof I=="function"&&typeof D=="function"||typeof D=="function"&&typeof arguments[3]=="function")throw new Error(p(0));if(typeof I=="function"&&typeof D>"u"&&(D=I,I=void 0),typeof D<"u"){if(typeof D!="function")throw new Error(p(1));return D(F)(f,I)}if(typeof f!="function")throw new Error(p(2));var R=f,O=I,ee=[],E=ee,B=!1;function X(){E===ee&&(E=ee.slice())}function ne(){if(B)throw new Error(p(3));return O}function se(Re){if(typeof Re!="function")throw new Error(p(4));if(B)throw new Error(p(5));var Ue=!0;return X(),E.push(Re),function(){if(Ue){if(B)throw new Error(p(6));Ue=!1,X();var $e=E.indexOf(Re);E.splice($e,1),ee=null}}}function fe(Re){if(!z(Re))throw new Error(p(7));if(typeof Re.type>"u")throw new Error(p(8));if(B)throw new Error(p(9));try{B=!0,O=R(O,Re)}finally{B=!1}for(var Ue=ee=E,He=0;He<Ue.length;He++){var $e=Ue[He];$e()}return Re}function Me(Re){if(typeof Re!="function")throw new Error(p(10));R=Re,fe({type:Z.REPLACE})}function Ae(){var Re,Ue=se;return Re={subscribe:function($e){if(typeof $e!="object"||$e===null)throw new Error(p(11));function ve(){$e.next&&$e.next(ne())}ve();var Y=Ue(ve);return{unsubscribe:Y}}},Re[j]=function(){return this},Re}return fe({type:Z.INIT}),S={dispatch:fe,subscribe:se,getState:ne,replaceReducer:Me},S[j]=Ae,S}var A=s.j!=15?F:null;function V(f){typeof console<"u"&&typeof console.error=="function"&&console.error(f);try{throw new Error(f)}catch(I){}}function U(f,I,D,S){var R=Object.keys(I),O=D&&D.type===Z.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(R.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!z(f))return"The "+O+' has unexpected type of "'+G(f)+'". Expected argument to be an object with the following '+('keys: "'+R.join('", "')+'"');var ee=Object.keys(f).filter(function(E){return!I.hasOwnProperty(E)&&!S[E]});if(ee.forEach(function(E){S[E]=!0}),!(D&&D.type===Z.REPLACE)&&ee.length>0)return"Unexpected "+(ee.length>1?"keys":"key")+" "+('"'+ee.join('", "')+'" found in '+O+". ")+"Expected to find one of the known reducer keys instead: "+('"'+R.join('", "')+'". Unexpected keys will be ignored.')}function a(f){Object.keys(f).forEach(function(I){var D=f[I],S=D(void 0,{type:Z.INIT});if(typeof S>"u")throw new Error(p(12));if(typeof D(void 0,{type:Z.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(p(13))})}function w(f){for(var I=Object.keys(f),D={},S=0;S<I.length;S++){var R=I[S];typeof f[R]=="function"&&(D[R]=f[R])}var O=Object.keys(D),ee,E;try{a(D)}catch(B){E=B}return function(X,ne){if(X===void 0&&(X={}),E)throw E;if(0)var se;for(var fe=!1,Me={},Ae=0;Ae<O.length;Ae++){var Re=O[Ae],Ue=D[Re],He=X[Re],$e=Ue(He,ne);if(typeof $e>"u"){var ve=ne&&ne.type;throw new Error(p(14))}Me[Re]=$e,fe=fe||$e!==He}return fe=fe||O.length!==Object.keys(X).length,fe?Me:X}}function b(f,I){return function(){return I(f.apply(this,arguments))}}function x(f,I){if(typeof f=="function")return b(f,I);if(typeof f!="object"||f===null)throw new Error(p(16));var D={};for(var S in f){var R=f[S];typeof R=="function"&&(D[S]=b(R,I))}return D}function c(){for(var f=arguments.length,I=new Array(f),D=0;D<f;D++)I[D]=arguments[D];return I.length===0?function(S){return S}:I.length===1?I[0]:I.reduce(function(S,R){return function(){return S(R.apply(void 0,arguments))}})}function g(){for(var f=arguments.length,I=new Array(f),D=0;D<f;D++)I[D]=arguments[D];return function(S){return function(){var R=S.apply(void 0,arguments),O=function(){throw new Error(p(15))},ee={getState:R.getState,dispatch:function(){return O.apply(void 0,arguments)}},E=I.map(function(B){return B(ee)});return O=c.apply(void 0,E)(R.dispatch),N(N({},R),{},{dispatch:O})}}}},7043:(Ce,ue,s)=>{"use strict";s.d(ue,{A:()=>y});function i(N,p){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,re){return j.__proto__=re,j},i(N,p)}function y(N,p){N.prototype=Object.create(p.prototype),N.prototype.constructor=N,i(N,p)}}}]);

//# sourceMappingURL=4.n9fxu-vendor-467a9fd0c00931b4b998.js.map